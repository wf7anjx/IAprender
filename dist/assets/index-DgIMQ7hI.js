function nS(s,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in s)){const c=Object.getOwnPropertyDescriptor(i,o);c&&Object.defineProperty(s,o,c.get?c:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();function rS(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Nm={exports:{}},Yl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X0;function sS(){if(X0)return Yl;X0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,o,c){var h=null;if(c!==void 0&&(h=""+c),o.key!==void 0&&(h=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:s,type:i,key:h,ref:o!==void 0?o:null,props:c}}return Yl.Fragment=e,Yl.jsx=n,Yl.jsxs=n,Yl}var W0;function iS(){return W0||(W0=1,Nm.exports=sS()),Nm.exports}var m=iS(),Cm={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z0;function aS(){if(Z0)return Ce;Z0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),E=Symbol.iterator;function T(k){return k===null||typeof k!="object"?null:(k=E&&k[E]||k["@@iterator"],typeof k=="function"?k:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,F={};function H(k,ne,de){this.props=k,this.context=ne,this.refs=F,this.updater=de||M}H.prototype.isReactComponent={},H.prototype.setState=function(k,ne){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,ne,"setState")},H.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function le(){}le.prototype=H.prototype;function ae(k,ne,de){this.props=k,this.context=ne,this.refs=F,this.updater=de||M}var ie=ae.prototype=new le;ie.constructor=ae,L(ie,H.prototype),ie.isPureReactComponent=!0;var Y=Array.isArray,oe={H:null,A:null,T:null,S:null,V:null},K=Object.prototype.hasOwnProperty;function C(k,ne,de,re,me,Ne){return de=Ne.ref,{$$typeof:s,type:k,key:ne,ref:de!==void 0?de:null,props:Ne}}function S(k,ne){return C(k.type,ne,void 0,void 0,void 0,k.props)}function R(k){return typeof k=="object"&&k!==null&&k.$$typeof===s}function N(k){var ne={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(de){return ne[de]})}var O=/\/+/g;function j(k,ne){return typeof k=="object"&&k!==null&&k.key!=null?N(""+k.key):ne.toString(36)}function I(){}function Qe(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(I,I):(k.status="pending",k.then(function(ne){k.status==="pending"&&(k.status="fulfilled",k.value=ne)},function(ne){k.status==="pending"&&(k.status="rejected",k.reason=ne)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function Ie(k,ne,de,re,me){var Ne=typeof k;(Ne==="undefined"||Ne==="boolean")&&(k=null);var Te=!1;if(k===null)Te=!0;else switch(Ne){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(k.$$typeof){case s:case e:Te=!0;break;case _:return Te=k._init,Ie(Te(k._payload),ne,de,re,me)}}if(Te)return me=me(k),Te=re===""?"."+j(k,0):re,Y(me)?(de="",Te!=null&&(de=Te.replace(O,"$&/")+"/"),Ie(me,ne,de,"",function(on){return on})):me!=null&&(R(me)&&(me=S(me,de+(me.key==null||k&&k.key===me.key?"":(""+me.key).replace(O,"$&/")+"/")+Te)),ne.push(me)),1;Te=0;var ke=re===""?".":re+":";if(Y(k))for(var Xe=0;Xe<k.length;Xe++)re=k[Xe],Ne=ke+j(re,Xe),Te+=Ie(re,ne,de,Ne,me);else if(Xe=T(k),typeof Xe=="function")for(k=Xe.call(k),Xe=0;!(re=k.next()).done;)re=re.value,Ne=ke+j(re,Xe++),Te+=Ie(re,ne,de,Ne,me);else if(Ne==="object"){if(typeof k.then=="function")return Ie(Qe(k),ne,de,re,me);throw ne=String(k),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return Te}function $(k,ne,de){if(k==null)return k;var re=[],me=0;return Ie(k,re,"","",function(Ne){return ne.call(de,Ne,me++)}),re}function ce(k){if(k._status===-1){var ne=k._result;ne=ne(),ne.then(function(de){(k._status===0||k._status===-1)&&(k._status=1,k._result=de)},function(de){(k._status===0||k._status===-1)&&(k._status=2,k._result=de)}),k._status===-1&&(k._status=0,k._result=ne)}if(k._status===1)return k._result.default;throw k._result}var se=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function ze(){}return Ce.Children={map:$,forEach:function(k,ne,de){$(k,function(){ne.apply(this,arguments)},de)},count:function(k){var ne=0;return $(k,function(){ne++}),ne},toArray:function(k){return $(k,function(ne){return ne})||[]},only:function(k){if(!R(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Ce.Component=H,Ce.Fragment=n,Ce.Profiler=o,Ce.PureComponent=ae,Ce.StrictMode=i,Ce.Suspense=g,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=oe,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(k){return oe.H.useMemoCache(k)}},Ce.cache=function(k){return function(){return k.apply(null,arguments)}},Ce.cloneElement=function(k,ne,de){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var re=L({},k.props),me=k.key,Ne=void 0;if(ne!=null)for(Te in ne.ref!==void 0&&(Ne=void 0),ne.key!==void 0&&(me=""+ne.key),ne)!K.call(ne,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&ne.ref===void 0||(re[Te]=ne[Te]);var Te=arguments.length-2;if(Te===1)re.children=de;else if(1<Te){for(var ke=Array(Te),Xe=0;Xe<Te;Xe++)ke[Xe]=arguments[Xe+2];re.children=ke}return C(k.type,me,void 0,void 0,Ne,re)},Ce.createContext=function(k){return k={$$typeof:h,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:c,_context:k},k},Ce.createElement=function(k,ne,de){var re,me={},Ne=null;if(ne!=null)for(re in ne.key!==void 0&&(Ne=""+ne.key),ne)K.call(ne,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(me[re]=ne[re]);var Te=arguments.length-2;if(Te===1)me.children=de;else if(1<Te){for(var ke=Array(Te),Xe=0;Xe<Te;Xe++)ke[Xe]=arguments[Xe+2];me.children=ke}if(k&&k.defaultProps)for(re in Te=k.defaultProps,Te)me[re]===void 0&&(me[re]=Te[re]);return C(k,Ne,void 0,void 0,null,me)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(k){return{$$typeof:p,render:k}},Ce.isValidElement=R,Ce.lazy=function(k){return{$$typeof:_,_payload:{_status:-1,_result:k},_init:ce}},Ce.memo=function(k,ne){return{$$typeof:y,type:k,compare:ne===void 0?null:ne}},Ce.startTransition=function(k){var ne=oe.T,de={};oe.T=de;try{var re=k(),me=oe.S;me!==null&&me(de,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(ze,se)}catch(Ne){se(Ne)}finally{oe.T=ne}},Ce.unstable_useCacheRefresh=function(){return oe.H.useCacheRefresh()},Ce.use=function(k){return oe.H.use(k)},Ce.useActionState=function(k,ne,de){return oe.H.useActionState(k,ne,de)},Ce.useCallback=function(k,ne){return oe.H.useCallback(k,ne)},Ce.useContext=function(k){return oe.H.useContext(k)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(k,ne){return oe.H.useDeferredValue(k,ne)},Ce.useEffect=function(k,ne,de){var re=oe.H;if(typeof de=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return re.useEffect(k,ne)},Ce.useId=function(){return oe.H.useId()},Ce.useImperativeHandle=function(k,ne,de){return oe.H.useImperativeHandle(k,ne,de)},Ce.useInsertionEffect=function(k,ne){return oe.H.useInsertionEffect(k,ne)},Ce.useLayoutEffect=function(k,ne){return oe.H.useLayoutEffect(k,ne)},Ce.useMemo=function(k,ne){return oe.H.useMemo(k,ne)},Ce.useOptimistic=function(k,ne){return oe.H.useOptimistic(k,ne)},Ce.useReducer=function(k,ne,de){return oe.H.useReducer(k,ne,de)},Ce.useRef=function(k){return oe.H.useRef(k)},Ce.useState=function(k){return oe.H.useState(k)},Ce.useSyncExternalStore=function(k,ne,de){return oe.H.useSyncExternalStore(k,ne,de)},Ce.useTransition=function(){return oe.H.useTransition()},Ce.version="19.1.0",Ce}var J0;function Cp(){return J0||(J0=1,Cm.exports=aS()),Cm.exports}var V=Cp();const Fs=rS(V),Jb=nS({__proto__:null,default:Fs},[V]);var Im={exports:{}},Kl={},Dm={exports:{}},Om={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e_;function oS(){return e_||(e_=1,function(s){function e($,ce){var se=$.length;$.push(ce);e:for(;0<se;){var ze=se-1>>>1,k=$[ze];if(0<o(k,ce))$[ze]=ce,$[se]=k,se=ze;else break e}}function n($){return $.length===0?null:$[0]}function i($){if($.length===0)return null;var ce=$[0],se=$.pop();if(se!==ce){$[0]=se;e:for(var ze=0,k=$.length,ne=k>>>1;ze<ne;){var de=2*(ze+1)-1,re=$[de],me=de+1,Ne=$[me];if(0>o(re,se))me<k&&0>o(Ne,re)?($[ze]=Ne,$[me]=se,ze=me):($[ze]=re,$[de]=se,ze=de);else if(me<k&&0>o(Ne,se))$[ze]=Ne,$[me]=se,ze=me;else break e}}return ce}function o($,ce){var se=$.sortIndex-ce.sortIndex;return se!==0?se:$.id-ce.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var h=Date,p=h.now();s.unstable_now=function(){return h.now()-p}}var g=[],y=[],_=1,E=null,T=3,M=!1,L=!1,F=!1,H=!1,le=typeof setTimeout=="function"?setTimeout:null,ae=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function Y($){for(var ce=n(y);ce!==null;){if(ce.callback===null)i(y);else if(ce.startTime<=$)i(y),ce.sortIndex=ce.expirationTime,e(g,ce);else break;ce=n(y)}}function oe($){if(F=!1,Y($),!L)if(n(g)!==null)L=!0,K||(K=!0,j());else{var ce=n(y);ce!==null&&Ie(oe,ce.startTime-$)}}var K=!1,C=-1,S=5,R=-1;function N(){return H?!0:!(s.unstable_now()-R<S)}function O(){if(H=!1,K){var $=s.unstable_now();R=$;var ce=!0;try{e:{L=!1,F&&(F=!1,ae(C),C=-1),M=!0;var se=T;try{t:{for(Y($),E=n(g);E!==null&&!(E.expirationTime>$&&N());){var ze=E.callback;if(typeof ze=="function"){E.callback=null,T=E.priorityLevel;var k=ze(E.expirationTime<=$);if($=s.unstable_now(),typeof k=="function"){E.callback=k,Y($),ce=!0;break t}E===n(g)&&i(g),Y($)}else i(g);E=n(g)}if(E!==null)ce=!0;else{var ne=n(y);ne!==null&&Ie(oe,ne.startTime-$),ce=!1}}break e}finally{E=null,T=se,M=!1}ce=void 0}}finally{ce?j():K=!1}}}var j;if(typeof ie=="function")j=function(){ie(O)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Qe=I.port2;I.port1.onmessage=O,j=function(){Qe.postMessage(null)}}else j=function(){le(O,0)};function Ie($,ce){C=le(function(){$(s.unstable_now())},ce)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function($){$.callback=null},s.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<$?Math.floor(1e3/$):5},s.unstable_getCurrentPriorityLevel=function(){return T},s.unstable_next=function($){switch(T){case 1:case 2:case 3:var ce=3;break;default:ce=T}var se=T;T=ce;try{return $()}finally{T=se}},s.unstable_requestPaint=function(){H=!0},s.unstable_runWithPriority=function($,ce){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var se=T;T=$;try{return ce()}finally{T=se}},s.unstable_scheduleCallback=function($,ce,se){var ze=s.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?ze+se:ze):se=ze,$){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=se+k,$={id:_++,callback:ce,priorityLevel:$,startTime:se,expirationTime:k,sortIndex:-1},se>ze?($.sortIndex=se,e(y,$),n(g)===null&&$===n(y)&&(F?(ae(C),C=-1):F=!0,Ie(oe,se-ze))):($.sortIndex=k,e(g,$),L||M||(L=!0,K||(K=!0,j()))),$},s.unstable_shouldYield=N,s.unstable_wrapCallback=function($){var ce=T;return function(){var se=T;T=ce;try{return $.apply(this,arguments)}finally{T=se}}}}(Om)),Om}var t_;function lS(){return t_||(t_=1,Dm.exports=oS()),Dm.exports}var jm={exports:{}},en={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n_;function cS(){if(n_)return en;n_=1;var s=Cp();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)y+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,y,_){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:g,containerInfo:y,implementation:_}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,en.createPortal=function(g,y){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(g,y,null,_)},en.flushSync=function(g){var y=h.T,_=i.p;try{if(h.T=null,i.p=2,g)return g()}finally{h.T=y,i.p=_,i.d.f()}},en.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,i.d.C(g,y))},en.prefetchDNS=function(g){typeof g=="string"&&i.d.D(g)},en.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var _=y.as,E=p(_,y.crossOrigin),T=typeof y.integrity=="string"?y.integrity:void 0,M=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;_==="style"?i.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:E,integrity:T,fetchPriority:M}):_==="script"&&i.d.X(g,{crossOrigin:E,integrity:T,fetchPriority:M,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},en.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var _=p(y.as,y.crossOrigin);i.d.M(g,{crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&i.d.M(g)},en.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var _=y.as,E=p(_,y.crossOrigin);i.d.L(g,_,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},en.preloadModule=function(g,y){if(typeof g=="string")if(y){var _=p(y.as,y.crossOrigin);i.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else i.d.m(g)},en.requestFormReset=function(g){i.d.r(g)},en.unstable_batchedUpdates=function(g,y){return g(y)},en.useFormState=function(g,y,_){return h.H.useFormState(g,y,_)},en.useFormStatus=function(){return h.H.useHostTransitionStatus()},en.version="19.1.0",en}var r_;function ex(){if(r_)return jm.exports;r_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),jm.exports=cS(),jm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s_;function uS(){if(s_)return Kl;s_=1;var s=lS(),e=Cp(),n=ex();function i(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function h(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function p(t){if(c(t)!==t)throw Error(i(188))}function g(t){var r=t.alternate;if(!r){if(r=c(t),r===null)throw Error(i(188));return r!==t?null:t}for(var a=t,l=r;;){var d=a.return;if(d===null)break;var f=d.alternate;if(f===null){if(l=d.return,l!==null){a=l;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===a)return p(d),t;if(f===l)return p(d),r;f=f.sibling}throw Error(i(188))}if(a.return!==l.return)a=d,l=f;else{for(var x=!1,w=d.child;w;){if(w===a){x=!0,a=d,l=f;break}if(w===l){x=!0,l=d,a=f;break}w=w.sibling}if(!x){for(w=f.child;w;){if(w===a){x=!0,a=f,l=d;break}if(w===l){x=!0,l=f,a=d;break}w=w.sibling}if(!x)throw Error(i(189))}}if(a.alternate!==l)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?t:r}function y(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=y(t),r!==null)return r;t=t.sibling}return null}var _=Object.assign,E=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),le=Symbol.for("react.provider"),ae=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function Qe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case L:return"Fragment";case H:return"Profiler";case F:return"StrictMode";case oe:return"Suspense";case K:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case M:return"Portal";case ie:return(t.displayName||"Context")+".Provider";case ae:return(t._context.displayName||"Context")+".Consumer";case Y:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return r=t.displayName||null,r!==null?r:Qe(t.type)||"Memo";case S:r=t._payload,t=t._init;try{return Qe(t(r))}catch{}}return null}var Ie=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},ze=[],k=-1;function ne(t){return{current:t}}function de(t){0>k||(t.current=ze[k],ze[k]=null,k--)}function re(t,r){k++,ze[k]=t.current,t.current=r}var me=ne(null),Ne=ne(null),Te=ne(null),ke=ne(null);function Xe(t,r){switch(re(Te,r),re(Ne,t),re(me,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?w0(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=w0(r),t=S0(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}de(me),re(me,t)}function on(){de(me),de(Ne),de(Te)}function xn(t){t.memoizedState!==null&&re(ke,t);var r=me.current,a=S0(r,t.type);r!==a&&(re(Ne,t),re(me,a))}function En(t){Ne.current===t&&(de(me),de(Ne)),ke.current===t&&(de(ke),Bl._currentValue=se)}var Mn=Object.prototype.hasOwnProperty,fi=s.unstable_scheduleCallback,mi=s.unstable_cancelCallback,Uo=s.unstable_shouldYield,Uc=s.unstable_requestPaint,kn=s.unstable_now,Rh=s.unstable_getCurrentPriorityLevel,zo=s.unstable_ImmediatePriority,ua=s.unstable_UserBlockingPriority,pi=s.unstable_NormalPriority,Nh=s.unstable_LowPriority,da=s.unstable_IdlePriority,qo=s.log,zc=s.unstable_setDisableYieldValue,ht=null,We=null;function Tn(t){if(typeof qo=="function"&&zc(t),We&&typeof We.setStrictMode=="function")try{We.setStrictMode(ht,t)}catch{}}var Zt=Math.clz32?Math.clz32:gi,qc=Math.log,Ch=Math.LN2;function gi(t){return t>>>=0,t===0?32:31-(qc(t)/Ch|0)|0}var yi=256,vi=4194304;function Wn(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ha(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var d=0,f=t.suspendedLanes,x=t.pingedLanes;t=t.warmLanes;var w=l&134217727;return w!==0?(l=w&~f,l!==0?d=Wn(l):(x&=w,x!==0?d=Wn(x):a||(a=w&~t,a!==0&&(d=Wn(a))))):(w=l&~f,w!==0?d=Wn(w):x!==0?d=Wn(x):a||(a=l&~t,a!==0&&(d=Wn(a)))),d===0?0:r!==0&&r!==d&&(r&f)===0&&(f=d&-d,a=r&-r,f>=a||f===32&&(a&4194048)!==0)?r:d}function _i(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function Bo(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ho(){var t=yi;return yi<<=1,(yi&4194048)===0&&(yi=256),t}function Fo(){var t=vi;return vi<<=1,(vi&62914560)===0&&(vi=4194304),t}function Ir(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function Dr(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Go(t,r,a,l,d,f){var x=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var w=t.entanglements,D=t.expirationTimes,B=t.hiddenUpdates;for(a=x&~a;0<a;){var W=31-Zt(a),ee=1<<W;w[W]=0,D[W]=-1;var G=B[W];if(G!==null)for(B[W]=null,W=0;W<G.length;W++){var Q=G[W];Q!==null&&(Q.lane&=-536870913)}a&=~ee}l!==0&&or(t,l,0),f!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=f&~(x&~r))}function or(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-Zt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Qo(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-Zt(a),d=1<<l;d&r|t[l]&r&&(t[l]|=r),a&=~d}}function ms(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function fa(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ps(){var t=ce.p;return t!==0?t:(t=window.event,t===void 0?32:F0(t.type))}function Bc(t,r){var a=ce.p;try{return ce.p=t,r()}finally{ce.p=a}}var lt=Math.random().toString(36).slice(2),At="__reactFiber$"+lt,bt="__reactProps$"+lt,Pn="__reactContainer$"+lt,Yo="__reactEvents$"+lt,Ih="__reactListeners$"+lt,gs="__reactHandles$"+lt,Hc="__reactResources$"+lt,bi="__reactMarker$"+lt;function ys(t){delete t[At],delete t[bt],delete t[Yo],delete t[Ih],delete t[gs]}function Or(t){var r=t[At];if(r)return r;for(var a=t.parentNode;a;){if(r=a[Pn]||a[At]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=C0(t);t!==null;){if(a=t[At])return a;t=C0(t)}return r}t=a,a=t.parentNode}return null}function lr(t){if(t=t[At]||t[Pn]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function cr(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(i(33))}function ln(t){var r=t[Hc];return r||(r=t[Hc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function pt(t){t[bi]=!0}var Ko=new Set,ma={};function Zn(t,r){jr(t,r),jr(t+"Capture",r)}function jr(t,r){for(ma[t]=r,t=0;t<r.length;t++)Ko.add(r[t])}var Fc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Gc={},xi={};function Qc(t){return Mn.call(xi,t)?!0:Mn.call(Gc,t)?!1:Fc.test(t)?xi[t]=!0:(Gc[t]=!0,!1)}function vs(t,r,a){if(Qc(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function ur(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function Ht(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}var Ei,Yc;function Mr(t){if(Ei===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Ei=r&&r[1]||"",Yc=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ei+t+Yc}var pa=!1;function ga(t,r){if(!t||pa)return"";pa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(Q){var G=Q}Reflect.construct(t,[],ee)}else{try{ee.call()}catch(Q){G=Q}t.call(ee.prototype)}}else{try{throw Error()}catch(Q){G=Q}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(Q){if(Q&&G&&typeof Q.stack=="string")return[Q.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),x=f[0],w=f[1];if(x&&w){var D=x.split(`
`),B=w.split(`
`);for(d=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;d<B.length&&!B[d].includes("DetermineComponentFrameRoot");)d++;if(l===D.length||d===B.length)for(l=D.length-1,d=B.length-1;1<=l&&0<=d&&D[l]!==B[d];)d--;for(;1<=l&&0<=d;l--,d--)if(D[l]!==B[d]){if(l!==1||d!==1)do if(l--,d--,0>d||D[l]!==B[d]){var W=`
`+D[l].replace(" at new "," at ");return t.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",t.displayName)),W}while(1<=l&&0<=d);break}}}finally{pa=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Mr(a):""}function $o(t){switch(t.tag){case 26:case 27:case 5:return Mr(t.type);case 16:return Mr("Lazy");case 13:return Mr("Suspense");case 19:return Mr("SuspenseList");case 0:case 15:return ga(t.type,!1);case 11:return ga(t.type.render,!1);case 1:return ga(t.type,!0);case 31:return Mr("Activity");default:return""}}function ya(t){try{var r="";do r+=$o(t),t=t.return;while(t);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function cn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Xo(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Dh(t){var r=Xo(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),l=""+t[r];if(!t.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,f=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return d.call(this)},set:function(x){l=""+x,f.call(this,x)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(x){l=""+x},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function va(t){t._valueTracker||(t._valueTracker=Dh(t))}function Wo(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=Xo(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function Ti(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Oh=/[\n"\\]/g;function xt(t){return t.replace(Oh,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function wn(t,r,a,l,d,f,x,w){t.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?t.type=x:t.removeAttribute("type"),r!=null?x==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+cn(r)):t.value!==""+cn(r)&&(t.value=""+cn(r)):x!=="submit"&&x!=="reset"||t.removeAttribute("value"),r!=null?_s(t,x,cn(r)):a!=null?_s(t,x,cn(a)):l!=null&&t.removeAttribute("value"),d==null&&f!=null&&(t.defaultChecked=!!f),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.name=""+cn(w):t.removeAttribute("name")}function wi(t,r,a,l,d,f,x,w){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),r!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||r!=null))return;a=a!=null?""+cn(a):"",r=r!=null?""+cn(r):a,w||r===t.value||(t.value=r),t.defaultValue=r}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=w?t.checked:!!l,t.defaultChecked=!!l,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(t.name=x)}function _s(t,r,a){r==="number"&&Ti(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function kr(t,r,a,l){if(t=t.options,r){r={};for(var d=0;d<a.length;d++)r["$"+a[d]]=!0;for(a=0;a<t.length;a++)d=r.hasOwnProperty("$"+t[a].value),t[a].selected!==d&&(t[a].selected=d),d&&l&&(t[a].defaultSelected=!0)}else{for(a=""+cn(a),r=null,d=0;d<t.length;d++){if(t[d].value===a){t[d].selected=!0,l&&(t[d].defaultSelected=!0);return}r!==null||t[d].disabled||(r=t[d])}r!==null&&(r.selected=!0)}}function et(t,r,a){if(r!=null&&(r=""+cn(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+cn(a):""}function Si(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(i(92));if(Ie(l)){if(1<l.length)throw Error(i(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=cn(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function Vn(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var Ai=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Kc(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||Ai.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function Zo(t,r,a){if(r!=null&&typeof r!="object")throw Error(i(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var d in r)l=r[d],r.hasOwnProperty(d)&&a[d]!==l&&Kc(t,d,l)}else for(var f in r)r.hasOwnProperty(f)&&Kc(t,f,r[f])}function Jo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Mh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _a(t){return Mh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Pr=null;function Ln(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Vr=null,Lr=null;function el(t){var r=lr(t);if(r&&(t=r.stateNode)){var a=t[bt]||null;e:switch(t=r.stateNode,r.type){case"input":if(wn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+xt(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var d=l[bt]||null;if(!d)throw Error(i(90));wn(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&Wo(l)}break e;case"textarea":et(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&kr(t,!!a.multiple,r,!1)}}}var dr=!1;function $c(t,r,a){if(dr)return t(r,a);dr=!0;try{var l=t(r);return l}finally{if(dr=!1,(Vr!==null||Lr!==null)&&(Bu(),Vr&&(r=Vr,t=Lr,Lr=Vr=null,el(r),t)))for(r=0;r<t.length;r++)el(t[r])}}function Ri(t,r){var a=t.stateNode;if(a===null)return null;var l=a[bt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(i(231,r,typeof a));return a}var Jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Un=!1;if(Jn)try{var Ni={};Object.defineProperty(Ni,"passive",{get:function(){Un=!0}}),window.addEventListener("test",Ni,Ni),window.removeEventListener("test",Ni,Ni)}catch{Un=!1}var hr=null,bs=null,Ur=null;function tl(){if(Ur)return Ur;var t,r=bs,a=r.length,l,d="value"in hr?hr.value:hr.textContent,f=d.length;for(t=0;t<a&&r[t]===d[t];t++);var x=a-t;for(l=1;l<=x&&r[a-l]===d[f-l];l++);return Ur=d.slice(t,1<l?1-l:void 0)}function fr(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function mr(){return!0}function nl(){return!1}function kt(t){function r(a,l,d,f,x){this._reactName=a,this._targetInst=d,this.type=l,this.nativeEvent=f,this.target=x,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(a=t[w],this[w]=a?a(f):f[w]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?mr:nl,this.isPropagationStopped=nl,this}return _(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=mr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=mr)},persist:function(){},isPersistent:mr}),r}var $e={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ba=kt($e),Ci=_({},$e,{view:0,detail:0}),Xc=kt(Ci),xa,Ea,pr,Ii=_({},Ci,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ji,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==pr&&(pr&&t.type==="mousemove"?(xa=t.screenX-pr.screenX,Ea=t.screenY-pr.screenY):Ea=xa=0,pr=t),xa)},movementY:function(t){return"movementY"in t?t.movementY:Ea}}),zn=kt(Ii),Wc=_({},Ii,{dataTransfer:0}),kh=kt(Wc),Di=_({},Ci,{relatedTarget:0}),Ta=kt(Di),rl=_({},$e,{animationName:0,elapsedTime:0,pseudoElement:0}),wa=kt(rl),Zc=_({},$e,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Sa=kt(Zc),Ph=_({},$e,{data:0}),sl=kt(Ph),Oi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function il(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=eu[t])?!!r[t]:!1}function ji(){return il}var tu=_({},Ci,{key:function(t){if(t.key){var r=Oi[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=fr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Jc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ji,charCode:function(t){return t.type==="keypress"?fr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?fr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Aa=kt(tu),nu=_({},Ii,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),al=kt(nu),zr=_({},Ci,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ji}),ru=kt(zr),su=_({},$e,{propertyName:0,elapsedTime:0,pseudoElement:0}),iu=kt(su),au=_({},Ii,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ra=kt(au),un=_({},$e,{newState:0,oldState:0}),ou=kt(un),lu=[9,13,27,32],gr=Jn&&"CompositionEvent"in window,u=null;Jn&&"documentMode"in document&&(u=document.documentMode);var v=Jn&&"TextEvent"in window&&!u,b=Jn&&(!gr||u&&8<u&&11>=u),A=" ",z=!1;function X(t,r){switch(t){case"keyup":return lu.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ue(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var qe=!1;function Rt(t,r){switch(t){case"compositionend":return ue(r);case"keypress":return r.which!==32?null:(z=!0,A);case"textInput":return t=r.data,t===A&&z?null:t;default:return null}}function Be(t,r){if(qe)return t==="compositionend"||!gr&&X(t,r)?(t=tl(),Ur=bs=hr=null,qe=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return b&&r.locale!=="ko"?null:r.data;default:return null}}var Pt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nt(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Pt[t.type]:r==="textarea"}function qr(t,r,a,l){Vr?Lr?Lr.push(l):Lr=[l]:Vr=l,r=Ku(r,"onChange"),0<r.length&&(a=new ba("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var Ft=null,yr=null;function ol(t){_0(t,0)}function cu(t){var r=cr(t);if(Wo(r))return t}function zg(t,r){if(t==="change")return r}var qg=!1;if(Jn){var Vh;if(Jn){var Lh="oninput"in document;if(!Lh){var Bg=document.createElement("div");Bg.setAttribute("oninput","return;"),Lh=typeof Bg.oninput=="function"}Vh=Lh}else Vh=!1;qg=Vh&&(!document.documentMode||9<document.documentMode)}function Hg(){Ft&&(Ft.detachEvent("onpropertychange",Fg),yr=Ft=null)}function Fg(t){if(t.propertyName==="value"&&cu(yr)){var r=[];qr(r,yr,t,Ln(t)),$c(ol,r)}}function Ow(t,r,a){t==="focusin"?(Hg(),Ft=r,yr=a,Ft.attachEvent("onpropertychange",Fg)):t==="focusout"&&Hg()}function jw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return cu(yr)}function Mw(t,r){if(t==="click")return cu(r)}function kw(t,r){if(t==="input"||t==="change")return cu(r)}function Pw(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Sn=typeof Object.is=="function"?Object.is:Pw;function ll(t,r){if(Sn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var d=a[l];if(!Mn.call(r,d)||!Sn(t[d],r[d]))return!1}return!0}function Gg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Qg(t,r){var a=Gg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Gg(a)}}function Yg(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Yg(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Kg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Ti(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=Ti(t.document)}return r}function Uh(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var Vw=Jn&&"documentMode"in document&&11>=document.documentMode,Na=null,zh=null,cl=null,qh=!1;function $g(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;qh||Na==null||Na!==Ti(l)||(l=Na,"selectionStart"in l&&Uh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),cl&&ll(cl,l)||(cl=l,l=Ku(zh,"onSelect"),0<l.length&&(r=new ba("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=Na)))}function Mi(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var Ca={animationend:Mi("Animation","AnimationEnd"),animationiteration:Mi("Animation","AnimationIteration"),animationstart:Mi("Animation","AnimationStart"),transitionrun:Mi("Transition","TransitionRun"),transitionstart:Mi("Transition","TransitionStart"),transitioncancel:Mi("Transition","TransitionCancel"),transitionend:Mi("Transition","TransitionEnd")},Bh={},Xg={};Jn&&(Xg=document.createElement("div").style,"AnimationEvent"in window||(delete Ca.animationend.animation,delete Ca.animationiteration.animation,delete Ca.animationstart.animation),"TransitionEvent"in window||delete Ca.transitionend.transition);function ki(t){if(Bh[t])return Bh[t];if(!Ca[t])return t;var r=Ca[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in Xg)return Bh[t]=r[a];return t}var Wg=ki("animationend"),Zg=ki("animationiteration"),Jg=ki("animationstart"),Lw=ki("transitionrun"),Uw=ki("transitionstart"),zw=ki("transitioncancel"),ey=ki("transitionend"),ty=new Map,Hh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hh.push("scrollEnd");function er(t,r){ty.set(t,r),Zn(r,[t])}var ny=new WeakMap;function qn(t,r){if(typeof t=="object"&&t!==null){var a=ny.get(t);return a!==void 0?a:(r={value:t,source:r,stack:ya(r)},ny.set(t,r),r)}return{value:t,source:r,stack:ya(r)}}var Bn=[],Ia=0,Fh=0;function uu(){for(var t=Ia,r=Fh=Ia=0;r<t;){var a=Bn[r];Bn[r++]=null;var l=Bn[r];Bn[r++]=null;var d=Bn[r];Bn[r++]=null;var f=Bn[r];if(Bn[r++]=null,l!==null&&d!==null){var x=l.pending;x===null?d.next=d:(d.next=x.next,x.next=d),l.pending=d}f!==0&&ry(a,d,f)}}function du(t,r,a,l){Bn[Ia++]=t,Bn[Ia++]=r,Bn[Ia++]=a,Bn[Ia++]=l,Fh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Gh(t,r,a,l){return du(t,r,a,l),hu(t)}function Da(t,r){return du(t,null,null,r),hu(t)}function ry(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var d=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(d=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,d&&r!==null&&(d=31-Zt(a),t=f.hiddenUpdates,l=t[d],l===null?t[d]=[r]:l.push(r),r.lane=a|536870912),f):null}function hu(t){if(50<Ml)throw Ml=0,Zf=null,Error(i(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Oa={};function qw(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(t,r,a,l){return new qw(t,r,a,l)}function Qh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Br(t,r){var a=t.alternate;return a===null?(a=An(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function sy(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function fu(t,r,a,l,d,f){var x=0;if(l=t,typeof t=="function")Qh(t)&&(x=1);else if(typeof t=="string")x=H1(t,a,me.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=An(31,a,r,d),t.elementType=R,t.lanes=f,t;case L:return Pi(a.children,d,f,r);case F:x=8,d|=24;break;case H:return t=An(12,a,r,d|2),t.elementType=H,t.lanes=f,t;case oe:return t=An(13,a,r,d),t.elementType=oe,t.lanes=f,t;case K:return t=An(19,a,r,d),t.elementType=K,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case le:case ie:x=10;break e;case ae:x=9;break e;case Y:x=11;break e;case C:x=14;break e;case S:x=16,l=null;break e}x=29,a=Error(i(130,t===null?"null":typeof t,"")),l=null}return r=An(x,a,r,d),r.elementType=t,r.type=l,r.lanes=f,r}function Pi(t,r,a,l){return t=An(7,t,l,r),t.lanes=a,t}function Yh(t,r,a){return t=An(6,t,null,r),t.lanes=a,t}function Kh(t,r,a){return r=An(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var ja=[],Ma=0,mu=null,pu=0,Hn=[],Fn=0,Vi=null,Hr=1,Fr="";function Li(t,r){ja[Ma++]=pu,ja[Ma++]=mu,mu=t,pu=r}function iy(t,r,a){Hn[Fn++]=Hr,Hn[Fn++]=Fr,Hn[Fn++]=Vi,Vi=t;var l=Hr;t=Fr;var d=32-Zt(l)-1;l&=~(1<<d),a+=1;var f=32-Zt(r)+d;if(30<f){var x=d-d%5;f=(l&(1<<x)-1).toString(32),l>>=x,d-=x,Hr=1<<32-Zt(r)+d|a<<d|l,Fr=f+t}else Hr=1<<f|a<<d|l,Fr=t}function $h(t){t.return!==null&&(Li(t,1),iy(t,1,0))}function Xh(t){for(;t===mu;)mu=ja[--Ma],ja[Ma]=null,pu=ja[--Ma],ja[Ma]=null;for(;t===Vi;)Vi=Hn[--Fn],Hn[Fn]=null,Fr=Hn[--Fn],Hn[Fn]=null,Hr=Hn[--Fn],Hn[Fn]=null}var dn=null,ft=null,Ke=!1,Ui=null,vr=!1,Wh=Error(i(519));function zi(t){var r=Error(i(418,""));throw hl(qn(r,t)),Wh}function ay(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[At]=t,r[bt]=l,a){case"dialog":Ve("cancel",r),Ve("close",r);break;case"iframe":case"object":case"embed":Ve("load",r);break;case"video":case"audio":for(a=0;a<Pl.length;a++)Ve(Pl[a],r);break;case"source":Ve("error",r);break;case"img":case"image":case"link":Ve("error",r),Ve("load",r);break;case"details":Ve("toggle",r);break;case"input":Ve("invalid",r),wi(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),va(r);break;case"select":Ve("invalid",r);break;case"textarea":Ve("invalid",r),Si(r,l.value,l.defaultValue,l.children),va(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||T0(r.textContent,a)?(l.popover!=null&&(Ve("beforetoggle",r),Ve("toggle",r)),l.onScroll!=null&&Ve("scroll",r),l.onScrollEnd!=null&&Ve("scrollend",r),l.onClick!=null&&(r.onclick=$u),r=!0):r=!1,r||zi(t)}function oy(t){for(dn=t.return;dn;)switch(dn.tag){case 5:case 13:vr=!1;return;case 27:case 3:vr=!0;return;default:dn=dn.return}}function ul(t){if(t!==dn)return!1;if(!Ke)return oy(t),Ke=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||mm(t.type,t.memoizedProps)),a=!a),a&&ft&&zi(t),oy(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(r===0){ft=nr(t.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;t=t.nextSibling}ft=null}}else r===27?(r=ft,Ps(t.type)?(t=vm,vm=null,ft=t):ft=r):ft=dn?nr(t.stateNode.nextSibling):null;return!0}function dl(){ft=dn=null,Ke=!1}function ly(){var t=Ui;return t!==null&&(pn===null?pn=t:pn.push.apply(pn,t),Ui=null),t}function hl(t){Ui===null?Ui=[t]:Ui.push(t)}var Zh=ne(null),qi=null,Gr=null;function xs(t,r,a){re(Zh,r._currentValue),r._currentValue=a}function Qr(t){t._currentValue=Zh.current,de(Zh)}function Jh(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function ef(t,r,a,l){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var f=d.dependencies;if(f!==null){var x=d.child;f=f.firstContext;e:for(;f!==null;){var w=f;f=d;for(var D=0;D<r.length;D++)if(w.context===r[D]){f.lanes|=a,w=f.alternate,w!==null&&(w.lanes|=a),Jh(f.return,a,t),l||(x=null);break e}f=w.next}}else if(d.tag===18){if(x=d.return,x===null)throw Error(i(341));x.lanes|=a,f=x.alternate,f!==null&&(f.lanes|=a),Jh(x,a,t),x=null}else x=d.child;if(x!==null)x.return=d;else for(x=d;x!==null;){if(x===t){x=null;break}if(d=x.sibling,d!==null){d.return=x.return,x=d;break}x=x.return}d=x}}function fl(t,r,a,l){t=null;for(var d=r,f=!1;d!==null;){if(!f){if((d.flags&524288)!==0)f=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var x=d.alternate;if(x===null)throw Error(i(387));if(x=x.memoizedProps,x!==null){var w=d.type;Sn(d.pendingProps.value,x.value)||(t!==null?t.push(w):t=[w])}}else if(d===ke.current){if(x=d.alternate,x===null)throw Error(i(387));x.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(Bl):t=[Bl])}d=d.return}t!==null&&ef(r,t,a,l),r.flags|=262144}function gu(t){for(t=t.firstContext;t!==null;){if(!Sn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Bi(t){qi=t,Gr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Jt(t){return cy(qi,t)}function yu(t,r){return qi===null&&Bi(t),cy(t,r)}function cy(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Gr===null){if(t===null)throw Error(i(308));Gr=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Gr=Gr.next=r;return a}var Bw=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},Hw=s.unstable_scheduleCallback,Fw=s.unstable_NormalPriority,Ct={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tf(){return{controller:new Bw,data:new Map,refCount:0}}function ml(t){t.refCount--,t.refCount===0&&Hw(Fw,function(){t.controller.abort()})}var pl=null,nf=0,ka=0,Pa=null;function Gw(t,r){if(pl===null){var a=pl=[];nf=0,ka=im(),Pa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return nf++,r.then(uy,uy),r}function uy(){if(--nf===0&&pl!==null){Pa!==null&&(Pa.status="fulfilled");var t=pl;pl=null,ka=0,Pa=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function Qw(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var d=0;d<a.length;d++)(0,a[d])(r)},function(d){for(l.status="rejected",l.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),l}var dy=$.S;$.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&Gw(t,r),dy!==null&&dy(t,r)};var Hi=ne(null);function rf(){var t=Hi.current;return t!==null?t:at.pooledCache}function vu(t,r){r===null?re(Hi,Hi.current):re(Hi,r.pool)}function hy(){var t=rf();return t===null?null:{parent:Ct._currentValue,pool:t}}var gl=Error(i(460)),fy=Error(i(474)),_u=Error(i(542)),sf={then:function(){}};function my(t){return t=t.status,t==="fulfilled"||t==="rejected"}function bu(){}function py(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(bu,bu),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,yy(t),t;default:if(typeof r.status=="string")r.then(bu,bu);else{if(t=at,t!==null&&100<t.shellSuspendCounter)throw Error(i(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var d=r;d.status="fulfilled",d.value=l}},function(l){if(r.status==="pending"){var d=r;d.status="rejected",d.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,yy(t),t}throw yl=r,gl}}var yl=null;function gy(){if(yl===null)throw Error(i(459));var t=yl;return yl=null,t}function yy(t){if(t===gl||t===_u)throw Error(i(483))}var Es=!1;function af(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function of(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ts(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ws(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ze&2)!==0){var d=l.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),l.pending=r,r=hu(t),ry(t,null,a),r}return du(t,l,r,a),hu(t)}function vl(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Qo(t,a)}}function lf(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var d=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var x={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?d=f=x:f=f.next=x,a=a.next}while(a!==null);f===null?d=f=r:f=f.next=r}else d=f=r;a={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var cf=!1;function _l(){if(cf){var t=Pa;if(t!==null)throw t}}function bl(t,r,a,l){cf=!1;var d=t.updateQueue;Es=!1;var f=d.firstBaseUpdate,x=d.lastBaseUpdate,w=d.shared.pending;if(w!==null){d.shared.pending=null;var D=w,B=D.next;D.next=null,x===null?f=B:x.next=B,x=D;var W=t.alternate;W!==null&&(W=W.updateQueue,w=W.lastBaseUpdate,w!==x&&(w===null?W.firstBaseUpdate=B:w.next=B,W.lastBaseUpdate=D))}if(f!==null){var ee=d.baseState;x=0,W=B=D=null,w=f;do{var G=w.lane&-536870913,Q=G!==w.lane;if(Q?(He&G)===G:(l&G)===G){G!==0&&G===ka&&(cf=!0),W!==null&&(W=W.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var Ae=t,xe=w;G=r;var rt=a;switch(xe.tag){case 1:if(Ae=xe.payload,typeof Ae=="function"){ee=Ae.call(rt,ee,G);break e}ee=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=xe.payload,G=typeof Ae=="function"?Ae.call(rt,ee,G):Ae,G==null)break e;ee=_({},ee,G);break e;case 2:Es=!0}}G=w.callback,G!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=d.callbacks,Q===null?d.callbacks=[G]:Q.push(G))}else Q={lane:G,tag:w.tag,payload:w.payload,callback:w.callback,next:null},W===null?(B=W=Q,D=ee):W=W.next=Q,x|=G;if(w=w.next,w===null){if(w=d.shared.pending,w===null)break;Q=w,w=Q.next,Q.next=null,d.lastBaseUpdate=Q,d.shared.pending=null}}while(!0);W===null&&(D=ee),d.baseState=D,d.firstBaseUpdate=B,d.lastBaseUpdate=W,f===null&&(d.shared.lanes=0),Os|=x,t.lanes=x,t.memoizedState=ee}}function vy(t,r){if(typeof t!="function")throw Error(i(191,t));t.call(r)}function _y(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)vy(a[t],r)}var Va=ne(null),xu=ne(0);function by(t,r){t=Jr,re(xu,t),re(Va,r),Jr=t|r.baseLanes}function uf(){re(xu,Jr),re(Va,Va.current)}function df(){Jr=xu.current,de(Va),de(xu)}var Ss=0,De=null,tt=null,Et=null,Eu=!1,La=!1,Fi=!1,Tu=0,xl=0,Ua=null,Yw=0;function gt(){throw Error(i(321))}function hf(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!Sn(t[a],r[a]))return!1;return!0}function ff(t,r,a,l,d,f){return Ss=f,De=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,$.H=t===null||t.memoizedState===null?rv:sv,Fi=!1,f=a(l,d),Fi=!1,La&&(f=Ey(r,a,l,d)),xy(t),f}function xy(t){$.H=Cu;var r=tt!==null&&tt.next!==null;if(Ss=0,Et=tt=De=null,Eu=!1,xl=0,Ua=null,r)throw Error(i(300));t===null||Vt||(t=t.dependencies,t!==null&&gu(t)&&(Vt=!0))}function Ey(t,r,a,l){De=t;var d=0;do{if(La&&(Ua=null),xl=0,La=!1,25<=d)throw Error(i(301));if(d+=1,Et=tt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}$.H=e1,f=r(a,l)}while(La);return f}function Kw(){var t=$.H,r=t.useState()[0];return r=typeof r.then=="function"?El(r):r,t=t.useState()[0],(tt!==null?tt.memoizedState:null)!==t&&(De.flags|=1024),r}function mf(){var t=Tu!==0;return Tu=0,t}function pf(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function gf(t){if(Eu){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}Eu=!1}Ss=0,Et=tt=De=null,La=!1,xl=Tu=0,Ua=null}function fn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?De.memoizedState=Et=t:Et=Et.next=t,Et}function Tt(){if(tt===null){var t=De.alternate;t=t!==null?t.memoizedState:null}else t=tt.next;var r=Et===null?De.memoizedState:Et.next;if(r!==null)Et=r,tt=t;else{if(t===null)throw De.alternate===null?Error(i(467)):Error(i(310));tt=t,t={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},Et===null?De.memoizedState=Et=t:Et=Et.next=t}return Et}function yf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function El(t){var r=xl;return xl+=1,Ua===null&&(Ua=[]),t=py(Ua,t,r),r=De,(Et===null?r.memoizedState:Et.next)===null&&(r=r.alternate,$.H=r===null||r.memoizedState===null?rv:sv),t}function wu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return El(t);if(t.$$typeof===ie)return Jt(t)}throw Error(i(438,String(t)))}function vf(t){var r=null,a=De.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=De.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(d){return d.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=yf(),De.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=N;return r.index++,a}function Yr(t,r){return typeof r=="function"?r(t):r}function Su(t){var r=Tt();return _f(r,tt,t)}function _f(t,r,a){var l=t.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=a;var d=t.baseQueue,f=l.pending;if(f!==null){if(d!==null){var x=d.next;d.next=f.next,f.next=x}r.baseQueue=d=f,l.pending=null}if(f=t.baseState,d===null)t.memoizedState=f;else{r=d.next;var w=x=null,D=null,B=r,W=!1;do{var ee=B.lane&-536870913;if(ee!==B.lane?(He&ee)===ee:(Ss&ee)===ee){var G=B.revertLane;if(G===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),ee===ka&&(W=!0);else if((Ss&G)===G){B=B.next,G===ka&&(W=!0);continue}else ee={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(w=D=ee,x=f):D=D.next=ee,De.lanes|=G,Os|=G;ee=B.action,Fi&&a(f,ee),f=B.hasEagerState?B.eagerState:a(f,ee)}else G={lane:ee,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(w=D=G,x=f):D=D.next=G,De.lanes|=ee,Os|=ee;B=B.next}while(B!==null&&B!==r);if(D===null?x=f:D.next=w,!Sn(f,t.memoizedState)&&(Vt=!0,W&&(a=Pa,a!==null)))throw a;t.memoizedState=f,t.baseState=x,t.baseQueue=D,l.lastRenderedState=f}return d===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function bf(t){var r=Tt(),a=r.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=t;var l=a.dispatch,d=a.pending,f=r.memoizedState;if(d!==null){a.pending=null;var x=d=d.next;do f=t(f,x.action),x=x.next;while(x!==d);Sn(f,r.memoizedState)||(Vt=!0),r.memoizedState=f,r.baseQueue===null&&(r.baseState=f),a.lastRenderedState=f}return[f,l]}function Ty(t,r,a){var l=De,d=Tt(),f=Ke;if(f){if(a===void 0)throw Error(i(407));a=a()}else a=r();var x=!Sn((tt||d).memoizedState,a);x&&(d.memoizedState=a,Vt=!0),d=d.queue;var w=Ay.bind(null,l,d,t);if(Tl(2048,8,w,[t]),d.getSnapshot!==r||x||Et!==null&&Et.memoizedState.tag&1){if(l.flags|=2048,za(9,Au(),Sy.bind(null,l,d,a,r),null),at===null)throw Error(i(349));f||(Ss&124)!==0||wy(l,r,a)}return a}function wy(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=De.updateQueue,r===null?(r=yf(),De.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function Sy(t,r,a,l){r.value=a,r.getSnapshot=l,Ry(r)&&Ny(t)}function Ay(t,r,a){return a(function(){Ry(r)&&Ny(t)})}function Ry(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!Sn(t,a)}catch{return!0}}function Ny(t){var r=Da(t,2);r!==null&&Dn(r,t,2)}function xf(t){var r=fn();if(typeof t=="function"){var a=t;if(t=a(),Fi){Tn(!0);try{a()}finally{Tn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yr,lastRenderedState:t},r}function Cy(t,r,a,l){return t.baseState=a,_f(t,tt,typeof l=="function"?l:Yr)}function $w(t,r,a,l,d){if(Nu(t))throw Error(i(485));if(t=r.action,t!==null){var f={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){f.listeners.push(x)}};$.T!==null?a(!0):f.isTransition=!1,l(f),a=r.pending,a===null?(f.next=r.pending=f,Iy(r,f)):(f.next=a.next,r.pending=a.next=f)}}function Iy(t,r){var a=r.action,l=r.payload,d=t.state;if(r.isTransition){var f=$.T,x={};$.T=x;try{var w=a(d,l),D=$.S;D!==null&&D(x,w),Dy(t,r,w)}catch(B){Ef(t,r,B)}finally{$.T=f}}else try{f=a(d,l),Dy(t,r,f)}catch(B){Ef(t,r,B)}}function Dy(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Oy(t,r,l)},function(l){return Ef(t,r,l)}):Oy(t,r,a)}function Oy(t,r,a){r.status="fulfilled",r.value=a,jy(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,Iy(t,a)))}function Ef(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,jy(r),r=r.next;while(r!==l)}t.action=null}function jy(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function My(t,r){return r}function ky(t,r){if(Ke){var a=at.formState;if(a!==null){e:{var l=De;if(Ke){if(ft){t:{for(var d=ft,f=vr;d.nodeType!==8;){if(!f){d=null;break t}if(d=nr(d.nextSibling),d===null){d=null;break t}}f=d.data,d=f==="F!"||f==="F"?d:null}if(d){ft=nr(d.nextSibling),l=d.data==="F!";break e}}zi(l)}l=!1}l&&(r=a[0])}}return a=fn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:My,lastRenderedState:r},a.queue=l,a=ev.bind(null,De,l),l.dispatch=a,l=xf(!1),f=Rf.bind(null,De,!1,l.queue),l=fn(),d={state:r,dispatch:null,action:t,pending:null},l.queue=d,a=$w.bind(null,De,d,f,a),d.dispatch=a,l.memoizedState=t,[r,a,!1]}function Py(t){var r=Tt();return Vy(r,tt,t)}function Vy(t,r,a){if(r=_f(t,r,My)[0],t=Su(Yr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=El(r)}catch(x){throw x===gl?_u:x}else l=r;r=Tt();var d=r.queue,f=d.dispatch;return a!==r.memoizedState&&(De.flags|=2048,za(9,Au(),Xw.bind(null,d,a),null)),[l,f,t]}function Xw(t,r){t.action=r}function Ly(t){var r=Tt(),a=tt;if(a!==null)return Vy(r,a,t);Tt(),r=r.memoizedState,a=Tt();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function za(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=De.updateQueue,r===null&&(r=yf(),De.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function Au(){return{destroy:void 0,resource:void 0}}function Uy(){return Tt().memoizedState}function Ru(t,r,a,l){var d=fn();l=l===void 0?null:l,De.flags|=t,d.memoizedState=za(1|r,Au(),a,l)}function Tl(t,r,a,l){var d=Tt();l=l===void 0?null:l;var f=d.memoizedState.inst;tt!==null&&l!==null&&hf(l,tt.memoizedState.deps)?d.memoizedState=za(r,f,a,l):(De.flags|=t,d.memoizedState=za(1|r,f,a,l))}function zy(t,r){Ru(8390656,8,t,r)}function qy(t,r){Tl(2048,8,t,r)}function By(t,r){return Tl(4,2,t,r)}function Hy(t,r){return Tl(4,4,t,r)}function Fy(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Gy(t,r,a){a=a!=null?a.concat([t]):null,Tl(4,4,Fy.bind(null,r,t),a)}function Tf(){}function Qy(t,r){var a=Tt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&hf(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function Yy(t,r){var a=Tt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&hf(r,l[1]))return l[0];if(l=t(),Fi){Tn(!0);try{t()}finally{Tn(!1)}}return a.memoizedState=[l,r],l}function wf(t,r,a){return a===void 0||(Ss&1073741824)!==0?t.memoizedState=r:(t.memoizedState=a,t=Xv(),De.lanes|=t,Os|=t,a)}function Ky(t,r,a,l){return Sn(a,r)?a:Va.current!==null?(t=wf(t,a,l),Sn(t,r)||(Vt=!0),t):(Ss&42)===0?(Vt=!0,t.memoizedState=a):(t=Xv(),De.lanes|=t,Os|=t,r)}function $y(t,r,a,l,d){var f=ce.p;ce.p=f!==0&&8>f?f:8;var x=$.T,w={};$.T=w,Rf(t,!1,r,a);try{var D=d(),B=$.S;if(B!==null&&B(w,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var W=Qw(D,l);wl(t,r,W,In(t))}else wl(t,r,l,In(t))}catch(ee){wl(t,r,{then:function(){},status:"rejected",reason:ee},In())}finally{ce.p=f,$.T=x}}function Ww(){}function Sf(t,r,a,l){if(t.tag!==5)throw Error(i(476));var d=Xy(t).queue;$y(t,d,r,se,a===null?Ww:function(){return Wy(t),a(l)})}function Xy(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yr,lastRenderedState:se},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yr,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function Wy(t){var r=Xy(t).next.queue;wl(t,r,{},In())}function Af(){return Jt(Bl)}function Zy(){return Tt().memoizedState}function Jy(){return Tt().memoizedState}function Zw(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=In();t=Ts(a);var l=ws(r,t,a);l!==null&&(Dn(l,r,a),vl(l,r,a)),r={cache:tf()},t.payload=r;return}r=r.return}}function Jw(t,r,a){var l=In();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Nu(t)?tv(r,a):(a=Gh(t,r,a,l),a!==null&&(Dn(a,t,l),nv(a,r,l)))}function ev(t,r,a){var l=In();wl(t,r,a,l)}function wl(t,r,a,l){var d={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Nu(t))tv(r,d);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=r.lastRenderedReducer,f!==null))try{var x=r.lastRenderedState,w=f(x,a);if(d.hasEagerState=!0,d.eagerState=w,Sn(w,x))return du(t,r,d,0),at===null&&uu(),!1}catch{}finally{}if(a=Gh(t,r,d,l),a!==null)return Dn(a,t,l),nv(a,r,l),!0}return!1}function Rf(t,r,a,l){if(l={lane:2,revertLane:im(),action:l,hasEagerState:!1,eagerState:null,next:null},Nu(t)){if(r)throw Error(i(479))}else r=Gh(t,a,l,2),r!==null&&Dn(r,t,2)}function Nu(t){var r=t.alternate;return t===De||r!==null&&r===De}function tv(t,r){La=Eu=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function nv(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Qo(t,a)}}var Cu={readContext:Jt,use:wu,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt,useHostTransitionStatus:gt,useFormState:gt,useActionState:gt,useOptimistic:gt,useMemoCache:gt,useCacheRefresh:gt},rv={readContext:Jt,use:wu,useCallback:function(t,r){return fn().memoizedState=[t,r===void 0?null:r],t},useContext:Jt,useEffect:zy,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,Ru(4194308,4,Fy.bind(null,r,t),a)},useLayoutEffect:function(t,r){return Ru(4194308,4,t,r)},useInsertionEffect:function(t,r){Ru(4,2,t,r)},useMemo:function(t,r){var a=fn();r=r===void 0?null:r;var l=t();if(Fi){Tn(!0);try{t()}finally{Tn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=fn();if(a!==void 0){var d=a(r);if(Fi){Tn(!0);try{a(r)}finally{Tn(!1)}}}else d=r;return l.memoizedState=l.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},l.queue=t,t=t.dispatch=Jw.bind(null,De,t),[l.memoizedState,t]},useRef:function(t){var r=fn();return t={current:t},r.memoizedState=t},useState:function(t){t=xf(t);var r=t.queue,a=ev.bind(null,De,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:Tf,useDeferredValue:function(t,r){var a=fn();return wf(a,t,r)},useTransition:function(){var t=xf(!1);return t=$y.bind(null,De,t.queue,!0,!1),fn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=De,d=fn();if(Ke){if(a===void 0)throw Error(i(407));a=a()}else{if(a=r(),at===null)throw Error(i(349));(He&124)!==0||wy(l,r,a)}d.memoizedState=a;var f={value:a,getSnapshot:r};return d.queue=f,zy(Ay.bind(null,l,f,t),[t]),l.flags|=2048,za(9,Au(),Sy.bind(null,l,f,a,r),null),a},useId:function(){var t=fn(),r=at.identifierPrefix;if(Ke){var a=Fr,l=Hr;a=(l&~(1<<32-Zt(l)-1)).toString(32)+a,r="«"+r+"R"+a,a=Tu++,0<a&&(r+="H"+a.toString(32)),r+="»"}else a=Yw++,r="«"+r+"r"+a.toString(32)+"»";return t.memoizedState=r},useHostTransitionStatus:Af,useFormState:ky,useActionState:ky,useOptimistic:function(t){var r=fn();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Rf.bind(null,De,!0,a),a.dispatch=r,[t,r]},useMemoCache:vf,useCacheRefresh:function(){return fn().memoizedState=Zw.bind(null,De)}},sv={readContext:Jt,use:wu,useCallback:Qy,useContext:Jt,useEffect:qy,useImperativeHandle:Gy,useInsertionEffect:By,useLayoutEffect:Hy,useMemo:Yy,useReducer:Su,useRef:Uy,useState:function(){return Su(Yr)},useDebugValue:Tf,useDeferredValue:function(t,r){var a=Tt();return Ky(a,tt.memoizedState,t,r)},useTransition:function(){var t=Su(Yr)[0],r=Tt().memoizedState;return[typeof t=="boolean"?t:El(t),r]},useSyncExternalStore:Ty,useId:Zy,useHostTransitionStatus:Af,useFormState:Py,useActionState:Py,useOptimistic:function(t,r){var a=Tt();return Cy(a,tt,t,r)},useMemoCache:vf,useCacheRefresh:Jy},e1={readContext:Jt,use:wu,useCallback:Qy,useContext:Jt,useEffect:qy,useImperativeHandle:Gy,useInsertionEffect:By,useLayoutEffect:Hy,useMemo:Yy,useReducer:bf,useRef:Uy,useState:function(){return bf(Yr)},useDebugValue:Tf,useDeferredValue:function(t,r){var a=Tt();return tt===null?wf(a,t,r):Ky(a,tt.memoizedState,t,r)},useTransition:function(){var t=bf(Yr)[0],r=Tt().memoizedState;return[typeof t=="boolean"?t:El(t),r]},useSyncExternalStore:Ty,useId:Zy,useHostTransitionStatus:Af,useFormState:Ly,useActionState:Ly,useOptimistic:function(t,r){var a=Tt();return tt!==null?Cy(a,tt,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:vf,useCacheRefresh:Jy},qa=null,Sl=0;function Iu(t){var r=Sl;return Sl+=1,qa===null&&(qa=[]),py(qa,t,r)}function Al(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function Du(t,r){throw r.$$typeof===E?Error(i(525)):(t=Object.prototype.toString.call(r),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function iv(t){var r=t._init;return r(t._payload)}function av(t){function r(U,P){if(t){var q=U.deletions;q===null?(U.deletions=[P],U.flags|=16):q.push(P)}}function a(U,P){if(!t)return null;for(;P!==null;)r(U,P),P=P.sibling;return null}function l(U){for(var P=new Map;U!==null;)U.key!==null?P.set(U.key,U):P.set(U.index,U),U=U.sibling;return P}function d(U,P){return U=Br(U,P),U.index=0,U.sibling=null,U}function f(U,P,q){return U.index=q,t?(q=U.alternate,q!==null?(q=q.index,q<P?(U.flags|=67108866,P):q):(U.flags|=67108866,P)):(U.flags|=1048576,P)}function x(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function w(U,P,q,Z){return P===null||P.tag!==6?(P=Yh(q,U.mode,Z),P.return=U,P):(P=d(P,q),P.return=U,P)}function D(U,P,q,Z){var pe=q.type;return pe===L?W(U,P,q.props.children,Z,q.key):P!==null&&(P.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===S&&iv(pe)===P.type)?(P=d(P,q.props),Al(P,q),P.return=U,P):(P=fu(q.type,q.key,q.props,null,U.mode,Z),Al(P,q),P.return=U,P)}function B(U,P,q,Z){return P===null||P.tag!==4||P.stateNode.containerInfo!==q.containerInfo||P.stateNode.implementation!==q.implementation?(P=Kh(q,U.mode,Z),P.return=U,P):(P=d(P,q.children||[]),P.return=U,P)}function W(U,P,q,Z,pe){return P===null||P.tag!==7?(P=Pi(q,U.mode,Z,pe),P.return=U,P):(P=d(P,q),P.return=U,P)}function ee(U,P,q){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=Yh(""+P,U.mode,q),P.return=U,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case T:return q=fu(P.type,P.key,P.props,null,U.mode,q),Al(q,P),q.return=U,q;case M:return P=Kh(P,U.mode,q),P.return=U,P;case S:var Z=P._init;return P=Z(P._payload),ee(U,P,q)}if(Ie(P)||j(P))return P=Pi(P,U.mode,q,null),P.return=U,P;if(typeof P.then=="function")return ee(U,Iu(P),q);if(P.$$typeof===ie)return ee(U,yu(U,P),q);Du(U,P)}return null}function G(U,P,q,Z){var pe=P!==null?P.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return pe!==null?null:w(U,P,""+q,Z);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case T:return q.key===pe?D(U,P,q,Z):null;case M:return q.key===pe?B(U,P,q,Z):null;case S:return pe=q._init,q=pe(q._payload),G(U,P,q,Z)}if(Ie(q)||j(q))return pe!==null?null:W(U,P,q,Z,null);if(typeof q.then=="function")return G(U,P,Iu(q),Z);if(q.$$typeof===ie)return G(U,P,yu(U,q),Z);Du(U,q)}return null}function Q(U,P,q,Z,pe){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return U=U.get(q)||null,w(P,U,""+Z,pe);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case T:return U=U.get(Z.key===null?q:Z.key)||null,D(P,U,Z,pe);case M:return U=U.get(Z.key===null?q:Z.key)||null,B(P,U,Z,pe);case S:var Me=Z._init;return Z=Me(Z._payload),Q(U,P,q,Z,pe)}if(Ie(Z)||j(Z))return U=U.get(q)||null,W(P,U,Z,pe,null);if(typeof Z.then=="function")return Q(U,P,q,Iu(Z),pe);if(Z.$$typeof===ie)return Q(U,P,q,yu(P,Z),pe);Du(P,Z)}return null}function Ae(U,P,q,Z){for(var pe=null,Me=null,ve=P,Ee=P=0,Ut=null;ve!==null&&Ee<q.length;Ee++){ve.index>Ee?(Ut=ve,ve=null):Ut=ve.sibling;var Ye=G(U,ve,q[Ee],Z);if(Ye===null){ve===null&&(ve=Ut);break}t&&ve&&Ye.alternate===null&&r(U,ve),P=f(Ye,P,Ee),Me===null?pe=Ye:Me.sibling=Ye,Me=Ye,ve=Ut}if(Ee===q.length)return a(U,ve),Ke&&Li(U,Ee),pe;if(ve===null){for(;Ee<q.length;Ee++)ve=ee(U,q[Ee],Z),ve!==null&&(P=f(ve,P,Ee),Me===null?pe=ve:Me.sibling=ve,Me=ve);return Ke&&Li(U,Ee),pe}for(ve=l(ve);Ee<q.length;Ee++)Ut=Q(ve,U,Ee,q[Ee],Z),Ut!==null&&(t&&Ut.alternate!==null&&ve.delete(Ut.key===null?Ee:Ut.key),P=f(Ut,P,Ee),Me===null?pe=Ut:Me.sibling=Ut,Me=Ut);return t&&ve.forEach(function(qs){return r(U,qs)}),Ke&&Li(U,Ee),pe}function xe(U,P,q,Z){if(q==null)throw Error(i(151));for(var pe=null,Me=null,ve=P,Ee=P=0,Ut=null,Ye=q.next();ve!==null&&!Ye.done;Ee++,Ye=q.next()){ve.index>Ee?(Ut=ve,ve=null):Ut=ve.sibling;var qs=G(U,ve,Ye.value,Z);if(qs===null){ve===null&&(ve=Ut);break}t&&ve&&qs.alternate===null&&r(U,ve),P=f(qs,P,Ee),Me===null?pe=qs:Me.sibling=qs,Me=qs,ve=Ut}if(Ye.done)return a(U,ve),Ke&&Li(U,Ee),pe;if(ve===null){for(;!Ye.done;Ee++,Ye=q.next())Ye=ee(U,Ye.value,Z),Ye!==null&&(P=f(Ye,P,Ee),Me===null?pe=Ye:Me.sibling=Ye,Me=Ye);return Ke&&Li(U,Ee),pe}for(ve=l(ve);!Ye.done;Ee++,Ye=q.next())Ye=Q(ve,U,Ee,Ye.value,Z),Ye!==null&&(t&&Ye.alternate!==null&&ve.delete(Ye.key===null?Ee:Ye.key),P=f(Ye,P,Ee),Me===null?pe=Ye:Me.sibling=Ye,Me=Ye);return t&&ve.forEach(function(tS){return r(U,tS)}),Ke&&Li(U,Ee),pe}function rt(U,P,q,Z){if(typeof q=="object"&&q!==null&&q.type===L&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case T:e:{for(var pe=q.key;P!==null;){if(P.key===pe){if(pe=q.type,pe===L){if(P.tag===7){a(U,P.sibling),Z=d(P,q.props.children),Z.return=U,U=Z;break e}}else if(P.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===S&&iv(pe)===P.type){a(U,P.sibling),Z=d(P,q.props),Al(Z,q),Z.return=U,U=Z;break e}a(U,P);break}else r(U,P);P=P.sibling}q.type===L?(Z=Pi(q.props.children,U.mode,Z,q.key),Z.return=U,U=Z):(Z=fu(q.type,q.key,q.props,null,U.mode,Z),Al(Z,q),Z.return=U,U=Z)}return x(U);case M:e:{for(pe=q.key;P!==null;){if(P.key===pe)if(P.tag===4&&P.stateNode.containerInfo===q.containerInfo&&P.stateNode.implementation===q.implementation){a(U,P.sibling),Z=d(P,q.children||[]),Z.return=U,U=Z;break e}else{a(U,P);break}else r(U,P);P=P.sibling}Z=Kh(q,U.mode,Z),Z.return=U,U=Z}return x(U);case S:return pe=q._init,q=pe(q._payload),rt(U,P,q,Z)}if(Ie(q))return Ae(U,P,q,Z);if(j(q)){if(pe=j(q),typeof pe!="function")throw Error(i(150));return q=pe.call(q),xe(U,P,q,Z)}if(typeof q.then=="function")return rt(U,P,Iu(q),Z);if(q.$$typeof===ie)return rt(U,P,yu(U,q),Z);Du(U,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,P!==null&&P.tag===6?(a(U,P.sibling),Z=d(P,q),Z.return=U,U=Z):(a(U,P),Z=Yh(q,U.mode,Z),Z.return=U,U=Z),x(U)):a(U,P)}return function(U,P,q,Z){try{Sl=0;var pe=rt(U,P,q,Z);return qa=null,pe}catch(ve){if(ve===gl||ve===_u)throw ve;var Me=An(29,ve,null,U.mode);return Me.lanes=Z,Me.return=U,Me}finally{}}}var Ba=av(!0),ov=av(!1),Gn=ne(null),_r=null;function As(t){var r=t.alternate;re(It,It.current&1),re(Gn,t),_r===null&&(r===null||Va.current!==null||r.memoizedState!==null)&&(_r=t)}function lv(t){if(t.tag===22){if(re(It,It.current),re(Gn,t),_r===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(_r=t)}}else Rs()}function Rs(){re(It,It.current),re(Gn,Gn.current)}function Kr(t){de(Gn),_r===t&&(_r=null),de(It)}var It=ne(0);function Ou(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||ym(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Nf(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:_({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Cf={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=In(),d=Ts(l);d.payload=r,a!=null&&(d.callback=a),r=ws(t,d,l),r!==null&&(Dn(r,t,l),vl(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=In(),d=Ts(l);d.tag=1,d.payload=r,a!=null&&(d.callback=a),r=ws(t,d,l),r!==null&&(Dn(r,t,l),vl(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=In(),l=Ts(a);l.tag=2,r!=null&&(l.callback=r),r=ws(t,l,a),r!==null&&(Dn(r,t,a),vl(r,t,a))}};function cv(t,r,a,l,d,f,x){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,x):r.prototype&&r.prototype.isPureReactComponent?!ll(a,l)||!ll(d,f):!0}function uv(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&Cf.enqueueReplaceState(r,r.state,null)}function Gi(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=_({},a));for(var d in t)a[d]===void 0&&(a[d]=t[d])}return a}var ju=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function dv(t){ju(t)}function hv(t){console.error(t)}function fv(t){ju(t)}function Mu(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function mv(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function If(t,r,a){return a=Ts(a),a.tag=3,a.payload={element:null},a.callback=function(){Mu(t,r)},a}function pv(t){return t=Ts(t),t.tag=3,t}function gv(t,r,a,l){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var f=l.value;t.payload=function(){return d(f)},t.callback=function(){mv(r,a,l)}}var x=a.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(t.callback=function(){mv(r,a,l),typeof d!="function"&&(js===null?js=new Set([this]):js.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function t1(t,r,a,l,d){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&fl(r,a,d,!0),a=Gn.current,a!==null){switch(a.tag){case 13:return _r===null?em():a.alternate===null&&mt===0&&(mt=3),a.flags&=-257,a.flags|=65536,a.lanes=d,l===sf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),nm(t,l,d)),!1;case 22:return a.flags|=65536,l===sf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),nm(t,l,d)),!1}throw Error(i(435,a.tag))}return nm(t,l,d),em(),!1}if(Ke)return r=Gn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=d,l!==Wh&&(t=Error(i(422),{cause:l}),hl(qn(t,a)))):(l!==Wh&&(r=Error(i(423),{cause:l}),hl(qn(r,a))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,l=qn(l,a),d=If(t.stateNode,l,d),lf(t,d),mt!==4&&(mt=2)),!1;var f=Error(i(520),{cause:l});if(f=qn(f,a),jl===null?jl=[f]:jl.push(f),mt!==4&&(mt=2),r===null)return!0;l=qn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=d&-d,a.lanes|=t,t=If(a.stateNode,l,t),lf(a,t),!1;case 1:if(r=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(js===null||!js.has(f))))return a.flags|=65536,d&=-d,a.lanes|=d,d=pv(d),gv(d,t,a,l),lf(a,d),!1}a=a.return}while(a!==null);return!1}var yv=Error(i(461)),Vt=!1;function Gt(t,r,a,l){r.child=t===null?ov(r,null,a,l):Ba(r,t.child,a,l)}function vv(t,r,a,l,d){a=a.render;var f=r.ref;if("ref"in l){var x={};for(var w in l)w!=="ref"&&(x[w]=l[w])}else x=l;return Bi(r),l=ff(t,r,a,x,f,d),w=mf(),t!==null&&!Vt?(pf(t,r,d),$r(t,r,d)):(Ke&&w&&$h(r),r.flags|=1,Gt(t,r,l,d),r.child)}function _v(t,r,a,l,d){if(t===null){var f=a.type;return typeof f=="function"&&!Qh(f)&&f.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=f,bv(t,r,f,l,d)):(t=fu(a.type,null,l,r,r.mode,d),t.ref=r.ref,t.return=r,r.child=t)}if(f=t.child,!Lf(t,d)){var x=f.memoizedProps;if(a=a.compare,a=a!==null?a:ll,a(x,l)&&t.ref===r.ref)return $r(t,r,d)}return r.flags|=1,t=Br(f,l),t.ref=r.ref,t.return=r,r.child=t}function bv(t,r,a,l,d){if(t!==null){var f=t.memoizedProps;if(ll(f,l)&&t.ref===r.ref)if(Vt=!1,r.pendingProps=l=f,Lf(t,d))(t.flags&131072)!==0&&(Vt=!0);else return r.lanes=t.lanes,$r(t,r,d)}return Df(t,r,a,l,d)}function xv(t,r,a){var l=r.pendingProps,d=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=f!==null?f.baseLanes|a:a,t!==null){for(d=r.child=t.child,f=0;d!==null;)f=f|d.lanes|d.childLanes,d=d.sibling;r.childLanes=f&~l}else r.childLanes=0,r.child=null;return Ev(t,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&vu(r,f!==null?f.cachePool:null),f!==null?by(r,f):uf(),lv(r);else return r.lanes=r.childLanes=536870912,Ev(t,r,f!==null?f.baseLanes|a:a,a)}else f!==null?(vu(r,f.cachePool),by(r,f),Rs(),r.memoizedState=null):(t!==null&&vu(r,null),uf(),Rs());return Gt(t,r,d,a),r.child}function Ev(t,r,a,l){var d=rf();return d=d===null?null:{parent:Ct._currentValue,pool:d},r.memoizedState={baseLanes:a,cachePool:d},t!==null&&vu(r,null),uf(),lv(r),t!==null&&fl(t,r,l,!0),null}function ku(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function Df(t,r,a,l,d){return Bi(r),a=ff(t,r,a,l,void 0,d),l=mf(),t!==null&&!Vt?(pf(t,r,d),$r(t,r,d)):(Ke&&l&&$h(r),r.flags|=1,Gt(t,r,a,d),r.child)}function Tv(t,r,a,l,d,f){return Bi(r),r.updateQueue=null,a=Ey(r,l,a,d),xy(t),l=mf(),t!==null&&!Vt?(pf(t,r,f),$r(t,r,f)):(Ke&&l&&$h(r),r.flags|=1,Gt(t,r,a,f),r.child)}function wv(t,r,a,l,d){if(Bi(r),r.stateNode===null){var f=Oa,x=a.contextType;typeof x=="object"&&x!==null&&(f=Jt(x)),f=new a(l,f),r.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Cf,r.stateNode=f,f._reactInternals=r,f=r.stateNode,f.props=l,f.state=r.memoizedState,f.refs={},af(r),x=a.contextType,f.context=typeof x=="object"&&x!==null?Jt(x):Oa,f.state=r.memoizedState,x=a.getDerivedStateFromProps,typeof x=="function"&&(Nf(r,a,x,l),f.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(x=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),x!==f.state&&Cf.enqueueReplaceState(f,f.state,null),bl(r,l,f,d),_l(),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){f=r.stateNode;var w=r.memoizedProps,D=Gi(a,w);f.props=D;var B=f.context,W=a.contextType;x=Oa,typeof W=="object"&&W!==null&&(x=Jt(W));var ee=a.getDerivedStateFromProps;W=typeof ee=="function"||typeof f.getSnapshotBeforeUpdate=="function",w=r.pendingProps!==w,W||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(w||B!==x)&&uv(r,f,l,x),Es=!1;var G=r.memoizedState;f.state=G,bl(r,l,f,d),_l(),B=r.memoizedState,w||G!==B||Es?(typeof ee=="function"&&(Nf(r,a,ee,l),B=r.memoizedState),(D=Es||cv(r,a,D,l,G,B,x))?(W||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(r.flags|=4194308)):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=B),f.props=l,f.state=B,f.context=x,l=D):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{f=r.stateNode,of(t,r),x=r.memoizedProps,W=Gi(a,x),f.props=W,ee=r.pendingProps,G=f.context,B=a.contextType,D=Oa,typeof B=="object"&&B!==null&&(D=Jt(B)),w=a.getDerivedStateFromProps,(B=typeof w=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(x!==ee||G!==D)&&uv(r,f,l,D),Es=!1,G=r.memoizedState,f.state=G,bl(r,l,f,d),_l();var Q=r.memoizedState;x!==ee||G!==Q||Es||t!==null&&t.dependencies!==null&&gu(t.dependencies)?(typeof w=="function"&&(Nf(r,a,w,l),Q=r.memoizedState),(W=Es||cv(r,a,W,l,G,Q,D)||t!==null&&t.dependencies!==null&&gu(t.dependencies))?(B||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,Q,D),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,Q,D)),typeof f.componentDidUpdate=="function"&&(r.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof f.componentDidUpdate!="function"||x===t.memoizedProps&&G===t.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||x===t.memoizedProps&&G===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=Q),f.props=l,f.state=Q,f.context=D,l=W):(typeof f.componentDidUpdate!="function"||x===t.memoizedProps&&G===t.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||x===t.memoizedProps&&G===t.memoizedState||(r.flags|=1024),l=!1)}return f=l,ku(t,r),l=(r.flags&128)!==0,f||l?(f=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),r.flags|=1,t!==null&&l?(r.child=Ba(r,t.child,null,d),r.child=Ba(r,null,a,d)):Gt(t,r,a,d),r.memoizedState=f.state,t=r.child):t=$r(t,r,d),t}function Sv(t,r,a,l){return dl(),r.flags|=256,Gt(t,r,a,l),r.child}var Of={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jf(t){return{baseLanes:t,cachePool:hy()}}function Mf(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=Qn),t}function Av(t,r,a){var l=r.pendingProps,d=!1,f=(r.flags&128)!==0,x;if((x=f)||(x=t!==null&&t.memoizedState===null?!1:(It.current&2)!==0),x&&(d=!0,r.flags&=-129),x=(r.flags&32)!==0,r.flags&=-33,t===null){if(Ke){if(d?As(r):Rs(),Ke){var w=ft,D;if(D=w){e:{for(D=w,w=vr;D.nodeType!==8;){if(!w){w=null;break e}if(D=nr(D.nextSibling),D===null){w=null;break e}}w=D}w!==null?(r.memoizedState={dehydrated:w,treeContext:Vi!==null?{id:Hr,overflow:Fr}:null,retryLane:536870912,hydrationErrors:null},D=An(18,null,null,0),D.stateNode=w,D.return=r,r.child=D,dn=r,ft=null,D=!0):D=!1}D||zi(r)}if(w=r.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return ym(w)?r.lanes=32:r.lanes=536870912,null;Kr(r)}return w=l.children,l=l.fallback,d?(Rs(),d=r.mode,w=Pu({mode:"hidden",children:w},d),l=Pi(l,d,a,null),w.return=r,l.return=r,w.sibling=l,r.child=w,d=r.child,d.memoizedState=jf(a),d.childLanes=Mf(t,x,a),r.memoizedState=Of,l):(As(r),kf(r,w))}if(D=t.memoizedState,D!==null&&(w=D.dehydrated,w!==null)){if(f)r.flags&256?(As(r),r.flags&=-257,r=Pf(t,r,a)):r.memoizedState!==null?(Rs(),r.child=t.child,r.flags|=128,r=null):(Rs(),d=l.fallback,w=r.mode,l=Pu({mode:"visible",children:l.children},w),d=Pi(d,w,a,null),d.flags|=2,l.return=r,d.return=r,l.sibling=d,r.child=l,Ba(r,t.child,null,a),l=r.child,l.memoizedState=jf(a),l.childLanes=Mf(t,x,a),r.memoizedState=Of,r=d);else if(As(r),ym(w)){if(x=w.nextSibling&&w.nextSibling.dataset,x)var B=x.dgst;x=B,l=Error(i(419)),l.stack="",l.digest=x,hl({value:l,source:null,stack:null}),r=Pf(t,r,a)}else if(Vt||fl(t,r,a,!1),x=(a&t.childLanes)!==0,Vt||x){if(x=at,x!==null&&(l=a&-a,l=(l&42)!==0?1:ms(l),l=(l&(x.suspendedLanes|a))!==0?0:l,l!==0&&l!==D.retryLane))throw D.retryLane=l,Da(t,l),Dn(x,t,l),yv;w.data==="$?"||em(),r=Pf(t,r,a)}else w.data==="$?"?(r.flags|=192,r.child=t.child,r=null):(t=D.treeContext,ft=nr(w.nextSibling),dn=r,Ke=!0,Ui=null,vr=!1,t!==null&&(Hn[Fn++]=Hr,Hn[Fn++]=Fr,Hn[Fn++]=Vi,Hr=t.id,Fr=t.overflow,Vi=r),r=kf(r,l.children),r.flags|=4096);return r}return d?(Rs(),d=l.fallback,w=r.mode,D=t.child,B=D.sibling,l=Br(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,B!==null?d=Br(B,d):(d=Pi(d,w,a,null),d.flags|=2),d.return=r,l.return=r,l.sibling=d,r.child=l,l=d,d=r.child,w=t.child.memoizedState,w===null?w=jf(a):(D=w.cachePool,D!==null?(B=Ct._currentValue,D=D.parent!==B?{parent:B,pool:B}:D):D=hy(),w={baseLanes:w.baseLanes|a,cachePool:D}),d.memoizedState=w,d.childLanes=Mf(t,x,a),r.memoizedState=Of,l):(As(r),a=t.child,t=a.sibling,a=Br(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(x=r.deletions,x===null?(r.deletions=[t],r.flags|=16):x.push(t)),r.child=a,r.memoizedState=null,a)}function kf(t,r){return r=Pu({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function Pu(t,r){return t=An(22,t,null,r),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Pf(t,r,a){return Ba(r,t.child,null,a),t=kf(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Rv(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),Jh(t.return,r,a)}function Vf(t,r,a,l,d){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:d}:(f.isBackwards=r,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=a,f.tailMode=d)}function Nv(t,r,a){var l=r.pendingProps,d=l.revealOrder,f=l.tail;if(Gt(t,r,l.children,a),l=It.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Rv(t,a,r);else if(t.tag===19)Rv(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(re(It,l),d){case"forwards":for(a=r.child,d=null;a!==null;)t=a.alternate,t!==null&&Ou(t)===null&&(d=a),a=a.sibling;a=d,a===null?(d=r.child,r.child=null):(d=a.sibling,a.sibling=null),Vf(r,!1,d,a,f);break;case"backwards":for(a=null,d=r.child,r.child=null;d!==null;){if(t=d.alternate,t!==null&&Ou(t)===null){r.child=d;break}t=d.sibling,d.sibling=a,a=d,d=t}Vf(r,!0,a,null,f);break;case"together":Vf(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function $r(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Os|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(fl(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(i(153));if(r.child!==null){for(t=r.child,a=Br(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=Br(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function Lf(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&gu(t)))}function n1(t,r,a){switch(r.tag){case 3:Xe(r,r.stateNode.containerInfo),xs(r,Ct,t.memoizedState.cache),dl();break;case 27:case 5:xn(r);break;case 4:Xe(r,r.stateNode.containerInfo);break;case 10:xs(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(As(r),r.flags|=128,null):(a&r.child.childLanes)!==0?Av(t,r,a):(As(r),t=$r(t,r,a),t!==null?t.sibling:null);As(r);break;case 19:var d=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(fl(t,r,a,!1),l=(a&r.childLanes)!==0),d){if(l)return Nv(t,r,a);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),re(It,It.current),l)break;return null;case 22:case 23:return r.lanes=0,xv(t,r,a);case 24:xs(r,Ct,t.memoizedState.cache)}return $r(t,r,a)}function Cv(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)Vt=!0;else{if(!Lf(t,a)&&(r.flags&128)===0)return Vt=!1,n1(t,r,a);Vt=(t.flags&131072)!==0}else Vt=!1,Ke&&(r.flags&1048576)!==0&&iy(r,pu,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var l=r.elementType,d=l._init;if(l=d(l._payload),r.type=l,typeof l=="function")Qh(l)?(t=Gi(l,t),r.tag=1,r=wv(null,r,l,t,a)):(r.tag=0,r=Df(null,r,l,t,a));else{if(l!=null){if(d=l.$$typeof,d===Y){r.tag=11,r=vv(null,r,l,t,a);break e}else if(d===C){r.tag=14,r=_v(null,r,l,t,a);break e}}throw r=Qe(l)||l,Error(i(306,r,""))}}return r;case 0:return Df(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,d=Gi(l,r.pendingProps),wv(t,r,l,d,a);case 3:e:{if(Xe(r,r.stateNode.containerInfo),t===null)throw Error(i(387));l=r.pendingProps;var f=r.memoizedState;d=f.element,of(t,r),bl(r,l,null,a);var x=r.memoizedState;if(l=x.cache,xs(r,Ct,l),l!==f.cache&&ef(r,[Ct],a,!0),_l(),l=x.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:x.cache},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){r=Sv(t,r,l,a);break e}else if(l!==d){d=qn(Error(i(424)),r),hl(d),r=Sv(t,r,l,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ft=nr(t.firstChild),dn=r,Ke=!0,Ui=null,vr=!0,a=ov(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(dl(),l===d){r=$r(t,r,a);break e}Gt(t,r,l,a)}r=r.child}return r;case 26:return ku(t,r),t===null?(a=j0(r.type,null,r.pendingProps,null))?r.memoizedState=a:Ke||(a=r.type,t=r.pendingProps,l=Xu(Te.current).createElement(a),l[At]=r,l[bt]=t,Yt(l,a,t),pt(l),r.stateNode=l):r.memoizedState=j0(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return xn(r),t===null&&Ke&&(l=r.stateNode=I0(r.type,r.pendingProps,Te.current),dn=r,vr=!0,d=ft,Ps(r.type)?(vm=d,ft=nr(l.firstChild)):ft=d),Gt(t,r,r.pendingProps.children,a),ku(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&Ke&&((d=l=ft)&&(l=I1(l,r.type,r.pendingProps,vr),l!==null?(r.stateNode=l,dn=r,ft=nr(l.firstChild),vr=!1,d=!0):d=!1),d||zi(r)),xn(r),d=r.type,f=r.pendingProps,x=t!==null?t.memoizedProps:null,l=f.children,mm(d,f)?l=null:x!==null&&mm(d,x)&&(r.flags|=32),r.memoizedState!==null&&(d=ff(t,r,Kw,null,null,a),Bl._currentValue=d),ku(t,r),Gt(t,r,l,a),r.child;case 6:return t===null&&Ke&&((t=a=ft)&&(a=D1(a,r.pendingProps,vr),a!==null?(r.stateNode=a,dn=r,ft=null,t=!0):t=!1),t||zi(r)),null;case 13:return Av(t,r,a);case 4:return Xe(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=Ba(r,null,l,a):Gt(t,r,l,a),r.child;case 11:return vv(t,r,r.type,r.pendingProps,a);case 7:return Gt(t,r,r.pendingProps,a),r.child;case 8:return Gt(t,r,r.pendingProps.children,a),r.child;case 12:return Gt(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,xs(r,r.type,l.value),Gt(t,r,l.children,a),r.child;case 9:return d=r.type._context,l=r.pendingProps.children,Bi(r),d=Jt(d),l=l(d),r.flags|=1,Gt(t,r,l,a),r.child;case 14:return _v(t,r,r.type,r.pendingProps,a);case 15:return bv(t,r,r.type,r.pendingProps,a);case 19:return Nv(t,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},t===null?(a=Pu(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=Br(t.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return xv(t,r,a);case 24:return Bi(r),l=Jt(Ct),t===null?(d=rf(),d===null&&(d=at,f=tf(),d.pooledCache=f,f.refCount++,f!==null&&(d.pooledCacheLanes|=a),d=f),r.memoizedState={parent:l,cache:d},af(r),xs(r,Ct,d)):((t.lanes&a)!==0&&(of(t,r),bl(r,null,null,a),_l()),d=t.memoizedState,f=r.memoizedState,d.parent!==l?(d={parent:l,cache:l},r.memoizedState=d,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=d),xs(r,Ct,l)):(l=f.cache,xs(r,Ct,l),l!==d.cache&&ef(r,[Ct],a,!0))),Gt(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function Xr(t){t.flags|=4}function Iv(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!L0(r)){if(r=Gn.current,r!==null&&((He&4194048)===He?_r!==null:(He&62914560)!==He&&(He&536870912)===0||r!==_r))throw yl=sf,fy;t.flags|=8192}}function Vu(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Fo():536870912,t.lanes|=r,Qa|=r)}function Rl(t,r){if(!Ke)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ut(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function r1(t,r,a){var l=r.pendingProps;switch(Xh(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(r),null;case 1:return ut(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Qr(Ct),on(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ul(r)?Xr(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,ly())),ut(r),null;case 26:return a=r.memoizedState,t===null?(Xr(r),a!==null?(ut(r),Iv(r,a)):(ut(r),r.flags&=-16777217)):a?a!==t.memoizedState?(Xr(r),ut(r),Iv(r,a)):(ut(r),r.flags&=-16777217):(t.memoizedProps!==l&&Xr(r),ut(r),r.flags&=-16777217),null;case 27:En(r),a=Te.current;var d=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Xr(r);else{if(!l){if(r.stateNode===null)throw Error(i(166));return ut(r),null}t=me.current,ul(r)?ay(r):(t=I0(d,l,a),r.stateNode=t,Xr(r))}return ut(r),null;case 5:if(En(r),a=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Xr(r);else{if(!l){if(r.stateNode===null)throw Error(i(166));return ut(r),null}if(t=me.current,ul(r))ay(r);else{switch(d=Xu(Te.current),t){case 1:t=d.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=d.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=d.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?d.createElement("select",{is:l.is}):d.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?d.createElement(a,{is:l.is}):d.createElement(a)}}t[At]=r,t[bt]=l;e:for(d=r.child;d!==null;){if(d.tag===5||d.tag===6)t.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===r)break e;for(;d.sibling===null;){if(d.return===null||d.return===r)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}r.stateNode=t;e:switch(Yt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Xr(r)}}return ut(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&Xr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(i(166));if(t=Te.current,ul(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,d=dn,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}t[At]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||T0(t.nodeValue,a)),t||zi(r)}else t=Xu(t).createTextNode(l),t[At]=r,r.stateNode=t}return ut(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=ul(r),l!==null&&l.dehydrated!==null){if(t===null){if(!d)throw Error(i(318));if(d=r.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[At]=r}else dl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ut(r),d=!1}else d=ly(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return r.flags&256?(Kr(r),r):(Kr(r),null)}if(Kr(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=r.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==d&&(l.flags|=2048)}return a!==t&&a&&(r.child.flags|=8192),Vu(r,r.updateQueue),ut(r),null;case 4:return on(),t===null&&cm(r.stateNode.containerInfo),ut(r),null;case 10:return Qr(r.type),ut(r),null;case 19:if(de(It),d=r.memoizedState,d===null)return ut(r),null;if(l=(r.flags&128)!==0,f=d.rendering,f===null)if(l)Rl(d,!1);else{if(mt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(f=Ou(t),f!==null){for(r.flags|=128,Rl(d,!1),t=f.updateQueue,r.updateQueue=t,Vu(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)sy(a,t),a=a.sibling;return re(It,It.current&1|2),r.child}t=t.sibling}d.tail!==null&&kn()>zu&&(r.flags|=128,l=!0,Rl(d,!1),r.lanes=4194304)}else{if(!l)if(t=Ou(f),t!==null){if(r.flags|=128,l=!0,t=t.updateQueue,r.updateQueue=t,Vu(r,t),Rl(d,!0),d.tail===null&&d.tailMode==="hidden"&&!f.alternate&&!Ke)return ut(r),null}else 2*kn()-d.renderingStartTime>zu&&a!==536870912&&(r.flags|=128,l=!0,Rl(d,!1),r.lanes=4194304);d.isBackwards?(f.sibling=r.child,r.child=f):(t=d.last,t!==null?t.sibling=f:r.child=f,d.last=f)}return d.tail!==null?(r=d.tail,d.rendering=r,d.tail=r.sibling,d.renderingStartTime=kn(),r.sibling=null,t=It.current,re(It,l?t&1|2:t&1),r):(ut(r),null);case 22:case 23:return Kr(r),df(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(ut(r),r.subtreeFlags&6&&(r.flags|=8192)):ut(r),a=r.updateQueue,a!==null&&Vu(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&de(Hi),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Qr(Ct),ut(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function s1(t,r){switch(Xh(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Qr(Ct),on(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return En(r),null;case 13:if(Kr(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(i(340));dl()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return de(It),null;case 4:return on(),null;case 10:return Qr(r.type),null;case 22:case 23:return Kr(r),df(),t!==null&&de(Hi),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return Qr(Ct),null;case 25:return null;default:return null}}function Dv(t,r){switch(Xh(r),r.tag){case 3:Qr(Ct),on();break;case 26:case 27:case 5:En(r);break;case 4:on();break;case 13:Kr(r);break;case 19:de(It);break;case 10:Qr(r.type);break;case 22:case 23:Kr(r),df(),t!==null&&de(Hi);break;case 24:Qr(Ct)}}function Nl(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var d=l.next;a=d;do{if((a.tag&t)===t){l=void 0;var f=a.create,x=a.inst;l=f(),x.destroy=l}a=a.next}while(a!==d)}}catch(w){st(r,r.return,w)}}function Ns(t,r,a){try{var l=r.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var f=d.next;l=f;do{if((l.tag&t)===t){var x=l.inst,w=x.destroy;if(w!==void 0){x.destroy=void 0,d=r;var D=a,B=w;try{B()}catch(W){st(d,D,W)}}}l=l.next}while(l!==f)}}catch(W){st(r,r.return,W)}}function Ov(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{_y(r,a)}catch(l){st(t,t.return,l)}}}function jv(t,r,a){a.props=Gi(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){st(t,r,l)}}function Cl(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(d){st(t,r,d)}}function br(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(d){st(t,r,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){st(t,r,d)}else a.current=null}function Mv(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(d){st(t,t.return,d)}}function Uf(t,r,a){try{var l=t.stateNode;S1(l,t.type,a,r),l[bt]=r}catch(d){st(t,t.return,d)}}function kv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ps(t.type)||t.tag===4}function zf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||kv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ps(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function qf(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=$u));else if(l!==4&&(l===27&&Ps(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(qf(t,r,a),t=t.sibling;t!==null;)qf(t,r,a),t=t.sibling}function Lu(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&Ps(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Lu(t,r,a),t=t.sibling;t!==null;)Lu(t,r,a),t=t.sibling}function Pv(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,d=r.attributes;d.length;)r.removeAttributeNode(d[0]);Yt(r,l,a),r[At]=t,r[bt]=a}catch(f){st(t,t.return,f)}}var Wr=!1,yt=!1,Bf=!1,Vv=typeof WeakSet=="function"?WeakSet:Set,Lt=null;function i1(t,r){if(t=t.containerInfo,hm=nd,t=Kg(t),Uh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var d=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var x=0,w=-1,D=-1,B=0,W=0,ee=t,G=null;t:for(;;){for(var Q;ee!==a||d!==0&&ee.nodeType!==3||(w=x+d),ee!==f||l!==0&&ee.nodeType!==3||(D=x+l),ee.nodeType===3&&(x+=ee.nodeValue.length),(Q=ee.firstChild)!==null;)G=ee,ee=Q;for(;;){if(ee===t)break t;if(G===a&&++B===d&&(w=x),G===f&&++W===l&&(D=x),(Q=ee.nextSibling)!==null)break;ee=G,G=ee.parentNode}ee=Q}a=w===-1||D===-1?null:{start:w,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(fm={focusedElem:t,selectionRange:a},nd=!1,Lt=r;Lt!==null;)if(r=Lt,t=r.child,(r.subtreeFlags&1024)!==0&&t!==null)t.return=r,Lt=t;else for(;Lt!==null;){switch(r=Lt,f=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=r,d=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var Ae=Gi(a.type,d,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Ae,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(xe){st(a,a.return,xe)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)gm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":gm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(i(163))}if(t=r.sibling,t!==null){t.return=r.return,Lt=t;break}Lt=r.return}}function Lv(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Cs(t,a),l&4&&Nl(5,a);break;case 1:if(Cs(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(x){st(a,a.return,x)}else{var d=Gi(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(d,r,t.__reactInternalSnapshotBeforeUpdate)}catch(x){st(a,a.return,x)}}l&64&&Ov(a),l&512&&Cl(a,a.return);break;case 3:if(Cs(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{_y(t,r)}catch(x){st(a,a.return,x)}}break;case 27:r===null&&l&4&&Pv(a);case 26:case 5:Cs(t,a),r===null&&l&4&&Mv(a),l&512&&Cl(a,a.return);break;case 12:Cs(t,a);break;case 13:Cs(t,a),l&4&&qv(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=m1.bind(null,a),O1(t,a))));break;case 22:if(l=a.memoizedState!==null||Wr,!l){r=r!==null&&r.memoizedState!==null||yt,d=Wr;var f=yt;Wr=l,(yt=r)&&!f?Is(t,a,(a.subtreeFlags&8772)!==0):Cs(t,a),Wr=d,yt=f}break;case 30:break;default:Cs(t,a)}}function Uv(t){var r=t.alternate;r!==null&&(t.alternate=null,Uv(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&ys(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ct=null,mn=!1;function Zr(t,r,a){for(a=a.child;a!==null;)zv(t,r,a),a=a.sibling}function zv(t,r,a){if(We&&typeof We.onCommitFiberUnmount=="function")try{We.onCommitFiberUnmount(ht,a)}catch{}switch(a.tag){case 26:yt||br(a,r),Zr(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:yt||br(a,r);var l=ct,d=mn;Ps(a.type)&&(ct=a.stateNode,mn=!1),Zr(t,r,a),Ll(a.stateNode),ct=l,mn=d;break;case 5:yt||br(a,r);case 6:if(l=ct,d=mn,ct=null,Zr(t,r,a),ct=l,mn=d,ct!==null)if(mn)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(a.stateNode)}catch(f){st(a,r,f)}else try{ct.removeChild(a.stateNode)}catch(f){st(a,r,f)}break;case 18:ct!==null&&(mn?(t=ct,N0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ql(t)):N0(ct,a.stateNode));break;case 4:l=ct,d=mn,ct=a.stateNode.containerInfo,mn=!0,Zr(t,r,a),ct=l,mn=d;break;case 0:case 11:case 14:case 15:yt||Ns(2,a,r),yt||Ns(4,a,r),Zr(t,r,a);break;case 1:yt||(br(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&jv(a,r,l)),Zr(t,r,a);break;case 21:Zr(t,r,a);break;case 22:yt=(l=yt)||a.memoizedState!==null,Zr(t,r,a),yt=l;break;default:Zr(t,r,a)}}function qv(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ql(t)}catch(a){st(r,r.return,a)}}function a1(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new Vv),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new Vv),r;default:throw Error(i(435,t.tag))}}function Hf(t,r){var a=a1(t);r.forEach(function(l){var d=p1.bind(null,t,l);a.has(l)||(a.add(l),l.then(d,d))})}function Rn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var d=a[l],f=t,x=r,w=x;e:for(;w!==null;){switch(w.tag){case 27:if(Ps(w.type)){ct=w.stateNode,mn=!1;break e}break;case 5:ct=w.stateNode,mn=!1;break e;case 3:case 4:ct=w.stateNode.containerInfo,mn=!0;break e}w=w.return}if(ct===null)throw Error(i(160));zv(f,x,d),ct=null,mn=!1,f=d.alternate,f!==null&&(f.return=null),d.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)Bv(r,t),r=r.sibling}var tr=null;function Bv(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Rn(r,t),Nn(t),l&4&&(Ns(3,t,t.return),Nl(3,t),Ns(5,t,t.return));break;case 1:Rn(r,t),Nn(t),l&512&&(yt||a===null||br(a,a.return)),l&64&&Wr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var d=tr;if(Rn(r,t),Nn(t),l&512&&(yt||a===null||br(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":f=d.getElementsByTagName("title")[0],(!f||f[bi]||f[At]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=d.createElement(l),d.head.insertBefore(f,d.querySelector("head > title"))),Yt(f,l,a),f[At]=t,pt(f),l=f;break e;case"link":var x=P0("link","href",d).get(l+(a.href||""));if(x){for(var w=0;w<x.length;w++)if(f=x[w],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){x.splice(w,1);break t}}f=d.createElement(l),Yt(f,l,a),d.head.appendChild(f);break;case"meta":if(x=P0("meta","content",d).get(l+(a.content||""))){for(w=0;w<x.length;w++)if(f=x[w],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){x.splice(w,1);break t}}f=d.createElement(l),Yt(f,l,a),d.head.appendChild(f);break;default:throw Error(i(468,l))}f[At]=t,pt(f),l=f}t.stateNode=l}else V0(d,t.type,t.stateNode);else t.stateNode=k0(d,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?V0(d,t.type,t.stateNode):k0(d,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Uf(t,t.memoizedProps,a.memoizedProps)}break;case 27:Rn(r,t),Nn(t),l&512&&(yt||a===null||br(a,a.return)),a!==null&&l&4&&Uf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Rn(r,t),Nn(t),l&512&&(yt||a===null||br(a,a.return)),t.flags&32){d=t.stateNode;try{Vn(d,"")}catch(Q){st(t,t.return,Q)}}l&4&&t.stateNode!=null&&(d=t.memoizedProps,Uf(t,d,a!==null?a.memoizedProps:d)),l&1024&&(Bf=!0);break;case 6:if(Rn(r,t),Nn(t),l&4){if(t.stateNode===null)throw Error(i(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(Q){st(t,t.return,Q)}}break;case 3:if(Ju=null,d=tr,tr=Wu(r.containerInfo),Rn(r,t),tr=d,Nn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ql(r.containerInfo)}catch(Q){st(t,t.return,Q)}Bf&&(Bf=!1,Hv(t));break;case 4:l=tr,tr=Wu(t.stateNode.containerInfo),Rn(r,t),Nn(t),tr=l;break;case 12:Rn(r,t),Nn(t);break;case 13:Rn(r,t),Nn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&($f=kn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Hf(t,l)));break;case 22:d=t.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,B=Wr,W=yt;if(Wr=B||d,yt=W||D,Rn(r,t),yt=W,Wr=B,Nn(t),l&8192)e:for(r=t.stateNode,r._visibility=d?r._visibility&-2:r._visibility|1,d&&(a===null||D||Wr||yt||Qi(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){D=a=r;try{if(f=D.stateNode,d)x=f.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{w=D.stateNode;var ee=D.memoizedProps.style,G=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;w.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(Q){st(D,D.return,Q)}}}else if(r.tag===6){if(a===null){D=r;try{D.stateNode.nodeValue=d?"":D.memoizedProps}catch(Q){st(D,D.return,Q)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Hf(t,a))));break;case 19:Rn(r,t),Nn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Hf(t,l)));break;case 30:break;case 21:break;default:Rn(r,t),Nn(t)}}function Nn(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(kv(l)){a=l;break}l=l.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var d=a.stateNode,f=zf(t);Lu(t,f,d);break;case 5:var x=a.stateNode;a.flags&32&&(Vn(x,""),a.flags&=-33);var w=zf(t);Lu(t,w,x);break;case 3:case 4:var D=a.stateNode.containerInfo,B=zf(t);qf(t,B,D);break;default:throw Error(i(161))}}catch(W){st(t,t.return,W)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function Hv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;Hv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function Cs(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Lv(t,r.alternate,r),r=r.sibling}function Qi(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Ns(4,r,r.return),Qi(r);break;case 1:br(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&jv(r,r.return,a),Qi(r);break;case 27:Ll(r.stateNode);case 26:case 5:br(r,r.return),Qi(r);break;case 22:r.memoizedState===null&&Qi(r);break;case 30:Qi(r);break;default:Qi(r)}t=t.sibling}}function Is(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,d=t,f=r,x=f.flags;switch(f.tag){case 0:case 11:case 15:Is(d,f,a),Nl(4,f);break;case 1:if(Is(d,f,a),l=f,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(B){st(l,l.return,B)}if(l=f,d=l.updateQueue,d!==null){var w=l.stateNode;try{var D=d.shared.hiddenCallbacks;if(D!==null)for(d.shared.hiddenCallbacks=null,d=0;d<D.length;d++)vy(D[d],w)}catch(B){st(l,l.return,B)}}a&&x&64&&Ov(f),Cl(f,f.return);break;case 27:Pv(f);case 26:case 5:Is(d,f,a),a&&l===null&&x&4&&Mv(f),Cl(f,f.return);break;case 12:Is(d,f,a);break;case 13:Is(d,f,a),a&&x&4&&qv(d,f);break;case 22:f.memoizedState===null&&Is(d,f,a),Cl(f,f.return);break;case 30:break;default:Is(d,f,a)}r=r.sibling}}function Ff(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ml(a))}function Gf(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&ml(t))}function xr(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Fv(t,r,a,l),r=r.sibling}function Fv(t,r,a,l){var d=r.flags;switch(r.tag){case 0:case 11:case 15:xr(t,r,a,l),d&2048&&Nl(9,r);break;case 1:xr(t,r,a,l);break;case 3:xr(t,r,a,l),d&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&ml(t)));break;case 12:if(d&2048){xr(t,r,a,l),t=r.stateNode;try{var f=r.memoizedProps,x=f.id,w=f.onPostCommit;typeof w=="function"&&w(x,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){st(r,r.return,D)}}else xr(t,r,a,l);break;case 13:xr(t,r,a,l);break;case 23:break;case 22:f=r.stateNode,x=r.alternate,r.memoizedState!==null?f._visibility&2?xr(t,r,a,l):Il(t,r):f._visibility&2?xr(t,r,a,l):(f._visibility|=2,Ha(t,r,a,l,(r.subtreeFlags&10256)!==0)),d&2048&&Ff(x,r);break;case 24:xr(t,r,a,l),d&2048&&Gf(r.alternate,r);break;default:xr(t,r,a,l)}}function Ha(t,r,a,l,d){for(d=d&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var f=t,x=r,w=a,D=l,B=x.flags;switch(x.tag){case 0:case 11:case 15:Ha(f,x,w,D,d),Nl(8,x);break;case 23:break;case 22:var W=x.stateNode;x.memoizedState!==null?W._visibility&2?Ha(f,x,w,D,d):Il(f,x):(W._visibility|=2,Ha(f,x,w,D,d)),d&&B&2048&&Ff(x.alternate,x);break;case 24:Ha(f,x,w,D,d),d&&B&2048&&Gf(x.alternate,x);break;default:Ha(f,x,w,D,d)}r=r.sibling}}function Il(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,d=l.flags;switch(l.tag){case 22:Il(a,l),d&2048&&Ff(l.alternate,l);break;case 24:Il(a,l),d&2048&&Gf(l.alternate,l);break;default:Il(a,l)}r=r.sibling}}var Dl=8192;function Fa(t){if(t.subtreeFlags&Dl)for(t=t.child;t!==null;)Gv(t),t=t.sibling}function Gv(t){switch(t.tag){case 26:Fa(t),t.flags&Dl&&t.memoizedState!==null&&G1(tr,t.memoizedState,t.memoizedProps);break;case 5:Fa(t);break;case 3:case 4:var r=tr;tr=Wu(t.stateNode.containerInfo),Fa(t),tr=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=Dl,Dl=16777216,Fa(t),Dl=r):Fa(t));break;default:Fa(t)}}function Qv(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Ol(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Lt=l,Kv(l,t)}Qv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Yv(t),t=t.sibling}function Yv(t){switch(t.tag){case 0:case 11:case 15:Ol(t),t.flags&2048&&Ns(9,t,t.return);break;case 3:Ol(t);break;case 12:Ol(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Uu(t)):Ol(t);break;default:Ol(t)}}function Uu(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Lt=l,Kv(l,t)}Qv(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Ns(8,r,r.return),Uu(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Uu(r));break;default:Uu(r)}t=t.sibling}}function Kv(t,r){for(;Lt!==null;){var a=Lt;switch(a.tag){case 0:case 11:case 15:Ns(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ml(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Lt=l;else e:for(a=t;Lt!==null;){l=Lt;var d=l.sibling,f=l.return;if(Uv(l),l===a){Lt=null;break e}if(d!==null){d.return=f,Lt=d;break e}Lt=f}}}var o1={getCacheForType:function(t){var r=Jt(Ct),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a}},l1=typeof WeakMap=="function"?WeakMap:Map,Ze=0,at=null,Pe=null,He=0,Je=0,Cn=null,Ds=!1,Ga=!1,Qf=!1,Jr=0,mt=0,Os=0,Yi=0,Yf=0,Qn=0,Qa=0,jl=null,pn=null,Kf=!1,$f=0,zu=1/0,qu=null,js=null,Qt=0,Ms=null,Ya=null,Ka=0,Xf=0,Wf=null,$v=null,Ml=0,Zf=null;function In(){if((Ze&2)!==0&&He!==0)return He&-He;if($.T!==null){var t=ka;return t!==0?t:im()}return ps()}function Xv(){Qn===0&&(Qn=(He&536870912)===0||Ke?Ho():536870912);var t=Gn.current;return t!==null&&(t.flags|=32),Qn}function Dn(t,r,a){(t===at&&(Je===2||Je===9)||t.cancelPendingCommit!==null)&&($a(t,0),ks(t,He,Qn,!1)),Dr(t,a),((Ze&2)===0||t!==at)&&(t===at&&((Ze&2)===0&&(Yi|=a),mt===4&&ks(t,He,Qn,!1)),Er(t))}function Wv(t,r,a){if((Ze&6)!==0)throw Error(i(327));var l=!a&&(r&124)===0&&(r&t.expiredLanes)===0||_i(t,r),d=l?d1(t,r):tm(t,r,!0),f=l;do{if(d===0){Ga&&!l&&ks(t,r,0,!1);break}else{if(a=t.current.alternate,f&&!c1(a)){d=tm(t,r,!1),f=!1;continue}if(d===2){if(f=r,t.errorRecoveryDisabledLanes&f)var x=0;else x=t.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){r=x;e:{var w=t;d=jl;var D=w.current.memoizedState.isDehydrated;if(D&&($a(w,x).flags|=256),x=tm(w,x,!1),x!==2){if(Qf&&!D){w.errorRecoveryDisabledLanes|=f,Yi|=f,d=4;break e}f=pn,pn=d,f!==null&&(pn===null?pn=f:pn.push.apply(pn,f))}d=x}if(f=!1,d!==2)continue}}if(d===1){$a(t,0),ks(t,r,0,!0);break}e:{switch(l=t,f=d,f){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:ks(l,r,Qn,!Ds);break e;case 2:pn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(d=$f+300-kn(),10<d)){if(ks(l,r,Qn,!Ds),ha(l,0,!0)!==0)break e;l.timeoutHandle=A0(Zv.bind(null,l,a,pn,qu,Kf,r,Qn,Yi,Qa,Ds,f,2,-0,0),d);break e}Zv(l,a,pn,qu,Kf,r,Qn,Yi,Qa,Ds,f,0,-0,0)}}break}while(!0);Er(t)}function Zv(t,r,a,l,d,f,x,w,D,B,W,ee,G,Q){if(t.timeoutHandle=-1,ee=r.subtreeFlags,(ee&8192||(ee&16785408)===16785408)&&(ql={stylesheets:null,count:0,unsuspend:F1},Gv(r),ee=Q1(),ee!==null)){t.cancelPendingCommit=ee(i0.bind(null,t,r,f,a,l,d,x,w,D,W,1,G,Q)),ks(t,f,x,!B);return}i0(t,r,f,a,l,d,x,w,D)}function c1(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var d=a[l],f=d.getSnapshot;d=d.value;try{if(!Sn(f(),d))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ks(t,r,a,l){r&=~Yf,r&=~Yi,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var d=r;0<d;){var f=31-Zt(d),x=1<<f;l[f]=-1,d&=~x}a!==0&&or(t,a,r)}function Bu(){return(Ze&6)===0?(kl(0),!1):!0}function Jf(){if(Pe!==null){if(Je===0)var t=Pe.return;else t=Pe,Gr=qi=null,gf(t),qa=null,Sl=0,t=Pe;for(;t!==null;)Dv(t.alternate,t),t=t.return;Pe=null}}function $a(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,R1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Jf(),at=t,Pe=a=Br(t.current,null),He=r,Je=0,Cn=null,Ds=!1,Ga=_i(t,r),Qf=!1,Qa=Qn=Yf=Yi=Os=mt=0,pn=jl=null,Kf=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var d=31-Zt(l),f=1<<d;r|=t[d],l&=~f}return Jr=r,uu(),a}function Jv(t,r){De=null,$.H=Cu,r===gl||r===_u?(r=gy(),Je=3):r===fy?(r=gy(),Je=4):Je=r===yv?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Cn=r,Pe===null&&(mt=1,Mu(t,qn(r,t.current)))}function e0(){var t=$.H;return $.H=Cu,t===null?Cu:t}function t0(){var t=$.A;return $.A=o1,t}function em(){mt=4,Ds||(He&4194048)!==He&&Gn.current!==null||(Ga=!0),(Os&134217727)===0&&(Yi&134217727)===0||at===null||ks(at,He,Qn,!1)}function tm(t,r,a){var l=Ze;Ze|=2;var d=e0(),f=t0();(at!==t||He!==r)&&(qu=null,$a(t,r)),r=!1;var x=mt;e:do try{if(Je!==0&&Pe!==null){var w=Pe,D=Cn;switch(Je){case 8:Jf(),x=6;break e;case 3:case 2:case 9:case 6:Gn.current===null&&(r=!0);var B=Je;if(Je=0,Cn=null,Xa(t,w,D,B),a&&Ga){x=0;break e}break;default:B=Je,Je=0,Cn=null,Xa(t,w,D,B)}}u1(),x=mt;break}catch(W){Jv(t,W)}while(!0);return r&&t.shellSuspendCounter++,Gr=qi=null,Ze=l,$.H=d,$.A=f,Pe===null&&(at=null,He=0,uu()),x}function u1(){for(;Pe!==null;)n0(Pe)}function d1(t,r){var a=Ze;Ze|=2;var l=e0(),d=t0();at!==t||He!==r?(qu=null,zu=kn()+500,$a(t,r)):Ga=_i(t,r);e:do try{if(Je!==0&&Pe!==null){r=Pe;var f=Cn;t:switch(Je){case 1:Je=0,Cn=null,Xa(t,r,f,1);break;case 2:case 9:if(my(f)){Je=0,Cn=null,r0(r);break}r=function(){Je!==2&&Je!==9||at!==t||(Je=7),Er(t)},f.then(r,r);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:my(f)?(Je=0,Cn=null,r0(r)):(Je=0,Cn=null,Xa(t,r,f,7));break;case 5:var x=null;switch(Pe.tag){case 26:x=Pe.memoizedState;case 5:case 27:var w=Pe;if(!x||L0(x)){Je=0,Cn=null;var D=w.sibling;if(D!==null)Pe=D;else{var B=w.return;B!==null?(Pe=B,Hu(B)):Pe=null}break t}}Je=0,Cn=null,Xa(t,r,f,5);break;case 6:Je=0,Cn=null,Xa(t,r,f,6);break;case 8:Jf(),mt=6;break e;default:throw Error(i(462))}}h1();break}catch(W){Jv(t,W)}while(!0);return Gr=qi=null,$.H=l,$.A=d,Ze=a,Pe!==null?0:(at=null,He=0,uu(),mt)}function h1(){for(;Pe!==null&&!Uo();)n0(Pe)}function n0(t){var r=Cv(t.alternate,t,Jr);t.memoizedProps=t.pendingProps,r===null?Hu(t):Pe=r}function r0(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=Tv(a,r,r.pendingProps,r.type,void 0,He);break;case 11:r=Tv(a,r,r.pendingProps,r.type.render,r.ref,He);break;case 5:gf(r);default:Dv(a,r),r=Pe=sy(r,Jr),r=Cv(a,r,Jr)}t.memoizedProps=t.pendingProps,r===null?Hu(t):Pe=r}function Xa(t,r,a,l){Gr=qi=null,gf(r),qa=null,Sl=0;var d=r.return;try{if(t1(t,d,r,a,He)){mt=1,Mu(t,qn(a,t.current)),Pe=null;return}}catch(f){if(d!==null)throw Pe=d,f;mt=1,Mu(t,qn(a,t.current)),Pe=null;return}r.flags&32768?(Ke||l===1?t=!0:Ga||(He&536870912)!==0?t=!1:(Ds=t=!0,(l===2||l===9||l===3||l===6)&&(l=Gn.current,l!==null&&l.tag===13&&(l.flags|=16384))),s0(r,t)):Hu(r)}function Hu(t){var r=t;do{if((r.flags&32768)!==0){s0(r,Ds);return}t=r.return;var a=r1(r.alternate,r,Jr);if(a!==null){Pe=a;return}if(r=r.sibling,r!==null){Pe=r;return}Pe=r=t}while(r!==null);mt===0&&(mt=5)}function s0(t,r){do{var a=s1(t.alternate,t);if(a!==null){a.flags&=32767,Pe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){Pe=t;return}Pe=t=a}while(t!==null);mt=6,Pe=null}function i0(t,r,a,l,d,f,x,w,D){t.cancelPendingCommit=null;do Fu();while(Qt!==0);if((Ze&6)!==0)throw Error(i(327));if(r!==null){if(r===t.current)throw Error(i(177));if(f=r.lanes|r.childLanes,f|=Fh,Go(t,a,f,x,w,D),t===at&&(Pe=at=null,He=0),Ya=r,Ms=t,Ka=a,Xf=f,Wf=d,$v=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,g1(pi,function(){return u0(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=$.T,$.T=null,d=ce.p,ce.p=2,x=Ze,Ze|=4;try{i1(t,r,a)}finally{Ze=x,ce.p=d,$.T=l}}Qt=1,a0(),o0(),l0()}}function a0(){if(Qt===1){Qt=0;var t=Ms,r=Ya,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=$.T,$.T=null;var l=ce.p;ce.p=2;var d=Ze;Ze|=4;try{Bv(r,t);var f=fm,x=Kg(t.containerInfo),w=f.focusedElem,D=f.selectionRange;if(x!==w&&w&&w.ownerDocument&&Yg(w.ownerDocument.documentElement,w)){if(D!==null&&Uh(w)){var B=D.start,W=D.end;if(W===void 0&&(W=B),"selectionStart"in w)w.selectionStart=B,w.selectionEnd=Math.min(W,w.value.length);else{var ee=w.ownerDocument||document,G=ee&&ee.defaultView||window;if(G.getSelection){var Q=G.getSelection(),Ae=w.textContent.length,xe=Math.min(D.start,Ae),rt=D.end===void 0?xe:Math.min(D.end,Ae);!Q.extend&&xe>rt&&(x=rt,rt=xe,xe=x);var U=Qg(w,xe),P=Qg(w,rt);if(U&&P&&(Q.rangeCount!==1||Q.anchorNode!==U.node||Q.anchorOffset!==U.offset||Q.focusNode!==P.node||Q.focusOffset!==P.offset)){var q=ee.createRange();q.setStart(U.node,U.offset),Q.removeAllRanges(),xe>rt?(Q.addRange(q),Q.extend(P.node,P.offset)):(q.setEnd(P.node,P.offset),Q.addRange(q))}}}}for(ee=[],Q=w;Q=Q.parentNode;)Q.nodeType===1&&ee.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<ee.length;w++){var Z=ee[w];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}nd=!!hm,fm=hm=null}finally{Ze=d,ce.p=l,$.T=a}}t.current=r,Qt=2}}function o0(){if(Qt===2){Qt=0;var t=Ms,r=Ya,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=$.T,$.T=null;var l=ce.p;ce.p=2;var d=Ze;Ze|=4;try{Lv(t,r.alternate,r)}finally{Ze=d,ce.p=l,$.T=a}}Qt=3}}function l0(){if(Qt===4||Qt===3){Qt=0,Uc();var t=Ms,r=Ya,a=Ka,l=$v;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Qt=5:(Qt=0,Ya=Ms=null,c0(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(js=null),fa(a),r=r.stateNode,We&&typeof We.onCommitFiberRoot=="function")try{We.onCommitFiberRoot(ht,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=$.T,d=ce.p,ce.p=2,$.T=null;try{for(var f=t.onRecoverableError,x=0;x<l.length;x++){var w=l[x];f(w.value,{componentStack:w.stack})}}finally{$.T=r,ce.p=d}}(Ka&3)!==0&&Fu(),Er(t),d=t.pendingLanes,(a&4194090)!==0&&(d&42)!==0?t===Zf?Ml++:(Ml=0,Zf=t):Ml=0,kl(0)}}function c0(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,ml(r)))}function Fu(t){return a0(),o0(),l0(),u0()}function u0(){if(Qt!==5)return!1;var t=Ms,r=Xf;Xf=0;var a=fa(Ka),l=$.T,d=ce.p;try{ce.p=32>a?32:a,$.T=null,a=Wf,Wf=null;var f=Ms,x=Ka;if(Qt=0,Ya=Ms=null,Ka=0,(Ze&6)!==0)throw Error(i(331));var w=Ze;if(Ze|=4,Yv(f.current),Fv(f,f.current,x,a),Ze=w,kl(0,!1),We&&typeof We.onPostCommitFiberRoot=="function")try{We.onPostCommitFiberRoot(ht,f)}catch{}return!0}finally{ce.p=d,$.T=l,c0(t,r)}}function d0(t,r,a){r=qn(a,r),r=If(t.stateNode,r,2),t=ws(t,r,2),t!==null&&(Dr(t,2),Er(t))}function st(t,r,a){if(t.tag===3)d0(t,t,a);else for(;r!==null;){if(r.tag===3){d0(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(js===null||!js.has(l))){t=qn(a,t),a=pv(2),l=ws(r,a,2),l!==null&&(gv(a,l,r,t),Dr(l,2),Er(l));break}}r=r.return}}function nm(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new l1;var d=new Set;l.set(r,d)}else d=l.get(r),d===void 0&&(d=new Set,l.set(r,d));d.has(a)||(Qf=!0,d.add(a),t=f1.bind(null,t,r,a),r.then(t,t))}function f1(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,at===t&&(He&a)===a&&(mt===4||mt===3&&(He&62914560)===He&&300>kn()-$f?(Ze&2)===0&&$a(t,0):Yf|=a,Qa===He&&(Qa=0)),Er(t)}function h0(t,r){r===0&&(r=Fo()),t=Da(t,r),t!==null&&(Dr(t,r),Er(t))}function m1(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),h0(t,a)}function p1(t,r){var a=0;switch(t.tag){case 13:var l=t.stateNode,d=t.memoizedState;d!==null&&(a=d.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(r),h0(t,a)}function g1(t,r){return fi(t,r)}var Gu=null,Wa=null,rm=!1,Qu=!1,sm=!1,Ki=0;function Er(t){t!==Wa&&t.next===null&&(Wa===null?Gu=Wa=t:Wa=Wa.next=t),Qu=!0,rm||(rm=!0,v1())}function kl(t,r){if(!sm&&Qu){sm=!0;do for(var a=!1,l=Gu;l!==null;){if(t!==0){var d=l.pendingLanes;if(d===0)var f=0;else{var x=l.suspendedLanes,w=l.pingedLanes;f=(1<<31-Zt(42|t)+1)-1,f&=d&~(x&~w),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,g0(l,f))}else f=He,f=ha(l,l===at?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||_i(l,f)||(a=!0,g0(l,f));l=l.next}while(a);sm=!1}}function y1(){f0()}function f0(){Qu=rm=!1;var t=0;Ki!==0&&(A1()&&(t=Ki),Ki=0);for(var r=kn(),a=null,l=Gu;l!==null;){var d=l.next,f=m0(l,r);f===0?(l.next=null,a===null?Gu=d:a.next=d,d===null&&(Wa=a)):(a=l,(t!==0||(f&3)!==0)&&(Qu=!0)),l=d}kl(t)}function m0(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,d=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var x=31-Zt(f),w=1<<x,D=d[x];D===-1?((w&a)===0||(w&l)!==0)&&(d[x]=Bo(w,r)):D<=r&&(t.expiredLanes|=w),f&=~w}if(r=at,a=He,a=ha(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(Je===2||Je===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&mi(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||_i(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&mi(l),fa(a)){case 2:case 8:a=ua;break;case 32:a=pi;break;case 268435456:a=da;break;default:a=pi}return l=p0.bind(null,t),a=fi(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&mi(l),t.callbackPriority=2,t.callbackNode=null,2}function p0(t,r){if(Qt!==0&&Qt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Fu()&&t.callbackNode!==a)return null;var l=He;return l=ha(t,t===at?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Wv(t,l,r),m0(t,kn()),t.callbackNode!=null&&t.callbackNode===a?p0.bind(null,t):null)}function g0(t,r){if(Fu())return null;Wv(t,r,!0)}function v1(){N1(function(){(Ze&6)!==0?fi(zo,y1):f0()})}function im(){return Ki===0&&(Ki=Ho()),Ki}function y0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:_a(""+t)}function v0(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function _1(t,r,a,l,d){if(r==="submit"&&a&&a.stateNode===d){var f=y0((d[bt]||null).action),x=l.submitter;x&&(r=(r=x[bt]||null)?y0(r.formAction):x.getAttribute("formAction"),r!==null&&(f=r,x=null));var w=new ba("action","action",null,l,d);t.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ki!==0){var D=x?v0(d,x):new FormData(d);Sf(a,{pending:!0,data:D,method:d.method,action:f},null,D)}}else typeof f=="function"&&(w.preventDefault(),D=x?v0(d,x):new FormData(d),Sf(a,{pending:!0,data:D,method:d.method,action:f},f,D))},currentTarget:d}]})}}for(var am=0;am<Hh.length;am++){var om=Hh[am],b1=om.toLowerCase(),x1=om[0].toUpperCase()+om.slice(1);er(b1,"on"+x1)}er(Wg,"onAnimationEnd"),er(Zg,"onAnimationIteration"),er(Jg,"onAnimationStart"),er("dblclick","onDoubleClick"),er("focusin","onFocus"),er("focusout","onBlur"),er(Lw,"onTransitionRun"),er(Uw,"onTransitionStart"),er(zw,"onTransitionCancel"),er(ey,"onTransitionEnd"),jr("onMouseEnter",["mouseout","mouseover"]),jr("onMouseLeave",["mouseout","mouseover"]),jr("onPointerEnter",["pointerout","pointerover"]),jr("onPointerLeave",["pointerout","pointerover"]),Zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Zn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),E1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pl));function _0(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],d=l.event;l=l.listeners;e:{var f=void 0;if(r)for(var x=l.length-1;0<=x;x--){var w=l[x],D=w.instance,B=w.currentTarget;if(w=w.listener,D!==f&&d.isPropagationStopped())break e;f=w,d.currentTarget=B;try{f(d)}catch(W){ju(W)}d.currentTarget=null,f=D}else for(x=0;x<l.length;x++){if(w=l[x],D=w.instance,B=w.currentTarget,w=w.listener,D!==f&&d.isPropagationStopped())break e;f=w,d.currentTarget=B;try{f(d)}catch(W){ju(W)}d.currentTarget=null,f=D}}}}function Ve(t,r){var a=r[Yo];a===void 0&&(a=r[Yo]=new Set);var l=t+"__bubble";a.has(l)||(b0(r,t,2,!1),a.add(l))}function lm(t,r,a){var l=0;r&&(l|=4),b0(a,t,l,r)}var Yu="_reactListening"+Math.random().toString(36).slice(2);function cm(t){if(!t[Yu]){t[Yu]=!0,Ko.forEach(function(a){a!=="selectionchange"&&(E1.has(a)||lm(a,!1,t),lm(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Yu]||(r[Yu]=!0,lm("selectionchange",!1,r))}}function b0(t,r,a,l){switch(F0(r)){case 2:var d=$1;break;case 8:d=X1;break;default:d=Tm}a=d.bind(null,r,a,t),d=void 0,!Un||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),l?d!==void 0?t.addEventListener(r,a,{capture:!0,passive:d}):t.addEventListener(r,a,!0):d!==void 0?t.addEventListener(r,a,{passive:d}):t.addEventListener(r,a,!1)}function um(t,r,a,l,d){var f=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var x=l.tag;if(x===3||x===4){var w=l.stateNode.containerInfo;if(w===d)break;if(x===4)for(x=l.return;x!==null;){var D=x.tag;if((D===3||D===4)&&x.stateNode.containerInfo===d)return;x=x.return}for(;w!==null;){if(x=Or(w),x===null)return;if(D=x.tag,D===5||D===6||D===26||D===27){l=f=x;continue e}w=w.parentNode}}l=l.return}$c(function(){var B=f,W=Ln(a),ee=[];e:{var G=ty.get(t);if(G!==void 0){var Q=ba,Ae=t;switch(t){case"keypress":if(fr(a)===0)break e;case"keydown":case"keyup":Q=Aa;break;case"focusin":Ae="focus",Q=Ta;break;case"focusout":Ae="blur",Q=Ta;break;case"beforeblur":case"afterblur":Q=Ta;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=zn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=kh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=ru;break;case Wg:case Zg:case Jg:Q=wa;break;case ey:Q=iu;break;case"scroll":case"scrollend":Q=Xc;break;case"wheel":Q=Ra;break;case"copy":case"cut":case"paste":Q=Sa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=al;break;case"toggle":case"beforetoggle":Q=ou}var xe=(r&4)!==0,rt=!xe&&(t==="scroll"||t==="scrollend"),U=xe?G!==null?G+"Capture":null:G;xe=[];for(var P=B,q;P!==null;){var Z=P;if(q=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||q===null||U===null||(Z=Ri(P,U),Z!=null&&xe.push(Vl(P,Z,q))),rt)break;P=P.return}0<xe.length&&(G=new Q(G,Ae,null,a,W),ee.push({event:G,listeners:xe}))}}if((r&7)===0){e:{if(G=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",G&&a!==Pr&&(Ae=a.relatedTarget||a.fromElement)&&(Or(Ae)||Ae[Pn]))break e;if((Q||G)&&(G=W.window===W?W:(G=W.ownerDocument)?G.defaultView||G.parentWindow:window,Q?(Ae=a.relatedTarget||a.toElement,Q=B,Ae=Ae?Or(Ae):null,Ae!==null&&(rt=c(Ae),xe=Ae.tag,Ae!==rt||xe!==5&&xe!==27&&xe!==6)&&(Ae=null)):(Q=null,Ae=B),Q!==Ae)){if(xe=zn,Z="onMouseLeave",U="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(xe=al,Z="onPointerLeave",U="onPointerEnter",P="pointer"),rt=Q==null?G:cr(Q),q=Ae==null?G:cr(Ae),G=new xe(Z,P+"leave",Q,a,W),G.target=rt,G.relatedTarget=q,Z=null,Or(W)===B&&(xe=new xe(U,P+"enter",Ae,a,W),xe.target=q,xe.relatedTarget=rt,Z=xe),rt=Z,Q&&Ae)t:{for(xe=Q,U=Ae,P=0,q=xe;q;q=Za(q))P++;for(q=0,Z=U;Z;Z=Za(Z))q++;for(;0<P-q;)xe=Za(xe),P--;for(;0<q-P;)U=Za(U),q--;for(;P--;){if(xe===U||U!==null&&xe===U.alternate)break t;xe=Za(xe),U=Za(U)}xe=null}else xe=null;Q!==null&&x0(ee,G,Q,xe,!1),Ae!==null&&rt!==null&&x0(ee,rt,Ae,xe,!0)}}e:{if(G=B?cr(B):window,Q=G.nodeName&&G.nodeName.toLowerCase(),Q==="select"||Q==="input"&&G.type==="file")var pe=zg;else if(Nt(G))if(qg)pe=kw;else{pe=jw;var Me=Ow}else Q=G.nodeName,!Q||Q.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?B&&Jo(B.elementType)&&(pe=zg):pe=Mw;if(pe&&(pe=pe(t,B))){qr(ee,pe,a,W);break e}Me&&Me(t,G,B),t==="focusout"&&B&&G.type==="number"&&B.memoizedProps.value!=null&&_s(G,"number",G.value)}switch(Me=B?cr(B):window,t){case"focusin":(Nt(Me)||Me.contentEditable==="true")&&(Na=Me,zh=B,cl=null);break;case"focusout":cl=zh=Na=null;break;case"mousedown":qh=!0;break;case"contextmenu":case"mouseup":case"dragend":qh=!1,$g(ee,a,W);break;case"selectionchange":if(Vw)break;case"keydown":case"keyup":$g(ee,a,W)}var ve;if(gr)e:{switch(t){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else qe?X(t,a)&&(Ee="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ee="onCompositionStart");Ee&&(b&&a.locale!=="ko"&&(qe||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&qe&&(ve=tl()):(hr=W,bs="value"in hr?hr.value:hr.textContent,qe=!0)),Me=Ku(B,Ee),0<Me.length&&(Ee=new sl(Ee,t,null,a,W),ee.push({event:Ee,listeners:Me}),ve?Ee.data=ve:(ve=ue(a),ve!==null&&(Ee.data=ve)))),(ve=v?Rt(t,a):Be(t,a))&&(Ee=Ku(B,"onBeforeInput"),0<Ee.length&&(Me=new sl("onBeforeInput","beforeinput",null,a,W),ee.push({event:Me,listeners:Ee}),Me.data=ve)),_1(ee,t,B,a,W)}_0(ee,r)})}function Vl(t,r,a){return{instance:t,listener:r,currentTarget:a}}function Ku(t,r){for(var a=r+"Capture",l=[];t!==null;){var d=t,f=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||f===null||(d=Ri(t,a),d!=null&&l.unshift(Vl(t,d,f)),d=Ri(t,r),d!=null&&l.push(Vl(t,d,f))),t.tag===3)return l;t=t.return}return[]}function Za(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function x0(t,r,a,l,d){for(var f=r._reactName,x=[];a!==null&&a!==l;){var w=a,D=w.alternate,B=w.stateNode;if(w=w.tag,D!==null&&D===l)break;w!==5&&w!==26&&w!==27||B===null||(D=B,d?(B=Ri(a,f),B!=null&&x.unshift(Vl(a,B,D))):d||(B=Ri(a,f),B!=null&&x.push(Vl(a,B,D)))),a=a.return}x.length!==0&&t.push({event:r,listeners:x})}var T1=/\r\n?/g,w1=/\u0000|\uFFFD/g;function E0(t){return(typeof t=="string"?t:""+t).replace(T1,`
`).replace(w1,"")}function T0(t,r){return r=E0(r),E0(t)===r}function $u(){}function nt(t,r,a,l,d,f){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Vn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Vn(t,""+l);break;case"className":ur(t,"class",l);break;case"tabIndex":ur(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ur(t,a,l);break;case"style":Zo(t,l,f);break;case"data":if(r!=="object"){ur(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=_a(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(r!=="input"&&nt(t,r,"name",d.name,d,null),nt(t,r,"formEncType",d.formEncType,d,null),nt(t,r,"formMethod",d.formMethod,d,null),nt(t,r,"formTarget",d.formTarget,d,null)):(nt(t,r,"encType",d.encType,d,null),nt(t,r,"method",d.method,d,null),nt(t,r,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=_a(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=$u);break;case"onScroll":l!=null&&Ve("scroll",t);break;case"onScrollEnd":l!=null&&Ve("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(i(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=_a(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ve("beforetoggle",t),Ve("toggle",t),vs(t,"popover",l);break;case"xlinkActuate":Ht(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ht(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ht(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ht(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ht(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ht(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ht(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ht(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ht(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":vs(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=jh.get(a)||a,vs(t,a,l))}}function dm(t,r,a,l,d,f){switch(a){case"style":Zo(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(i(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Vn(t,l):(typeof l=="number"||typeof l=="bigint")&&Vn(t,""+l);break;case"onScroll":l!=null&&Ve("scroll",t);break;case"onScrollEnd":l!=null&&Ve("scrollend",t);break;case"onClick":l!=null&&(t.onclick=$u);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ma.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),r=a.slice(2,d?a.length-7:void 0),f=t[bt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(r,f,d),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,d);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):vs(t,a,l)}}}function Yt(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",t),Ve("load",t);var l=!1,d=!1,f;for(f in a)if(a.hasOwnProperty(f)){var x=a[f];if(x!=null)switch(f){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:nt(t,r,f,x,a,null)}}d&&nt(t,r,"srcSet",a.srcSet,a,null),l&&nt(t,r,"src",a.src,a,null);return;case"input":Ve("invalid",t);var w=f=x=d=null,D=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":d=W;break;case"type":x=W;break;case"checked":D=W;break;case"defaultChecked":B=W;break;case"value":f=W;break;case"defaultValue":w=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,r));break;default:nt(t,r,l,W,a,null)}}wi(t,f,w,D,B,x,d,!1),va(t);return;case"select":Ve("invalid",t),l=x=f=null;for(d in a)if(a.hasOwnProperty(d)&&(w=a[d],w!=null))switch(d){case"value":f=w;break;case"defaultValue":x=w;break;case"multiple":l=w;default:nt(t,r,d,w,a,null)}r=f,a=x,t.multiple=!!l,r!=null?kr(t,!!l,r,!1):a!=null&&kr(t,!!l,a,!0);return;case"textarea":Ve("invalid",t),f=d=l=null;for(x in a)if(a.hasOwnProperty(x)&&(w=a[x],w!=null))switch(x){case"value":l=w;break;case"defaultValue":d=w;break;case"children":f=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(i(91));break;default:nt(t,r,x,w,a,null)}Si(t,l,d,f),va(t);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:nt(t,r,D,l,a,null)}return;case"dialog":Ve("beforetoggle",t),Ve("toggle",t),Ve("cancel",t),Ve("close",t);break;case"iframe":case"object":Ve("load",t);break;case"video":case"audio":for(l=0;l<Pl.length;l++)Ve(Pl[l],t);break;case"image":Ve("error",t),Ve("load",t);break;case"details":Ve("toggle",t);break;case"embed":case"source":case"link":Ve("error",t),Ve("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:nt(t,r,B,l,a,null)}return;default:if(Jo(r)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&dm(t,r,W,l,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(l=a[w],l!=null&&nt(t,r,w,l,a,null))}function S1(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,f=null,x=null,w=null,D=null,B=null,W=null;for(Q in a){var ee=a[Q];if(a.hasOwnProperty(Q)&&ee!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":D=ee;default:l.hasOwnProperty(Q)||nt(t,r,Q,null,l,ee)}}for(var G in l){var Q=l[G];if(ee=a[G],l.hasOwnProperty(G)&&(Q!=null||ee!=null))switch(G){case"type":f=Q;break;case"name":d=Q;break;case"checked":B=Q;break;case"defaultChecked":W=Q;break;case"value":x=Q;break;case"defaultValue":w=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,r));break;default:Q!==ee&&nt(t,r,G,Q,l,ee)}}wn(t,x,w,D,B,W,f,d);return;case"select":Q=x=w=G=null;for(f in a)if(D=a[f],a.hasOwnProperty(f)&&D!=null)switch(f){case"value":break;case"multiple":Q=D;default:l.hasOwnProperty(f)||nt(t,r,f,null,l,D)}for(d in l)if(f=l[d],D=a[d],l.hasOwnProperty(d)&&(f!=null||D!=null))switch(d){case"value":G=f;break;case"defaultValue":w=f;break;case"multiple":x=f;default:f!==D&&nt(t,r,d,f,l,D)}r=w,a=x,l=Q,G!=null?kr(t,!!a,G,!1):!!l!=!!a&&(r!=null?kr(t,!!a,r,!0):kr(t,!!a,a?[]:"",!1));return;case"textarea":Q=G=null;for(w in a)if(d=a[w],a.hasOwnProperty(w)&&d!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:nt(t,r,w,null,l,d)}for(x in l)if(d=l[x],f=a[x],l.hasOwnProperty(x)&&(d!=null||f!=null))switch(x){case"value":G=d;break;case"defaultValue":Q=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==f&&nt(t,r,x,d,l,f)}et(t,G,Q);return;case"option":for(var Ae in a)if(G=a[Ae],a.hasOwnProperty(Ae)&&G!=null&&!l.hasOwnProperty(Ae))switch(Ae){case"selected":t.selected=!1;break;default:nt(t,r,Ae,null,l,G)}for(D in l)if(G=l[D],Q=a[D],l.hasOwnProperty(D)&&G!==Q&&(G!=null||Q!=null))switch(D){case"selected":t.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:nt(t,r,D,G,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xe in a)G=a[xe],a.hasOwnProperty(xe)&&G!=null&&!l.hasOwnProperty(xe)&&nt(t,r,xe,null,l,G);for(B in l)if(G=l[B],Q=a[B],l.hasOwnProperty(B)&&G!==Q&&(G!=null||Q!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(i(137,r));break;default:nt(t,r,B,G,l,Q)}return;default:if(Jo(r)){for(var rt in a)G=a[rt],a.hasOwnProperty(rt)&&G!==void 0&&!l.hasOwnProperty(rt)&&dm(t,r,rt,void 0,l,G);for(W in l)G=l[W],Q=a[W],!l.hasOwnProperty(W)||G===Q||G===void 0&&Q===void 0||dm(t,r,W,G,l,Q);return}}for(var U in a)G=a[U],a.hasOwnProperty(U)&&G!=null&&!l.hasOwnProperty(U)&&nt(t,r,U,null,l,G);for(ee in l)G=l[ee],Q=a[ee],!l.hasOwnProperty(ee)||G===Q||G==null&&Q==null||nt(t,r,ee,G,l,Q)}var hm=null,fm=null;function Xu(t){return t.nodeType===9?t:t.ownerDocument}function w0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function S0(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function mm(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var pm=null;function A1(){var t=window.event;return t&&t.type==="popstate"?t===pm?!1:(pm=t,!0):(pm=null,!1)}var A0=typeof setTimeout=="function"?setTimeout:void 0,R1=typeof clearTimeout=="function"?clearTimeout:void 0,R0=typeof Promise=="function"?Promise:void 0,N1=typeof queueMicrotask=="function"?queueMicrotask:typeof R0<"u"?function(t){return R0.resolve(null).then(t).catch(C1)}:A0;function C1(t){setTimeout(function(){throw t})}function Ps(t){return t==="head"}function N0(t,r){var a=r,l=0,d=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<l&&8>l){a=l;var x=t.ownerDocument;if(a&1&&Ll(x.documentElement),a&2&&Ll(x.body),a&4)for(a=x.head,Ll(a),x=a.firstChild;x;){var w=x.nextSibling,D=x.nodeName;x[bi]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&x.rel.toLowerCase()==="stylesheet"||a.removeChild(x),x=w}}if(d===0){t.removeChild(f),Ql(r);return}d--}else a==="$"||a==="$?"||a==="$!"?d++:l=a.charCodeAt(0)-48;else l=0;a=f}while(a);Ql(r)}function gm(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":gm(a),ys(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function I1(t,r,a,l){for(;t.nodeType===1;){var d=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[bi])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var f=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=nr(t.nextSibling),t===null)break}return null}function D1(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=nr(t.nextSibling),t===null))return null;return t}function ym(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function O1(t,r){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function nr(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}var vm=null;function C0(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}function I0(t,r,a){switch(r=Xu(a),t){case"html":if(t=r.documentElement,!t)throw Error(i(452));return t;case"head":if(t=r.head,!t)throw Error(i(453));return t;case"body":if(t=r.body,!t)throw Error(i(454));return t;default:throw Error(i(451))}}function Ll(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);ys(t)}var Yn=new Map,D0=new Set;function Wu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var es=ce.d;ce.d={f:j1,r:M1,D:k1,C:P1,L:V1,m:L1,X:z1,S:U1,M:q1};function j1(){var t=es.f(),r=Bu();return t||r}function M1(t){var r=lr(t);r!==null&&r.tag===5&&r.type==="form"?Wy(r):es.r(t)}var Ja=typeof document>"u"?null:document;function O0(t,r,a){var l=Ja;if(l&&typeof r=="string"&&r){var d=xt(r);d='link[rel="'+t+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),D0.has(d)||(D0.add(d),t={rel:t,crossOrigin:a,href:r},l.querySelector(d)===null&&(r=l.createElement("link"),Yt(r,"link",t),pt(r),l.head.appendChild(r)))}}function k1(t){es.D(t),O0("dns-prefetch",t,null)}function P1(t,r){es.C(t,r),O0("preconnect",t,r)}function V1(t,r,a){es.L(t,r,a);var l=Ja;if(l&&t&&r){var d='link[rel="preload"][as="'+xt(r)+'"]';r==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+xt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+xt(a.imageSizes)+'"]')):d+='[href="'+xt(t)+'"]';var f=d;switch(r){case"style":f=eo(t);break;case"script":f=to(t)}Yn.has(f)||(t=_({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),Yn.set(f,t),l.querySelector(d)!==null||r==="style"&&l.querySelector(Ul(f))||r==="script"&&l.querySelector(zl(f))||(r=l.createElement("link"),Yt(r,"link",t),pt(r),l.head.appendChild(r)))}}function L1(t,r){es.m(t,r);var a=Ja;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",d='link[rel="modulepreload"][as="'+xt(l)+'"][href="'+xt(t)+'"]',f=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=to(t)}if(!Yn.has(f)&&(t=_({rel:"modulepreload",href:t},r),Yn.set(f,t),a.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(zl(f)))return}l=a.createElement("link"),Yt(l,"link",t),pt(l),a.head.appendChild(l)}}}function U1(t,r,a){es.S(t,r,a);var l=Ja;if(l&&t){var d=ln(l).hoistableStyles,f=eo(t);r=r||"default";var x=d.get(f);if(!x){var w={loading:0,preload:null};if(x=l.querySelector(Ul(f)))w.loading=5;else{t=_({rel:"stylesheet",href:t,"data-precedence":r},a),(a=Yn.get(f))&&_m(t,a);var D=x=l.createElement("link");pt(D),Yt(D,"link",t),D._p=new Promise(function(B,W){D.onload=B,D.onerror=W}),D.addEventListener("load",function(){w.loading|=1}),D.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Zu(x,r,l)}x={type:"stylesheet",instance:x,count:1,state:w},d.set(f,x)}}}function z1(t,r){es.X(t,r);var a=Ja;if(a&&t){var l=ln(a).hoistableScripts,d=to(t),f=l.get(d);f||(f=a.querySelector(zl(d)),f||(t=_({src:t,async:!0},r),(r=Yn.get(d))&&bm(t,r),f=a.createElement("script"),pt(f),Yt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function q1(t,r){es.M(t,r);var a=Ja;if(a&&t){var l=ln(a).hoistableScripts,d=to(t),f=l.get(d);f||(f=a.querySelector(zl(d)),f||(t=_({src:t,async:!0,type:"module"},r),(r=Yn.get(d))&&bm(t,r),f=a.createElement("script"),pt(f),Yt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function j0(t,r,a,l){var d=(d=Te.current)?Wu(d):null;if(!d)throw Error(i(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=eo(a.href),a=ln(d).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=eo(a.href);var f=ln(d).hoistableStyles,x=f.get(t);if(x||(d=d.ownerDocument||d,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,x),(f=d.querySelector(Ul(t)))&&!f._p&&(x.instance=f,x.state.loading=5),Yn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Yn.set(t,a),f||B1(d,t,a,x.state))),r&&l===null)throw Error(i(528,""));return x}if(r&&l!==null)throw Error(i(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=to(a),a=ln(d).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,t))}}function eo(t){return'href="'+xt(t)+'"'}function Ul(t){return'link[rel="stylesheet"]['+t+"]"}function M0(t){return _({},t,{"data-precedence":t.precedence,precedence:null})}function B1(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Yt(r,"link",a),pt(r),t.head.appendChild(r))}function to(t){return'[src="'+xt(t)+'"]'}function zl(t){return"script[async]"+t}function k0(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+xt(a.href)+'"]');if(l)return r.instance=l,pt(l),l;var d=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),pt(l),Yt(l,"style",d),Zu(l,a.precedence,t),r.instance=l;case"stylesheet":d=eo(a.href);var f=t.querySelector(Ul(d));if(f)return r.state.loading|=4,r.instance=f,pt(f),f;l=M0(a),(d=Yn.get(d))&&_m(l,d),f=(t.ownerDocument||t).createElement("link"),pt(f);var x=f;return x._p=new Promise(function(w,D){x.onload=w,x.onerror=D}),Yt(f,"link",l),r.state.loading|=4,Zu(f,a.precedence,t),r.instance=f;case"script":return f=to(a.src),(d=t.querySelector(zl(f)))?(r.instance=d,pt(d),d):(l=a,(d=Yn.get(f))&&(l=_({},a),bm(l,d)),t=t.ownerDocument||t,d=t.createElement("script"),pt(d),Yt(d,"link",l),t.head.appendChild(d),r.instance=d);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Zu(l,a.precedence,t));return r.instance}function Zu(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,f=d,x=0;x<l.length;x++){var w=l[x];if(w.dataset.precedence===r)f=w;else if(f!==d)break}f?f.parentNode.insertBefore(t,f.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function _m(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function bm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Ju=null;function P0(t,r,a){if(Ju===null){var l=new Map,d=Ju=new Map;d.set(a,l)}else d=Ju,l=d.get(a),l||(l=new Map,d.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),d=0;d<a.length;d++){var f=a[d];if(!(f[bi]||f[At]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var x=f.getAttribute(r)||"";x=t+x;var w=l.get(x);w?w.push(f):l.set(x,[f])}}return l}function V0(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function H1(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function L0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var ql=null;function F1(){}function G1(t,r,a){if(ql===null)throw Error(i(475));var l=ql;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var d=eo(a.href),f=t.querySelector(Ul(d));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=ed.bind(l),t.then(l,l)),r.state.loading|=4,r.instance=f,pt(f);return}f=t.ownerDocument||t,a=M0(a),(d=Yn.get(d))&&_m(a,d),f=f.createElement("link"),pt(f);var x=f;x._p=new Promise(function(w,D){x.onload=w,x.onerror=D}),Yt(f,"link",a),r.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=ed.bind(l),t.addEventListener("load",r),t.addEventListener("error",r))}}function Q1(){if(ql===null)throw Error(i(475));var t=ql;return t.stylesheets&&t.count===0&&xm(t,t.stylesheets),0<t.count?function(r){var a=setTimeout(function(){if(t.stylesheets&&xm(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(a)}}:null}function ed(){if(this.count--,this.count===0){if(this.stylesheets)xm(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var td=null;function xm(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,td=new Map,r.forEach(Y1,t),td=null,ed.call(t))}function Y1(t,r){if(!(r.state.loading&4)){var a=td.get(t);if(a)var l=a.get(null);else{a=new Map,td.set(t,a);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<d.length;f++){var x=d[f];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(a.set(x.dataset.precedence,x),l=x)}l&&a.set(null,l)}d=r.instance,x=d.getAttribute("data-precedence"),f=a.get(x)||l,f===l&&a.set(null,d),a.set(x,d),this.count++,l=ed.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),f?f.parentNode.insertBefore(d,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),r.state.loading|=4}}var Bl={$$typeof:ie,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function K1(t,r,a,l,d,f,x,w){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ir(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ir(0),this.hiddenUpdates=Ir(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=f,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function U0(t,r,a,l,d,f,x,w,D,B,W,ee){return t=new K1(t,r,a,x,w,D,B,ee),r=1,f===!0&&(r|=24),f=An(3,null,null,r),t.current=f,f.stateNode=t,r=tf(),r.refCount++,t.pooledCache=r,r.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:r},af(f),t}function z0(t){return t?(t=Oa,t):Oa}function q0(t,r,a,l,d,f){d=z0(d),l.context===null?l.context=d:l.pendingContext=d,l=Ts(r),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=ws(t,l,r),a!==null&&(Dn(a,t,r),vl(a,t,r))}function B0(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function Em(t,r){B0(t,r),(t=t.alternate)&&B0(t,r)}function H0(t){if(t.tag===13){var r=Da(t,67108864);r!==null&&Dn(r,t,67108864),Em(t,67108864)}}var nd=!0;function $1(t,r,a,l){var d=$.T;$.T=null;var f=ce.p;try{ce.p=2,Tm(t,r,a,l)}finally{ce.p=f,$.T=d}}function X1(t,r,a,l){var d=$.T;$.T=null;var f=ce.p;try{ce.p=8,Tm(t,r,a,l)}finally{ce.p=f,$.T=d}}function Tm(t,r,a,l){if(nd){var d=wm(l);if(d===null)um(t,r,l,rd,a),G0(t,l);else if(Z1(d,t,r,a,l))l.stopPropagation();else if(G0(t,l),r&4&&-1<W1.indexOf(t)){for(;d!==null;){var f=lr(d);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var x=Wn(f.pendingLanes);if(x!==0){var w=f;for(w.pendingLanes|=2,w.entangledLanes|=2;x;){var D=1<<31-Zt(x);w.entanglements[1]|=D,x&=~D}Er(f),(Ze&6)===0&&(zu=kn()+500,kl(0))}}break;case 13:w=Da(f,2),w!==null&&Dn(w,f,2),Bu(),Em(f,2)}if(f=wm(l),f===null&&um(t,r,l,rd,a),f===d)break;d=f}d!==null&&l.stopPropagation()}else um(t,r,l,null,a)}}function wm(t){return t=Ln(t),Sm(t)}var rd=null;function Sm(t){if(rd=null,t=Or(t),t!==null){var r=c(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=h(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return rd=t,null}function F0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Rh()){case zo:return 2;case ua:return 8;case pi:case Nh:return 32;case da:return 268435456;default:return 32}default:return 32}}var Am=!1,Vs=null,Ls=null,Us=null,Hl=new Map,Fl=new Map,zs=[],W1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function G0(t,r){switch(t){case"focusin":case"focusout":Vs=null;break;case"dragenter":case"dragleave":Ls=null;break;case"mouseover":case"mouseout":Us=null;break;case"pointerover":case"pointerout":Hl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fl.delete(r.pointerId)}}function Gl(t,r,a,l,d,f){return t===null||t.nativeEvent!==f?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[d]},r!==null&&(r=lr(r),r!==null&&H0(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),t)}function Z1(t,r,a,l,d){switch(r){case"focusin":return Vs=Gl(Vs,t,r,a,l,d),!0;case"dragenter":return Ls=Gl(Ls,t,r,a,l,d),!0;case"mouseover":return Us=Gl(Us,t,r,a,l,d),!0;case"pointerover":var f=d.pointerId;return Hl.set(f,Gl(Hl.get(f)||null,t,r,a,l,d)),!0;case"gotpointercapture":return f=d.pointerId,Fl.set(f,Gl(Fl.get(f)||null,t,r,a,l,d)),!0}return!1}function Q0(t){var r=Or(t.target);if(r!==null){var a=c(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){t.blockedOn=r,Bc(t.priority,function(){if(a.tag===13){var l=In();l=ms(l);var d=Da(a,l);d!==null&&Dn(d,a,l),Em(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function sd(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=wm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Pr=l,a.target.dispatchEvent(l),Pr=null}else return r=lr(a),r!==null&&H0(r),t.blockedOn=a,!1;r.shift()}return!0}function Y0(t,r,a){sd(t)&&a.delete(r)}function J1(){Am=!1,Vs!==null&&sd(Vs)&&(Vs=null),Ls!==null&&sd(Ls)&&(Ls=null),Us!==null&&sd(Us)&&(Us=null),Hl.forEach(Y0),Fl.forEach(Y0)}function id(t,r){t.blockedOn===r&&(t.blockedOn=null,Am||(Am=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,J1)))}var ad=null;function K0(t){ad!==t&&(ad=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){ad===t&&(ad=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],d=t[r+2];if(typeof l!="function"){if(Sm(l||a)===null)continue;break}var f=lr(a);f!==null&&(t.splice(r,3),r-=3,Sf(f,{pending:!0,data:d,method:a.method,action:l},l,d))}}))}function Ql(t){function r(D){return id(D,t)}Vs!==null&&id(Vs,t),Ls!==null&&id(Ls,t),Us!==null&&id(Us,t),Hl.forEach(r),Fl.forEach(r);for(var a=0;a<zs.length;a++){var l=zs[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<zs.length&&(a=zs[0],a.blockedOn===null);)Q0(a),a.blockedOn===null&&zs.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var d=a[l],f=a[l+1],x=d[bt]||null;if(typeof f=="function")x||K0(a);else if(x){var w=null;if(f&&f.hasAttribute("formAction")){if(d=f,x=f[bt]||null)w=x.formAction;else if(Sm(d)!==null)continue}else w=x.action;typeof w=="function"?a[l+1]=w:(a.splice(l,3),l-=3),K0(a)}}}function Rm(t){this._internalRoot=t}od.prototype.render=Rm.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(i(409));var a=r.current,l=In();q0(a,l,t,r,null,null)},od.prototype.unmount=Rm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;q0(t.current,2,null,t,null,null),Bu(),r[Pn]=null}};function od(t){this._internalRoot=t}od.prototype.unstable_scheduleHydration=function(t){if(t){var r=ps();t={blockedOn:null,target:t,priority:r};for(var a=0;a<zs.length&&r!==0&&r<zs[a].priority;a++);zs.splice(a,0,t),a===0&&Q0(t)}};var $0=e.version;if($0!=="19.1.0")throw Error(i(527,$0,"19.1.0"));ce.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=g(r),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var eS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ld=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ld.isDisabled&&ld.supportsFiber)try{ht=ld.inject(eS),We=ld}catch{}}return Kl.createRoot=function(t,r){if(!o(t))throw Error(i(299));var a=!1,l="",d=dv,f=hv,x=fv,w=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(f=r.onCaughtError),r.onRecoverableError!==void 0&&(x=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(w=r.unstable_transitionCallbacks)),r=U0(t,1,!1,null,null,a,l,d,f,x,w,null),t[Pn]=r.current,cm(t),new Rm(r)},Kl.hydrateRoot=function(t,r,a){if(!o(t))throw Error(i(299));var l=!1,d="",f=dv,x=hv,w=fv,D=null,B=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(x=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(D=a.unstable_transitionCallbacks),a.formState!==void 0&&(B=a.formState)),r=U0(t,1,!0,r,a??null,l,d,f,x,w,D,B),r.context=z0(null),a=r.current,l=In(),l=ms(l),d=Ts(l),d.callback=null,ws(a,d,l),a=l,r.current.lanes=a,Dr(r,a),Er(r),t[Pn]=r.current,cm(t),new od(r)},Kl.version="19.1.0",Kl}var i_;function dS(){if(i_)return Im.exports;i_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Im.exports=uS(),Im.exports}var hS=dS();/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fS=()=>{};var a_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx=function(s){const e=[];let n=0;for(let i=0;i<s.length;i++){let o=s.charCodeAt(i);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&i+1<s.length&&(s.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++i)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},mS=function(s){const e=[];let n=0,i=0;for(;n<s.length;){const o=s[n++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[n++];e[i++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[n++],h=s[n++],p=s[n++],g=((o&7)<<18|(c&63)<<12|(h&63)<<6|p&63)-65536;e[i++]=String.fromCharCode(55296+(g>>10)),e[i++]=String.fromCharCode(56320+(g&1023))}else{const c=s[n++],h=s[n++];e[i++]=String.fromCharCode((o&15)<<12|(c&63)<<6|h&63)}}return e.join("")},nx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<s.length;o+=3){const c=s[o],h=o+1<s.length,p=h?s[o+1]:0,g=o+2<s.length,y=g?s[o+2]:0,_=c>>2,E=(c&3)<<4|p>>4;let T=(p&15)<<2|y>>6,M=y&63;g||(M=64,h||(T=64)),i.push(n[_],n[E],n[T],n[M])}return i.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(tx(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):mS(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<s.length;){const c=n[s.charAt(o++)],p=o<s.length?n[s.charAt(o)]:0;++o;const y=o<s.length?n[s.charAt(o)]:64;++o;const E=o<s.length?n[s.charAt(o)]:64;if(++o,c==null||p==null||y==null||E==null)throw new pS;const T=c<<2|p>>4;if(i.push(T),y!==64){const M=p<<4&240|y>>2;if(i.push(M),E!==64){const L=y<<6&192|E;i.push(L)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class pS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gS=function(s){const e=tx(s);return nx.encodeByteArray(e,!0)},Od=function(s){return gS(s).replace(/\./g,"")},rx=function(s){try{return nx.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS=()=>yS().__FIREBASE_DEFAULTS__,_S=()=>{if(typeof process>"u"||typeof a_>"u")return;const s=a_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},bS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&rx(s[1]);return e&&JSON.parse(e)},rh=()=>{try{return fS()||vS()||_S()||bS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},sx=s=>{var e,n;return(n=(e=rh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[s]},xS=s=>{const e=sx(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},ix=()=>{var s;return(s=rh())===null||s===void 0?void 0:s.config},ax=s=>{var e;return(e=rh())===null||e===void 0?void 0:e[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function No(s){return s.endsWith(".cloudworkstations.dev")}async function ox(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TS(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},s);return[Od(JSON.stringify(n)),Od(JSON.stringify(h)),""].join(".")}const sc={};function wS(){const s={prod:[],emulator:[]};for(const e of Object.keys(sc))sc[e]?s.emulator.push(e):s.prod.push(e);return s}function SS(s){let e=document.getElementById(s),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),n=!0),{created:n,element:e}}let o_=!1;function lx(s,e){if(typeof window>"u"||typeof document>"u"||!No(window.location.host)||sc[s]===e||sc[s]||o_)return;sc[s]=e;function n(T){return`__firebase__banner__${T}`}const i="__firebase__banner",c=wS().prod.length>0;function h(){const T=document.getElementById(i);T&&T.remove()}function p(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function g(T,M){T.setAttribute("width","24"),T.setAttribute("id",M),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function y(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{o_=!0,h()},T}function _(T,M){T.setAttribute("id",M),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function E(){const T=SS(i),M=n("text"),L=document.getElementById(M)||document.createElement("span"),F=n("learnmore"),H=document.getElementById(F)||document.createElement("a"),le=n("preprendIcon"),ae=document.getElementById(le)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const ie=T.element;p(ie),_(H,F);const Y=y();g(ae,le),ie.append(ae,L,H,Y),document.body.appendChild(ie)}c?(L.innerText="Preview backend disconnected.",ae.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ae.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,L.innerText="Preview backend running in this workspace."),L.setAttribute("id",M)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function AS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function RS(){var s;const e=(s=rh())===null||s===void 0?void 0:s.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function NS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function CS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function IS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function DS(){const s=an();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function OS(){return!RS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function jS(){try{return typeof indexedDB=="object"}catch{return!1}}function MS(){return new Promise((s,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(i),s(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var c;e(((c=o.error)===null||c===void 0?void 0:c.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS="FirebaseError";class hs extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=kS,Object.setPrototypeOf(this,hs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tc.prototype.create)}}class Tc{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},o=`${this.service}/${e}`,c=this.errors[e],h=c?PS(c,i):"Error",p=`${this.serviceName}: ${h} (${o}).`;return new hs(o,p,i)}}function PS(s,e){return s.replace(VS,(n,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const VS=/\{\$([^}]+)}/g;function LS(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Zi(s,e){if(s===e)return!0;const n=Object.keys(s),i=Object.keys(e);for(const o of n){if(!i.includes(o))return!1;const c=s[o],h=e[o];if(l_(c)&&l_(h)){if(!Zi(c,h))return!1}else if(c!==h)return!1}for(const o of i)if(!n.includes(o))return!1;return!0}function l_(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wc(s){const e=[];for(const[n,i]of Object.entries(s))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Zl(s){const e={};return s.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,c]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function Jl(s){const e=s.indexOf("?");if(!e)return"";const n=s.indexOf("#",e);return s.substring(e,n>0?n:void 0)}function US(s,e){const n=new zS(s,e);return n.subscribe.bind(n)}class zS{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let o;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");qS(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:i},o.next===void 0&&(o.next=Mm),o.error===void 0&&(o.error=Mm),o.complete===void 0&&(o.complete=Mm);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qS(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function Mm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(s){return s&&s._delegate?s._delegate:s}class Ji{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new ES;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(c){if(o)return null;throw c}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(FS(e))try{this.getOrInitializeService({instanceIdentifier:Xi})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});i.resolve(c)}catch{}}}}clearInstance(e=Xi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xi){return this.instances.has(e)}getOptions(e=Xi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[c,h]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);i===p&&h.resolve(o)}return o}onInit(e,n){var i;const o=this.normalizeInstanceIdentifier(n),c=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;c.add(e),this.onInitCallbacks.set(o,c);const h=this.instances.get(o);return h&&e(h,o),()=>{c.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const o of i)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:HS(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Xi){return this.component?this.component.multipleInstances?e:Xi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function HS(s){return s===Xi?void 0:s}function FS(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new BS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Le||(Le={}));const QS={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},YS=Le.INFO,KS={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},$S=(s,e,...n)=>{if(e<s.logLevel)return;const i=new Date().toISOString(),o=KS[e];if(o)console[o](`[${i}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ip{constructor(e){this.name=e,this._logLevel=YS,this._logHandler=$S,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?QS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const XS=(s,e)=>e.some(n=>s instanceof n);let c_,u_;function WS(){return c_||(c_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ZS(){return u_||(u_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cx=new WeakMap,Km=new WeakMap,ux=new WeakMap,km=new WeakMap,Dp=new WeakMap;function JS(s){const e=new Promise((n,i)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",h)},c=()=>{n(Ws(s.result)),o()},h=()=>{i(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&cx.set(n,s)}).catch(()=>{}),Dp.set(e,s),e}function eA(s){if(Km.has(s))return;const e=new Promise((n,i)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",h),s.removeEventListener("abort",h)},c=()=>{n(),o()},h=()=>{i(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",h),s.addEventListener("abort",h)});Km.set(s,e)}let $m={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return Km.get(s);if(e==="objectStoreNames")return s.objectStoreNames||ux.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ws(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function tA(s){$m=s($m)}function nA(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=s.call(Pm(this),e,...n);return ux.set(i,e.sort?e.sort():[e]),Ws(i)}:ZS().includes(s)?function(...e){return s.apply(Pm(this),e),Ws(cx.get(this))}:function(...e){return Ws(s.apply(Pm(this),e))}}function rA(s){return typeof s=="function"?nA(s):(s instanceof IDBTransaction&&eA(s),XS(s,WS())?new Proxy(s,$m):s)}function Ws(s){if(s instanceof IDBRequest)return JS(s);if(km.has(s))return km.get(s);const e=rA(s);return e!==s&&(km.set(s,e),Dp.set(e,s)),e}const Pm=s=>Dp.get(s);function sA(s,e,{blocked:n,upgrade:i,blocking:o,terminated:c}={}){const h=indexedDB.open(s,e),p=Ws(h);return i&&h.addEventListener("upgradeneeded",g=>{i(Ws(h.result),g.oldVersion,g.newVersion,Ws(h.transaction),g)}),n&&h.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{c&&g.addEventListener("close",()=>c()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const iA=["get","getKey","getAll","getAllKeys","count"],aA=["put","add","delete","clear"],Vm=new Map;function d_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Vm.get(e))return Vm.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,o=aA.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(o||iA.includes(n)))return;const c=async function(h,...p){const g=this.transaction(h,o?"readwrite":"readonly");let y=g.store;return i&&(y=y.index(p.shift())),(await Promise.all([y[n](...p),o&&g.done]))[0]};return Vm.set(e,c),c}tA(s=>({...s,get:(e,n,i)=>d_(e,n)||s.get(e,n,i),has:(e,n)=>!!d_(e,n)||s.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(lA(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function lA(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Xm="@firebase/app",h_="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls=new Ip("@firebase/app"),cA="@firebase/app-compat",uA="@firebase/analytics-compat",dA="@firebase/analytics",hA="@firebase/app-check-compat",fA="@firebase/app-check",mA="@firebase/auth",pA="@firebase/auth-compat",gA="@firebase/database",yA="@firebase/data-connect",vA="@firebase/database-compat",_A="@firebase/functions",bA="@firebase/functions-compat",xA="@firebase/installations",EA="@firebase/installations-compat",TA="@firebase/messaging",wA="@firebase/messaging-compat",SA="@firebase/performance",AA="@firebase/performance-compat",RA="@firebase/remote-config",NA="@firebase/remote-config-compat",CA="@firebase/storage",IA="@firebase/storage-compat",DA="@firebase/firestore",OA="@firebase/ai",jA="@firebase/firestore-compat",MA="firebase",kA="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wm="[DEFAULT]",PA={[Xm]:"fire-core",[cA]:"fire-core-compat",[dA]:"fire-analytics",[uA]:"fire-analytics-compat",[fA]:"fire-app-check",[hA]:"fire-app-check-compat",[mA]:"fire-auth",[pA]:"fire-auth-compat",[gA]:"fire-rtdb",[yA]:"fire-data-connect",[vA]:"fire-rtdb-compat",[_A]:"fire-fn",[bA]:"fire-fn-compat",[xA]:"fire-iid",[EA]:"fire-iid-compat",[TA]:"fire-fcm",[wA]:"fire-fcm-compat",[SA]:"fire-perf",[AA]:"fire-perf-compat",[RA]:"fire-rc",[NA]:"fire-rc-compat",[CA]:"fire-gcs",[IA]:"fire-gcs-compat",[DA]:"fire-fst",[jA]:"fire-fst-compat",[OA]:"fire-vertex","fire-js":"fire-js",[MA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd=new Map,VA=new Map,Zm=new Map;function f_(s,e){try{s.container.addComponent(e)}catch(n){ls.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function vo(s){const e=s.name;if(Zm.has(e))return ls.debug(`There were multiple attempts to register component ${e}.`),!1;Zm.set(e,s);for(const n of jd.values())f_(n,s);for(const n of VA.values())f_(n,s);return!0}function Op(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function Kn(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zs=new Tc("app","Firebase",LA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ji("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Co=kA;function dx(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Wm,automaticDataCollectionEnabled:!0},e),o=i.name;if(typeof o!="string"||!o)throw Zs.create("bad-app-name",{appName:String(o)});if(n||(n=ix()),!n)throw Zs.create("no-options");const c=jd.get(o);if(c){if(Zi(n,c.options)&&Zi(i,c.config))return c;throw Zs.create("duplicate-app",{appName:o})}const h=new GS(o);for(const g of Zm.values())h.addComponent(g);const p=new UA(n,i,h);return jd.set(o,p),p}function hx(s=Wm){const e=jd.get(s);if(!e&&s===Wm&&ix())return dx();if(!e)throw Zs.create("no-app",{appName:s});return e}function Js(s,e,n){var i;let o=(i=PA[s])!==null&&i!==void 0?i:s;n&&(o+=`-${n}`);const c=o.match(/\s|\//),h=e.match(/\s|\//);if(c||h){const p=[`Unable to register library "${o}" with version "${e}":`];c&&p.push(`library name "${o}" contains illegal characters (whitespace or "/")`),c&&h&&p.push("and"),h&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ls.warn(p.join(" "));return}vo(new Ji(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA="firebase-heartbeat-database",qA=1,dc="firebase-heartbeat-store";let Lm=null;function fx(){return Lm||(Lm=sA(zA,qA,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(dc)}catch(n){console.warn(n)}}}}).catch(s=>{throw Zs.create("idb-open",{originalErrorMessage:s.message})})),Lm}async function BA(s){try{const n=(await fx()).transaction(dc),i=await n.objectStore(dc).get(mx(s));return await n.done,i}catch(e){if(e instanceof hs)ls.warn(e.message);else{const n=Zs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ls.warn(n.message)}}}async function m_(s,e){try{const i=(await fx()).transaction(dc,"readwrite");await i.objectStore(dc).put(e,mx(s)),await i.done}catch(n){if(n instanceof hs)ls.warn(n.message);else{const i=Zs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ls.warn(i.message)}}}function mx(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA=1024,FA=30;class GA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new YA(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=p_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(h=>h.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>FA){const h=KA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){ls.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=p_(),{heartbeatsToSend:i,unsentEntries:o}=QA(this._heartbeatsCache.heartbeats),c=Od(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return ls.warn(n),""}}}function p_(){return new Date().toISOString().substring(0,10)}function QA(s,e=HA){const n=[];let i=s.slice();for(const o of s){const c=n.find(h=>h.agent===o.agent);if(c){if(c.dates.push(o.date),g_(n)>e){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),g_(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class YA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return jS()?MS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await BA(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return m_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return m_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function g_(s){return Od(JSON.stringify({version:2,heartbeats:s})).length}function KA(s){if(s.length===0)return-1;let e=0,n=s[0].date;for(let i=1;i<s.length;i++)s[i].date<n&&(n=s[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $A(s){vo(new Ji("platform-logger",e=>new oA(e),"PRIVATE")),vo(new Ji("heartbeat",e=>new GA(e),"PRIVATE")),Js(Xm,h_,s),Js(Xm,h_,"esm2017"),Js("fire-js","")}$A("");var XA="firebase",WA="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Js(XA,WA,"app");function jp(s,e){var n={};for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&e.indexOf(i)<0&&(n[i]=s[i]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(s);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(s,i[o])&&(n[i[o]]=s[i[o]]);return n}function px(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ZA=px,gx=new Tc("auth","Firebase",px());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Md=new Ip("@firebase/auth");function JA(s,...e){Md.logLevel<=Le.WARN&&Md.warn(`Auth (${Co}): ${s}`,...e)}function _d(s,...e){Md.logLevel<=Le.ERROR&&Md.error(`Auth (${Co}): ${s}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(s,...e){throw Mp(s,...e)}function wr(s,...e){return Mp(s,...e)}function yx(s,e,n){const i=Object.assign(Object.assign({},ZA()),{[e]:n});return new Tc("auth","Firebase",i).create(e,{appName:s.name})}function os(s){return yx(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Mp(s,...e){if(typeof s!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=s.name),s._errorFactory.create(n,...i)}return gx.create(s,...e)}function Se(s,e,...n){if(!s)throw Mp(e,...n)}function rs(s){const e="INTERNAL ASSERTION FAILED: "+s;throw _d(e),new Error(e)}function cs(s,e){s||rs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jm(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.href)||""}function eR(){return y_()==="http:"||y_()==="https:"}function y_(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(eR()||CS()||"connection"in navigator)?navigator.onLine:!0}function nR(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,n){this.shortDelay=e,this.longDelay=n,cs(n>e,"Short delay should be less than long delay!"),this.isMobile=AS()||IS()}get(){return tR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kp(s,e){cs(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;rs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;rs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;rs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],iR=new Sc(3e4,6e4);function ci(s,e){return s.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:s.tenantId}):e}async function fs(s,e,n,i,o={}){return _x(s,o,async()=>{let c={},h={};i&&(e==="GET"?h=i:c={body:JSON.stringify(i)});const p=wc(Object.assign({key:s.config.apiKey},h)).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const y=Object.assign({method:e,headers:g},c);return NS()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&No(s.emulatorConfig.host)&&(y.credentials="include"),vx.fetch()(await bx(s,s.config.apiHost,n,p),y)})}async function _x(s,e,n){s._canInitEmulator=!1;const i=Object.assign(Object.assign({},rR),e);try{const o=new oR(s),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await c.json();if("needConfirmation"in h)throw cd(s,"account-exists-with-different-credential",h);if(c.ok&&!("errorMessage"in h))return h;{const p=c.ok?h.errorMessage:h.error.message,[g,y]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw cd(s,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw cd(s,"email-already-in-use",h);if(g==="USER_DISABLED")throw cd(s,"user-disabled",h);const _=i[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw yx(s,_,y);sr(s,_)}}catch(o){if(o instanceof hs)throw o;sr(s,"network-request-failed",{message:String(o)})}}async function Ac(s,e,n,i,o={}){const c=await fs(s,e,n,i,o);return"mfaPendingCredential"in c&&sr(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function bx(s,e,n,i){const o=`${e}${n}?${i}`,c=s,h=c.config.emulator?kp(s.config,o):`${s.config.apiScheme}://${o}`;return sR.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(h).toString():h}function aR(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class oR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(wr(this.auth,"network-request-failed")),iR.get())})}}function cd(s,e,n){const i={appName:s.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const o=wr(s,e,i);return o.customData._tokenResponse=n,o}function v_(s){return s!==void 0&&s.enterprise!==void 0}class lR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return aR(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function cR(s,e){return fs(s,"GET","/v2/recaptchaConfig",ci(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uR(s,e){return fs(s,"POST","/v1/accounts:delete",e)}async function kd(s,e){return fs(s,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ic(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function dR(s,e=!1){const n=_t(s),i=await n.getIdToken(e),o=Pp(i);Se(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,h=c==null?void 0:c.sign_in_provider;return{claims:o,token:i,authTime:ic(Um(o.auth_time)),issuedAtTime:ic(Um(o.iat)),expirationTime:ic(Um(o.exp)),signInProvider:h||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function Um(s){return Number(s)*1e3}function Pp(s){const[e,n,i]=s.split(".");if(e===void 0||n===void 0||i===void 0)return _d("JWT malformed, contained fewer than 3 sections"),null;try{const o=rx(n);return o?JSON.parse(o):(_d("Failed to decode base64 JWT payload"),null)}catch(o){return _d("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function __(s){const e=Pp(s);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _o(s,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof hs&&hR(i)&&s.auth.currentUser===s&&await s.auth.signOut(),i}}function hR({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ic(this.lastLoginAt),this.creationTime=ic(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pd(s){var e;const n=s.auth,i=await s.getIdToken(),o=await _o(s,kd(n,{idToken:i}));Se(o==null?void 0:o.users.length,n,"internal-error");const c=o.users[0];s._notifyReloadListener(c);const h=!((e=c.providerUserInfo)===null||e===void 0)&&e.length?xx(c.providerUserInfo):[],p=pR(s.providerData,h),g=s.isAnonymous,y=!(s.email&&c.passwordHash)&&!(p!=null&&p.length),_=g?y:!1,E={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:p,metadata:new ep(c.createdAt,c.lastLoginAt),isAnonymous:_};Object.assign(s,E)}async function mR(s){const e=_t(s);await Pd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function pR(s,e){return[...s.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function xx(s){return s.map(e=>{var{providerId:n}=e,i=jp(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gR(s,e){const n=await _x(s,{},async()=>{const i=wc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,h=await bx(s,o,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:i};return s.emulatorConfig&&No(s.emulatorConfig.host)&&(g.credentials="include"),vx.fetch()(h,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function yR(s,e){return fs(s,"POST","/v2/accounts:revokeToken",ci(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):__(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const n=__(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:o,expiresIn:c}=await gR(e,n);this.updateTokensAndExpiration(i,o,Number(c))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:o,expirationTime:c}=n,h=new uo;return i&&(Se(typeof i=="string","internal-error",{appName:e}),h.refreshToken=i),o&&(Se(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),c&&(Se(typeof c=="number","internal-error",{appName:e}),h.expirationTime=c),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new uo,this.toJSON())}_performRefresh(){return rs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bs(s,e){Se(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class rr{constructor(e){var{uid:n,auth:i,stsTokenManager:o}=e,c=jp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new ep(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(e){const n=await _o(this,this.stsTokenManager.getToken(this.auth,e));return Se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return dR(this,e)}reload(){return mR(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new rr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Pd(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kn(this.auth.app))return Promise.reject(os(this.auth));const e=await this.getIdToken();return await _o(this,uR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,o,c,h,p,g,y,_;const E=(i=n.displayName)!==null&&i!==void 0?i:void 0,T=(o=n.email)!==null&&o!==void 0?o:void 0,M=(c=n.phoneNumber)!==null&&c!==void 0?c:void 0,L=(h=n.photoURL)!==null&&h!==void 0?h:void 0,F=(p=n.tenantId)!==null&&p!==void 0?p:void 0,H=(g=n._redirectEventId)!==null&&g!==void 0?g:void 0,le=(y=n.createdAt)!==null&&y!==void 0?y:void 0,ae=(_=n.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:ie,emailVerified:Y,isAnonymous:oe,providerData:K,stsTokenManager:C}=n;Se(ie&&C,e,"internal-error");const S=uo.fromJSON(this.name,C);Se(typeof ie=="string",e,"internal-error"),Bs(E,e.name),Bs(T,e.name),Se(typeof Y=="boolean",e,"internal-error"),Se(typeof oe=="boolean",e,"internal-error"),Bs(M,e.name),Bs(L,e.name),Bs(F,e.name),Bs(H,e.name),Bs(le,e.name),Bs(ae,e.name);const R=new rr({uid:ie,auth:e,email:T,emailVerified:Y,displayName:E,isAnonymous:oe,photoURL:L,phoneNumber:M,tenantId:F,stsTokenManager:S,createdAt:le,lastLoginAt:ae});return K&&Array.isArray(K)&&(R.providerData=K.map(N=>Object.assign({},N))),H&&(R._redirectEventId=H),R}static async _fromIdTokenResponse(e,n,i=!1){const o=new uo;o.updateFromServerResponse(n);const c=new rr({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await Pd(c),c}static async _fromGetAccountInfoResponse(e,n,i){const o=n.users[0];Se(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?xx(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(c!=null&&c.length),p=new uo;p.updateFromIdToken(i);const g=new rr({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:h}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new ep(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(c!=null&&c.length)};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_=new Map;function ss(s){cs(s instanceof Function,"Expected a class definition");let e=b_.get(s);return e?(cs(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,b_.set(s,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Ex.type="NONE";const x_=Ex;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bd(s,e,n){return`firebase:${s}:${e}:${n}`}class ho{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:o,name:c}=this.auth;this.fullUserKey=bd(this.userKey,o.apiKey,c),this.fullPersistenceKey=bd("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await kd(this.auth,{idToken:e}).catch(()=>{});return n?rr._fromGetAccountInfoResponse(this.auth,n,e):null}return rr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new ho(ss(x_),e,i);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||ss(x_);const h=bd(i,e.config.apiKey,e.name);let p=null;for(const y of n)try{const _=await y._get(h);if(_){let E;if(typeof _=="string"){const T=await kd(e,{idToken:_}).catch(()=>{});if(!T)break;E=await rr._fromGetAccountInfoResponse(e,T,_)}else E=rr._fromJSON(e,_);y!==c&&(p=E),c=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new ho(c,e,i):(c=g[0],p&&await c._set(h,p.toJSON()),await Promise.all(n.map(async y=>{if(y!==c)try{await y._remove(h)}catch{}})),new ho(c,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E_(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ax(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Tx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Nx(e))return"Blackberry";if(Cx(e))return"Webos";if(wx(e))return"Safari";if((e.includes("chrome/")||Sx(e))&&!e.includes("edge/"))return"Chrome";if(Rx(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=s.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function Tx(s=an()){return/firefox\//i.test(s)}function wx(s=an()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Sx(s=an()){return/crios\//i.test(s)}function Ax(s=an()){return/iemobile/i.test(s)}function Rx(s=an()){return/android/i.test(s)}function Nx(s=an()){return/blackberry/i.test(s)}function Cx(s=an()){return/webos/i.test(s)}function Vp(s=an()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function vR(s=an()){var e;return Vp(s)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function _R(){return DS()&&document.documentMode===10}function Ix(s=an()){return Vp(s)||Rx(s)||Cx(s)||Nx(s)||/windows phone/i.test(s)||Ax(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dx(s,e=[]){let n;switch(s){case"Browser":n=E_(an());break;case"Worker":n=`${E_(an())}-${s}`;break;default:n=s}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Co}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=c=>new Promise((h,p)=>{try{const g=e(c);h(g)}catch(g){p(g)}});i.onAbort=n,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xR(s,e={}){return fs(s,"GET","/v2/passwordPolicy",ci(s,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER=6;class TR{constructor(e){var n,i,o,c;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=h.minPasswordLength)!==null&&n!==void 0?n:ER,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(c=e.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,o,c,h,p;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,g),this.validatePasswordCharacterOptions(e,g),g.isValid&&(g.isValid=(n=g.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),g.isValid&&(g.isValid=(i=g.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),g.isValid&&(g.isValid=(o=g.containsLowercaseLetter)!==null&&o!==void 0?o:!0),g.isValid&&(g.isValid=(c=g.containsUppercaseLetter)!==null&&c!==void 0?c:!0),g.isValid&&(g.isValid=(h=g.containsNumericCharacter)!==null&&h!==void 0?h:!0),g.isValid&&(g.isValid=(p=g.containsNonAlphanumericCharacter)!==null&&p!==void 0?p:!0),g}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e,n,i,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new T_(this),this.idTokenSubscription=new T_(this),this.beforeStateQueue=new bR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ss(n)),this._initializationPromise=this.queue(async()=>{var i,o,c;if(!this._deleted&&(this.persistenceManager=await ho.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((c=this.currentUser)===null||c===void 0?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await kd(this,{idToken:e}),i=await rr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Kn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(p,p))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,c=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,p=o==null?void 0:o._redirectEventId,g=await this.tryRedirectSignIn(e);(!h||h===p)&&(g!=null&&g.user)&&(o=g.user,c=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Pd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=nR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Kn(this.app))return Promise.reject(os(this));const n=e?_t(e):null;return n&&Se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Kn(this.app)?Promise.reject(os(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Kn(this.app)?Promise.reject(os(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ss(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await xR(this),n=new TR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Tc("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await yR(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ss(e)||this._popupRedirectResolver;Se(n,this,"argument-error"),this.redirectPersistenceManager=await ho.create(this,[ss(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let h=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(p,this,"internal-error"),p.then(()=>{h||c(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,i,o);return()=>{h=!0,g()}}else{const g=e.addObserver(n);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Dx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&JA(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ia(s){return _t(s)}class T_{constructor(e){this.auth=e,this.observer=null,this.addObserver=US(n=>this.observer=n)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function SR(s){sh=s}function Ox(s){return sh.loadJS(s)}function AR(){return sh.recaptchaEnterpriseScript}function RR(){return sh.gapiScript}function NR(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class CR{constructor(){this.enterprise=new IR}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class IR{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const DR="recaptcha-enterprise",jx="NO_RECAPTCHA";class OR{constructor(e){this.type=DR,this.auth=ia(e)}async verify(e="verify",n=!1){async function i(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(h,p)=>{cR(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new lR(g);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,h(y.siteKey)}}).catch(g=>{p(g)})})}function o(c,h,p){const g=window.grecaptcha;v_(g)?g.enterprise.ready(()=>{g.enterprise.execute(c,{action:e}).then(y=>{h(y)}).catch(()=>{h(jx)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new CR().execute("siteKey",{action:"verify"}):new Promise((c,h)=>{i(this.auth).then(p=>{if(!n&&v_(window.grecaptcha))o(p,c,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let g=AR();g.length!==0&&(g+=p),Ox(g).then(()=>{o(p,c,h)}).catch(y=>{h(y)})}}).catch(p=>{h(p)})})}}async function w_(s,e,n,i=!1,o=!1){const c=new OR(s);let h;if(o)h=jx;else try{h=await c.verify(n)}catch{h=await c.verify(n,!0)}const p=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return i?Object.assign(p,{captchaResp:h}):Object.assign(p,{captchaResponse:h}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function tp(s,e,n,i,o){var c;if(!((c=s._getRecaptchaConfig())===null||c===void 0)&&c.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await w_(s,e,n,n==="getOobCode");return i(s,h)}else return i(s,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const p=await w_(s,e,n,n==="getOobCode");return i(s,p)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jR(s,e){const n=Op(s,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(Zi(c,e??{}))return o;sr(o,"already-initialized")}return n.initialize({options:e})}function MR(s,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(ss);e!=null&&e.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function kR(s,e,n){const i=ia(s);Se(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,c=Mx(e),{host:h,port:p}=PR(e),g=p===null?"":`:${p}`,y={url:`${c}//${h}${g}/`},_=Object.freeze({host:h,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){Se(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Se(Zi(y,i.config.emulator)&&Zi(_,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=y,i.emulatorConfig=_,i.settings.appVerificationDisabledForTesting=!0,No(h)?(ox(`${c}//${h}${g}`),lx("Auth",!0)):VR()}function Mx(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function PR(s){const e=Mx(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const c=o[1];return{host:c,port:S_(i.substr(c.length+1))}}else{const[c,h]=i.split(":");return{host:c,port:S_(h)}}}function S_(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function VR(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return rs("not implemented")}_getIdTokenResponse(e){return rs("not implemented")}_linkToIdToken(e,n){return rs("not implemented")}_getReauthenticationResolver(e){return rs("not implemented")}}async function LR(s,e){return fs(s,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UR(s,e){return Ac(s,"POST","/v1/accounts:signInWithPassword",ci(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zR(s,e){return Ac(s,"POST","/v1/accounts:signInWithEmailLink",ci(s,e))}async function qR(s,e){return Ac(s,"POST","/v1/accounts:signInWithEmailLink",ci(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc extends Lp{constructor(e,n,i,o=null){super("password",i),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new hc(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new hc(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tp(e,n,"signInWithPassword",UR);case"emailLink":return zR(e,{email:this._email,oobCode:this._password});default:sr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tp(e,i,"signUpPassword",LR);case"emailLink":return qR(e,{idToken:n,email:this._email,oobCode:this._password});default:sr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fo(s,e){return Ac(s,"POST","/v1/accounts:signInWithIdp",ci(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR="http://localhost";class ea extends Lp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ea(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):sr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=n,c=jp(n,["providerId","signInMethod"]);if(!i||!o)return null;const h=new ea(i,o);return h.idToken=c.idToken||void 0,h.accessToken=c.accessToken||void 0,h.secret=c.secret,h.nonce=c.nonce,h.pendingToken=c.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return fo(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,fo(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,fo(e,n)}buildRequest(){const e={requestUri:BR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=wc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HR(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function FR(s){const e=Zl(Jl(s)).link,n=e?Zl(Jl(e)).deep_link_id:null,i=Zl(Jl(s)).deep_link_id;return(i?Zl(Jl(i)).link:null)||i||n||e||s}class Up{constructor(e){var n,i,o,c,h,p;const g=Zl(Jl(e)),y=(n=g.apiKey)!==null&&n!==void 0?n:null,_=(i=g.oobCode)!==null&&i!==void 0?i:null,E=HR((o=g.mode)!==null&&o!==void 0?o:null);Se(y&&_&&E,"argument-error"),this.apiKey=y,this.operation=E,this.code=_,this.continueUrl=(c=g.continueUrl)!==null&&c!==void 0?c:null,this.languageCode=(h=g.lang)!==null&&h!==void 0?h:null,this.tenantId=(p=g.tenantId)!==null&&p!==void 0?p:null}static parseLink(e){const n=FR(e);try{return new Up(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(){this.providerId=Io.PROVIDER_ID}static credential(e,n){return hc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=Up.parseLink(n);return Se(i,"argument-error"),hc._fromEmailAndCode(e,i.code,i.tenantId)}}Io.PROVIDER_ID="password";Io.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Io.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc extends kx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs extends Rc{constructor(){super("facebook.com")}static credential(e){return ea._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gs.credentialFromTaggedObject(e)}static credentialFromError(e){return Gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gs.credential(e.oauthAccessToken)}catch{return null}}}Gs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Gs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs extends Rc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ea._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Qs.credentialFromTaggedObject(e)}static credentialFromError(e){return Qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Qs.credential(n,i)}catch{return null}}}Qs.GOOGLE_SIGN_IN_METHOD="google.com";Qs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys extends Rc{constructor(){super("github.com")}static credential(e){return ea._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ys.credentialFromTaggedObject(e)}static credentialFromError(e){return Ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ys.credential(e.oauthAccessToken)}catch{return null}}}Ys.GITHUB_SIGN_IN_METHOD="github.com";Ys.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks extends Rc{constructor(){super("twitter.com")}static credential(e,n){return ea._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ks.credentialFromTaggedObject(e)}static credentialFromError(e){return Ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Ks.credential(n,i)}catch{return null}}}Ks.TWITTER_SIGN_IN_METHOD="twitter.com";Ks.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GR(s,e){return Ac(s,"POST","/v1/accounts:signUp",ci(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,o=!1){const c=await rr._fromIdTokenResponse(e,i,o),h=A_(i);return new ta({user:c,providerId:h,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const o=A_(i);return new ta({user:e,providerId:o,_tokenResponse:i,operationType:n})}}function A_(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd extends hs{constructor(e,n,i,o){var c;super(n.code,n.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,Vd.prototype),this.customData={appName:e.name,tenantId:(c=e.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,o){return new Vd(e,n,i,o)}}function Px(s,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Vd._fromErrorAndOperation(s,c,e,i):c})}async function QR(s,e,n=!1){const i=await _o(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return ta._forOperation(s,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YR(s,e,n=!1){const{auth:i}=s;if(Kn(i.app))return Promise.reject(os(i));const o="reauthenticate";try{const c=await _o(s,Px(i,o,e,s),n);Se(c.idToken,i,"internal-error");const h=Pp(c.idToken);Se(h,i,"internal-error");const{sub:p}=h;return Se(s.uid===p,i,"user-mismatch"),ta._forOperation(s,o,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&sr(i,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vx(s,e,n=!1){if(Kn(s.app))return Promise.reject(os(s));const i="signIn",o=await Px(s,i,e),c=await ta._fromIdTokenResponse(s,i,o);return n||await s._updateCurrentUser(c.user),c}async function KR(s,e){return Vx(ia(s),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lx(s){const e=ia(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function $R(s,e,n){if(Kn(s.app))return Promise.reject(os(s));const i=ia(s),h=await tp(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",GR).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&Lx(s),g}),p=await ta._fromIdTokenResponse(i,"signIn",h);return await i._updateCurrentUser(p.user),p}function XR(s,e,n){return Kn(s.app)?Promise.reject(os(s)):KR(_t(s),Io.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&Lx(s),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WR(s,e){return fs(s,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZR(s,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const i=_t(s),c={idToken:await i.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},h=await _o(i,WR(i.auth,c));i.displayName=h.displayName||null,i.photoURL=h.photoUrl||null;const p=i.providerData.find(({providerId:g})=>g==="password");p&&(p.displayName=i.displayName,p.photoURL=i.photoURL),await i._updateTokensIfNecessary(h)}function JR(s,e,n,i){return _t(s).onIdTokenChanged(e,n,i)}function eN(s,e,n){return _t(s).beforeAuthStateChanged(e,n)}function tN(s,e,n,i){return _t(s).onAuthStateChanged(e,n,i)}function nN(s){return _t(s).signOut()}const Ld="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ld,"1"),this.storage.removeItem(Ld),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN=1e3,sN=10;class zx extends Ux{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ix(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),o=this.localCache[n];i!==o&&e(n,o,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,p,g)=>{this.notifyListeners(h,g)});return}const i=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(i);!n&&this.localCache[i]===h||this.notifyListeners(i,h)},c=this.storage.getItem(i);_R()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,sN):o()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},rN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}zx.type="LOCAL";const iN=zx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx extends Ux{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}qx.type="SESSION";const Bx=qx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aN(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const i=new ih(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:o,data:c}=n.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const p=Array.from(h).map(async y=>y(n.origin,c)),g=await aN(p);n.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ih.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zp(s="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return s+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,h;return new Promise((p,g)=>{const y=zp("",20);o.port1.start();const _=setTimeout(()=>{g(new Error("unsupported_event"))},i);h={messageChannel:o,onMessage(E){const T=E;if(T.data.eventId===y)switch(T.data.status){case"ack":clearTimeout(_),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(T.data.response);break;default:clearTimeout(_),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(){return window}function lN(s){Sr().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hx(){return typeof Sr().WorkerGlobalScope<"u"&&typeof Sr().importScripts=="function"}async function cN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function uN(){var s;return((s=navigator==null?void 0:navigator.serviceWorker)===null||s===void 0?void 0:s.controller)||null}function dN(){return Hx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx="firebaseLocalStorageDb",hN=1,Ud="firebaseLocalStorage",Gx="fbase_key";class Nc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ah(s,e){return s.transaction([Ud],e?"readwrite":"readonly").objectStore(Ud)}function fN(){const s=indexedDB.deleteDatabase(Fx);return new Nc(s).toPromise()}function np(){const s=indexedDB.open(Fx,hN);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const i=s.result;try{i.createObjectStore(Ud,{keyPath:Gx})}catch(o){n(o)}}),s.addEventListener("success",async()=>{const i=s.result;i.objectStoreNames.contains(Ud)?e(i):(i.close(),await fN(),e(await np()))})})}async function R_(s,e,n){const i=ah(s,!0).put({[Gx]:e,value:n});return new Nc(i).toPromise()}async function mN(s,e){const n=ah(s,!1).get(e),i=await new Nc(n).toPromise();return i===void 0?null:i.value}function N_(s,e){const n=ah(s,!0).delete(e);return new Nc(n).toPromise()}const pN=800,gN=3;class Qx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await np(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>gN)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Hx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ih._getInstance(dN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await cN(),!this.activeServiceWorker)return;this.sender=new oN(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||uN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await np();return await R_(e,Ld,"1"),await N_(e,Ld),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>R_(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>mN(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>N_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=ah(o,!1).getAll();return new Nc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),pN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Qx.type="LOCAL";const yN=Qx;new Sc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vN(s,e){return e?ss(e):(Se(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp extends Lp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return fo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return fo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function _N(s){return Vx(s.auth,new qp(s),s.bypassAuthState)}function bN(s){const{auth:e,user:n}=s;return Se(n,e,"internal-error"),YR(n,new qp(s),s.bypassAuthState)}async function xN(s){const{auth:e,user:n}=s;return Se(n,e,"internal-error"),QR(n,new qp(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e,n,i,o,c=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:o,tenantId:c,error:h,type:p}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:n,sessionId:i,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _N;case"linkViaPopup":case"linkViaRedirect":return xN;case"reauthViaPopup":case"reauthViaRedirect":return bN;default:sr(this.auth,"internal-error")}}resolve(e){cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN=new Sc(2e3,1e4);class lo extends Yx{constructor(e,n,i,o,c){super(e,n,o,c),this.provider=i,this.authWindow=null,this.pollId=null,lo.currentPopupAction&&lo.currentPopupAction.cancel(),lo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){cs(this.filter.length===1,"Popup operations only handle one event");const e=zp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(wr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(wr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,lo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,EN.get())};e()}}lo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN="pendingRedirect",xd=new Map;class wN extends Yx{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=xd.get(this.auth._key());if(!e){try{const i=await SN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}xd.set(this.auth._key(),e)}return this.bypassAuthState||xd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function SN(s,e){const n=NN(e),i=RN(s);if(!await i._isAvailable())return!1;const o=await i._get(n)==="true";return await i._remove(n),o}function AN(s,e){xd.set(s._key(),e)}function RN(s){return ss(s._redirectPersistence)}function NN(s){return bd(TN,s.config.apiKey,s.name)}async function CN(s,e,n=!1){if(Kn(s.app))return Promise.reject(os(s));const i=ia(s),o=vN(i,e),h=await new wN(i,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await i._persistUserIfCurrent(h.user),await i._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN=10*60*1e3;class DN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ON(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!Kx(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(wr(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=IN&&this.cachedEventUids.clear(),this.cachedEventUids.has(C_(e))}saveEventToCache(e){this.cachedEventUids.add(C_(e)),this.lastProcessedEventTime=Date.now()}}function C_(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function Kx({type:s,error:e}){return s==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function ON(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Kx(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jN(s,e={}){return fs(s,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kN=/^https?/;async function PN(s){if(s.config.emulator)return;const{authorizedDomains:e}=await jN(s);for(const n of e)try{if(VN(n))return}catch{}sr(s,"unauthorized-domain")}function VN(s){const e=Jm(),{protocol:n,hostname:i}=new URL(e);if(s.startsWith("chrome-extension://")){const h=new URL(s);return h.hostname===""&&i===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===i}if(!kN.test(n))return!1;if(MN.test(s))return i===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN=new Sc(3e4,6e4);function I_(){const s=Sr().___jsl;if(s!=null&&s.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function UN(s){return new Promise((e,n)=>{var i,o,c;function h(){I_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{I_(),n(wr(s,"network-request-failed"))},timeout:LN.get()})}if(!((o=(i=Sr().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((c=Sr().gapi)===null||c===void 0)&&c.load)h();else{const p=NR("iframefcb");return Sr()[p]=()=>{gapi.load?h():n(wr(s,"network-request-failed"))},Ox(`${RR()}?onload=${p}`).catch(g=>n(g))}}).catch(e=>{throw Ed=null,e})}let Ed=null;function zN(s){return Ed=Ed||UN(s),Ed}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN=new Sc(5e3,15e3),BN="__/auth/iframe",HN="emulator/auth/iframe",FN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},GN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function QN(s){const e=s.config;Se(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?kp(e,HN):`https://${s.config.authDomain}/${BN}`,i={apiKey:e.apiKey,appName:s.name,v:Co},o=GN.get(s.config.apiHost);o&&(i.eid=o);const c=s._getFrameworks();return c.length&&(i.fw=c.join(",")),`${n}?${wc(i).slice(1)}`}async function YN(s){const e=await zN(s),n=Sr().gapi;return Se(n,s,"internal-error"),e.open({where:document.body,url:QN(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:FN,dontclear:!0},i=>new Promise(async(o,c)=>{await i.restyle({setHideOnLeave:!1});const h=wr(s,"network-request-failed"),p=Sr().setTimeout(()=>{c(h)},qN.get());function g(){Sr().clearTimeout(p),o(i)}i.ping(g).then(g,()=>{c(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$N=500,XN=600,WN="_blank",ZN="http://localhost";class D_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function JN(s,e,n,i=$N,o=XN){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-i)/2,0).toString();let p="";const g=Object.assign(Object.assign({},KN),{width:i.toString(),height:o.toString(),top:c,left:h}),y=an().toLowerCase();n&&(p=Sx(y)?WN:n),Tx(y)&&(e=e||ZN,g.scrollbars="yes");const _=Object.entries(g).reduce((T,[M,L])=>`${T}${M}=${L},`,"");if(vR(y)&&p!=="_self")return eC(e||"",p),new D_(null);const E=window.open(e||"",p,_);Se(E,s,"popup-blocked");try{E.focus()}catch{}return new D_(E)}function eC(s,e){const n=document.createElement("a");n.href=s,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC="__/auth/handler",nC="emulator/auth/handler",rC=encodeURIComponent("fac");async function O_(s,e,n,i,o,c){Se(s.config.authDomain,s,"auth-domain-config-required"),Se(s.config.apiKey,s,"invalid-api-key");const h={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:i,v:Co,eventId:o};if(e instanceof kx){e.setDefaultLanguage(s.languageCode),h.providerId=e.providerId||"",LS(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,E]of Object.entries({}))h[_]=E}if(e instanceof Rc){const _=e.getScopes().filter(E=>E!=="");_.length>0&&(h.scopes=_.join(","))}s.tenantId&&(h.tid=s.tenantId);const p=h;for(const _ of Object.keys(p))p[_]===void 0&&delete p[_];const g=await s._getAppCheckToken(),y=g?`#${rC}=${encodeURIComponent(g)}`:"";return`${sC(s)}?${wc(p).slice(1)}${y}`}function sC({config:s}){return s.emulator?kp(s,nC):`https://${s.authDomain}/${tC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zm="webStorageSupport";class iC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Bx,this._completeRedirectFn=CN,this._overrideRedirectResult=AN}async _openPopup(e,n,i,o){var c;cs((c=this.eventManagers[e._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const h=await O_(e,n,i,Jm(),o);return JN(e,h,zp())}async _openRedirect(e,n,i,o){await this._originValidation(e);const c=await O_(e,n,i,Jm(),o);return lN(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(cs(c,"If manager is not set, promise should be"),c)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await YN(e),i=new DN(e);return n.register("authEvent",o=>(Se(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(zm,{type:zm},o=>{var c;const h=(c=o==null?void 0:o[0])===null||c===void 0?void 0:c[zm];h!==void 0&&n(!!h),sr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=PN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Ix()||wx()||Vp()}}const aC=iC;var j_="@firebase/auth",M_="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lC(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function cC(s){vo(new Ji("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:h,authDomain:p}=i.options;Se(h&&!h.includes(":"),"invalid-api-key",{appName:i.name});const g={apiKey:h,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Dx(s)},y=new wR(i,o,c,g);return MR(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),vo(new Ji("auth-internal",e=>{const n=ia(e.getProvider("auth").getImmediate());return(i=>new oC(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Js(j_,M_,lC(s)),Js(j_,M_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC=5*60,dC=ax("authIdTokenMaxAge")||uC;let k_=null;const hC=s=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>dC)return;const o=n==null?void 0:n.token;k_!==o&&(k_=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function fC(s=hx()){const e=Op(s,"auth");if(e.isInitialized())return e.getImmediate();const n=jR(s,{popupRedirectResolver:aC,persistence:[yN,iN,Bx]}),i=ax("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(i,location.origin);if(location.origin===c.origin){const h=hC(c.toString());eN(n,h,()=>h(n.currentUser)),JR(n,p=>h(p))}}const o=sx("auth");return o&&kR(n,`http://${o}`),n}function mC(){var s,e;return(e=(s=document.getElementsByTagName("head"))===null||s===void 0?void 0:s[0])!==null&&e!==void 0?e:document}SR({loadJS(s){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",s),i.onload=e,i.onerror=o=>{const c=wr("internal-error");c.customData=o,n(c)},i.type="text/javascript",i.charset="UTF-8",mC().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});cC("Browser");var P_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ei,$x;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,S){function R(){}R.prototype=S.prototype,C.D=S.prototype,C.prototype=new R,C.prototype.constructor=C,C.C=function(N,O,j){for(var I=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)I[Qe-2]=arguments[Qe];return S.prototype[O].apply(N,I)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,S,R){R||(R=0);var N=Array(16);if(typeof S=="string")for(var O=0;16>O;++O)N[O]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(O=0;16>O;++O)N[O]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=C.g[0],R=C.g[1],O=C.g[2];var j=C.g[3],I=S+(j^R&(O^j))+N[0]+3614090360&4294967295;S=R+(I<<7&4294967295|I>>>25),I=j+(O^S&(R^O))+N[1]+3905402710&4294967295,j=S+(I<<12&4294967295|I>>>20),I=O+(R^j&(S^R))+N[2]+606105819&4294967295,O=j+(I<<17&4294967295|I>>>15),I=R+(S^O&(j^S))+N[3]+3250441966&4294967295,R=O+(I<<22&4294967295|I>>>10),I=S+(j^R&(O^j))+N[4]+4118548399&4294967295,S=R+(I<<7&4294967295|I>>>25),I=j+(O^S&(R^O))+N[5]+1200080426&4294967295,j=S+(I<<12&4294967295|I>>>20),I=O+(R^j&(S^R))+N[6]+2821735955&4294967295,O=j+(I<<17&4294967295|I>>>15),I=R+(S^O&(j^S))+N[7]+4249261313&4294967295,R=O+(I<<22&4294967295|I>>>10),I=S+(j^R&(O^j))+N[8]+1770035416&4294967295,S=R+(I<<7&4294967295|I>>>25),I=j+(O^S&(R^O))+N[9]+2336552879&4294967295,j=S+(I<<12&4294967295|I>>>20),I=O+(R^j&(S^R))+N[10]+4294925233&4294967295,O=j+(I<<17&4294967295|I>>>15),I=R+(S^O&(j^S))+N[11]+2304563134&4294967295,R=O+(I<<22&4294967295|I>>>10),I=S+(j^R&(O^j))+N[12]+1804603682&4294967295,S=R+(I<<7&4294967295|I>>>25),I=j+(O^S&(R^O))+N[13]+4254626195&4294967295,j=S+(I<<12&4294967295|I>>>20),I=O+(R^j&(S^R))+N[14]+2792965006&4294967295,O=j+(I<<17&4294967295|I>>>15),I=R+(S^O&(j^S))+N[15]+1236535329&4294967295,R=O+(I<<22&4294967295|I>>>10),I=S+(O^j&(R^O))+N[1]+4129170786&4294967295,S=R+(I<<5&4294967295|I>>>27),I=j+(R^O&(S^R))+N[6]+3225465664&4294967295,j=S+(I<<9&4294967295|I>>>23),I=O+(S^R&(j^S))+N[11]+643717713&4294967295,O=j+(I<<14&4294967295|I>>>18),I=R+(j^S&(O^j))+N[0]+3921069994&4294967295,R=O+(I<<20&4294967295|I>>>12),I=S+(O^j&(R^O))+N[5]+3593408605&4294967295,S=R+(I<<5&4294967295|I>>>27),I=j+(R^O&(S^R))+N[10]+38016083&4294967295,j=S+(I<<9&4294967295|I>>>23),I=O+(S^R&(j^S))+N[15]+3634488961&4294967295,O=j+(I<<14&4294967295|I>>>18),I=R+(j^S&(O^j))+N[4]+3889429448&4294967295,R=O+(I<<20&4294967295|I>>>12),I=S+(O^j&(R^O))+N[9]+568446438&4294967295,S=R+(I<<5&4294967295|I>>>27),I=j+(R^O&(S^R))+N[14]+3275163606&4294967295,j=S+(I<<9&4294967295|I>>>23),I=O+(S^R&(j^S))+N[3]+4107603335&4294967295,O=j+(I<<14&4294967295|I>>>18),I=R+(j^S&(O^j))+N[8]+1163531501&4294967295,R=O+(I<<20&4294967295|I>>>12),I=S+(O^j&(R^O))+N[13]+2850285829&4294967295,S=R+(I<<5&4294967295|I>>>27),I=j+(R^O&(S^R))+N[2]+4243563512&4294967295,j=S+(I<<9&4294967295|I>>>23),I=O+(S^R&(j^S))+N[7]+1735328473&4294967295,O=j+(I<<14&4294967295|I>>>18),I=R+(j^S&(O^j))+N[12]+2368359562&4294967295,R=O+(I<<20&4294967295|I>>>12),I=S+(R^O^j)+N[5]+4294588738&4294967295,S=R+(I<<4&4294967295|I>>>28),I=j+(S^R^O)+N[8]+2272392833&4294967295,j=S+(I<<11&4294967295|I>>>21),I=O+(j^S^R)+N[11]+1839030562&4294967295,O=j+(I<<16&4294967295|I>>>16),I=R+(O^j^S)+N[14]+4259657740&4294967295,R=O+(I<<23&4294967295|I>>>9),I=S+(R^O^j)+N[1]+2763975236&4294967295,S=R+(I<<4&4294967295|I>>>28),I=j+(S^R^O)+N[4]+1272893353&4294967295,j=S+(I<<11&4294967295|I>>>21),I=O+(j^S^R)+N[7]+4139469664&4294967295,O=j+(I<<16&4294967295|I>>>16),I=R+(O^j^S)+N[10]+3200236656&4294967295,R=O+(I<<23&4294967295|I>>>9),I=S+(R^O^j)+N[13]+681279174&4294967295,S=R+(I<<4&4294967295|I>>>28),I=j+(S^R^O)+N[0]+3936430074&4294967295,j=S+(I<<11&4294967295|I>>>21),I=O+(j^S^R)+N[3]+3572445317&4294967295,O=j+(I<<16&4294967295|I>>>16),I=R+(O^j^S)+N[6]+76029189&4294967295,R=O+(I<<23&4294967295|I>>>9),I=S+(R^O^j)+N[9]+3654602809&4294967295,S=R+(I<<4&4294967295|I>>>28),I=j+(S^R^O)+N[12]+3873151461&4294967295,j=S+(I<<11&4294967295|I>>>21),I=O+(j^S^R)+N[15]+530742520&4294967295,O=j+(I<<16&4294967295|I>>>16),I=R+(O^j^S)+N[2]+3299628645&4294967295,R=O+(I<<23&4294967295|I>>>9),I=S+(O^(R|~j))+N[0]+4096336452&4294967295,S=R+(I<<6&4294967295|I>>>26),I=j+(R^(S|~O))+N[7]+1126891415&4294967295,j=S+(I<<10&4294967295|I>>>22),I=O+(S^(j|~R))+N[14]+2878612391&4294967295,O=j+(I<<15&4294967295|I>>>17),I=R+(j^(O|~S))+N[5]+4237533241&4294967295,R=O+(I<<21&4294967295|I>>>11),I=S+(O^(R|~j))+N[12]+1700485571&4294967295,S=R+(I<<6&4294967295|I>>>26),I=j+(R^(S|~O))+N[3]+2399980690&4294967295,j=S+(I<<10&4294967295|I>>>22),I=O+(S^(j|~R))+N[10]+4293915773&4294967295,O=j+(I<<15&4294967295|I>>>17),I=R+(j^(O|~S))+N[1]+2240044497&4294967295,R=O+(I<<21&4294967295|I>>>11),I=S+(O^(R|~j))+N[8]+1873313359&4294967295,S=R+(I<<6&4294967295|I>>>26),I=j+(R^(S|~O))+N[15]+4264355552&4294967295,j=S+(I<<10&4294967295|I>>>22),I=O+(S^(j|~R))+N[6]+2734768916&4294967295,O=j+(I<<15&4294967295|I>>>17),I=R+(j^(O|~S))+N[13]+1309151649&4294967295,R=O+(I<<21&4294967295|I>>>11),I=S+(O^(R|~j))+N[4]+4149444226&4294967295,S=R+(I<<6&4294967295|I>>>26),I=j+(R^(S|~O))+N[11]+3174756917&4294967295,j=S+(I<<10&4294967295|I>>>22),I=O+(S^(j|~R))+N[2]+718787259&4294967295,O=j+(I<<15&4294967295|I>>>17),I=R+(j^(O|~S))+N[9]+3951481745&4294967295,C.g[0]=C.g[0]+S&4294967295,C.g[1]=C.g[1]+(O+(I<<21&4294967295|I>>>11))&4294967295,C.g[2]=C.g[2]+O&4294967295,C.g[3]=C.g[3]+j&4294967295}i.prototype.u=function(C,S){S===void 0&&(S=C.length);for(var R=S-this.blockSize,N=this.B,O=this.h,j=0;j<S;){if(O==0)for(;j<=R;)o(this,C,j),j+=this.blockSize;if(typeof C=="string"){for(;j<S;)if(N[O++]=C.charCodeAt(j++),O==this.blockSize){o(this,N),O=0;break}}else for(;j<S;)if(N[O++]=C[j++],O==this.blockSize){o(this,N),O=0;break}}this.h=O,this.o+=S},i.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var S=1;S<C.length-8;++S)C[S]=0;var R=8*this.o;for(S=C.length-8;S<C.length;++S)C[S]=R&255,R/=256;for(this.u(C),C=Array(16),S=R=0;4>S;++S)for(var N=0;32>N;N+=8)C[R++]=this.g[S]>>>N&255;return C};function c(C,S){var R=p;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=S(C)}function h(C,S){this.h=S;for(var R=[],N=!0,O=C.length-1;0<=O;O--){var j=C[O]|0;N&&j==S||(R[O]=j,N=!1)}this.g=R}var p={};function g(C){return-128<=C&&128>C?c(C,function(S){return new h([S|0],0>S?-1:0)}):new h([C|0],0>C?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return E;if(0>C)return H(y(-C));for(var S=[],R=1,N=0;C>=R;N++)S[N]=C/R|0,R*=4294967296;return new h(S,0)}function _(C,S){if(C.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(C.charAt(0)=="-")return H(_(C.substring(1),S));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=y(Math.pow(S,8)),N=E,O=0;O<C.length;O+=8){var j=Math.min(8,C.length-O),I=parseInt(C.substring(O,O+j),S);8>j?(j=y(Math.pow(S,j)),N=N.j(j).add(y(I))):(N=N.j(R),N=N.add(y(I)))}return N}var E=g(0),T=g(1),M=g(16777216);s=h.prototype,s.m=function(){if(F(this))return-H(this).m();for(var C=0,S=1,R=0;R<this.g.length;R++){var N=this.i(R);C+=(0<=N?N:4294967296+N)*S,S*=4294967296}return C},s.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(L(this))return"0";if(F(this))return"-"+H(this).toString(C);for(var S=y(Math.pow(C,6)),R=this,N="";;){var O=Y(R,S).g;R=le(R,O.j(S));var j=((0<R.g.length?R.g[0]:R.h)>>>0).toString(C);if(R=O,L(R))return j+N;for(;6>j.length;)j="0"+j;N=j+N}},s.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function L(C){if(C.h!=0)return!1;for(var S=0;S<C.g.length;S++)if(C.g[S]!=0)return!1;return!0}function F(C){return C.h==-1}s.l=function(C){return C=le(this,C),F(C)?-1:L(C)?0:1};function H(C){for(var S=C.g.length,R=[],N=0;N<S;N++)R[N]=~C.g[N];return new h(R,~C.h).add(T)}s.abs=function(){return F(this)?H(this):this},s.add=function(C){for(var S=Math.max(this.g.length,C.g.length),R=[],N=0,O=0;O<=S;O++){var j=N+(this.i(O)&65535)+(C.i(O)&65535),I=(j>>>16)+(this.i(O)>>>16)+(C.i(O)>>>16);N=I>>>16,j&=65535,I&=65535,R[O]=I<<16|j}return new h(R,R[R.length-1]&-2147483648?-1:0)};function le(C,S){return C.add(H(S))}s.j=function(C){if(L(this)||L(C))return E;if(F(this))return F(C)?H(this).j(H(C)):H(H(this).j(C));if(F(C))return H(this.j(H(C)));if(0>this.l(M)&&0>C.l(M))return y(this.m()*C.m());for(var S=this.g.length+C.g.length,R=[],N=0;N<2*S;N++)R[N]=0;for(N=0;N<this.g.length;N++)for(var O=0;O<C.g.length;O++){var j=this.i(N)>>>16,I=this.i(N)&65535,Qe=C.i(O)>>>16,Ie=C.i(O)&65535;R[2*N+2*O]+=I*Ie,ae(R,2*N+2*O),R[2*N+2*O+1]+=j*Ie,ae(R,2*N+2*O+1),R[2*N+2*O+1]+=I*Qe,ae(R,2*N+2*O+1),R[2*N+2*O+2]+=j*Qe,ae(R,2*N+2*O+2)}for(N=0;N<S;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=S;N<2*S;N++)R[N]=0;return new h(R,0)};function ae(C,S){for(;(C[S]&65535)!=C[S];)C[S+1]+=C[S]>>>16,C[S]&=65535,S++}function ie(C,S){this.g=C,this.h=S}function Y(C,S){if(L(S))throw Error("division by zero");if(L(C))return new ie(E,E);if(F(C))return S=Y(H(C),S),new ie(H(S.g),H(S.h));if(F(S))return S=Y(C,H(S)),new ie(H(S.g),S.h);if(30<C.g.length){if(F(C)||F(S))throw Error("slowDivide_ only works with positive integers.");for(var R=T,N=S;0>=N.l(C);)R=oe(R),N=oe(N);var O=K(R,1),j=K(N,1);for(N=K(N,2),R=K(R,2);!L(N);){var I=j.add(N);0>=I.l(C)&&(O=O.add(R),j=I),N=K(N,1),R=K(R,1)}return S=le(C,O.j(S)),new ie(O,S)}for(O=E;0<=C.l(S);){for(R=Math.max(1,Math.floor(C.m()/S.m())),N=Math.ceil(Math.log(R)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),j=y(R),I=j.j(S);F(I)||0<I.l(C);)R-=N,j=y(R),I=j.j(S);L(j)&&(j=T),O=O.add(j),C=le(C,I)}return new ie(O,C)}s.A=function(C){return Y(this,C).h},s.and=function(C){for(var S=Math.max(this.g.length,C.g.length),R=[],N=0;N<S;N++)R[N]=this.i(N)&C.i(N);return new h(R,this.h&C.h)},s.or=function(C){for(var S=Math.max(this.g.length,C.g.length),R=[],N=0;N<S;N++)R[N]=this.i(N)|C.i(N);return new h(R,this.h|C.h)},s.xor=function(C){for(var S=Math.max(this.g.length,C.g.length),R=[],N=0;N<S;N++)R[N]=this.i(N)^C.i(N);return new h(R,this.h^C.h)};function oe(C){for(var S=C.g.length+1,R=[],N=0;N<S;N++)R[N]=C.i(N)<<1|C.i(N-1)>>>31;return new h(R,C.h)}function K(C,S){var R=S>>5;S%=32;for(var N=C.g.length-R,O=[],j=0;j<N;j++)O[j]=0<S?C.i(j+R)>>>S|C.i(j+R+1)<<32-S:C.i(j+R);return new h(O,C.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,$x=i,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=_,ei=h}).apply(typeof P_<"u"?P_:typeof self<"u"?self:typeof window<"u"?window:{});var ud=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Xx,ec,Wx,Td,rp,Zx,Jx,eE;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,v,b){return u==Array.prototype||u==Object.prototype||(u[v]=b.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof ud=="object"&&ud];for(var v=0;v<u.length;++v){var b=u[v];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var i=n(this);function o(u,v){if(v)e:{var b=i;u=u.split(".");for(var A=0;A<u.length-1;A++){var z=u[A];if(!(z in b))break e;b=b[z]}u=u[u.length-1],A=b[u],v=v(A),v!=A&&v!=null&&e(b,u,{configurable:!0,writable:!0,value:v})}}function c(u,v){u instanceof String&&(u+="");var b=0,A=!1,z={next:function(){if(!A&&b<u.length){var X=b++;return{value:v(X,u[X]),done:!1}}return A=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(u){return u||function(){return c(this,function(v,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},p=this||self;function g(u){var v=typeof u;return v=v!="object"?v:u?Array.isArray(u)?"array":v:"null",v=="array"||v=="object"&&typeof u.length=="number"}function y(u){var v=typeof u;return v=="object"&&u!=null||v=="function"}function _(u,v,b){return u.call.apply(u.bind,arguments)}function E(u,v,b){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,A),u.apply(v,z)}}return function(){return u.apply(v,arguments)}}function T(u,v,b){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:E,T.apply(null,arguments)}function M(u,v){var b=Array.prototype.slice.call(arguments,1);return function(){var A=b.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function L(u,v){function b(){}b.prototype=v.prototype,u.aa=v.prototype,u.prototype=new b,u.prototype.constructor=u,u.Qb=function(A,z,X){for(var ue=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)ue[qe-2]=arguments[qe];return v.prototype[z].apply(A,ue)}}function F(u){const v=u.length;if(0<v){const b=Array(v);for(let A=0;A<v;A++)b[A]=u[A];return b}return[]}function H(u,v){for(let b=1;b<arguments.length;b++){const A=arguments[b];if(g(A)){const z=u.length||0,X=A.length||0;u.length=z+X;for(let ue=0;ue<X;ue++)u[z+ue]=A[ue]}else u.push(A)}}class le{constructor(v,b){this.i=v,this.j=b,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function ae(u){return/^[\s\xa0]*$/.test(u)}function ie(){var u=p.navigator;return u&&(u=u.userAgent)?u:""}function Y(u){return Y[" "](u),u}Y[" "]=function(){};var oe=ie().indexOf("Gecko")!=-1&&!(ie().toLowerCase().indexOf("webkit")!=-1&&ie().indexOf("Edge")==-1)&&!(ie().indexOf("Trident")!=-1||ie().indexOf("MSIE")!=-1)&&ie().indexOf("Edge")==-1;function K(u,v,b){for(const A in u)v.call(b,u[A],A,u)}function C(u,v){for(const b in u)v.call(void 0,u[b],b,u)}function S(u){const v={};for(const b in u)v[b]=u[b];return v}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(u,v){let b,A;for(let z=1;z<arguments.length;z++){A=arguments[z];for(b in A)u[b]=A[b];for(let X=0;X<R.length;X++)b=R[X],Object.prototype.hasOwnProperty.call(A,b)&&(u[b]=A[b])}}function O(u){var v=1;u=u.split(":");const b=[];for(;0<v&&u.length;)b.push(u.shift()),v--;return u.length&&b.push(u.join(":")),b}function j(u){p.setTimeout(()=>{throw u},0)}function I(){var u=ze;let v=null;return u.g&&(v=u.g,u.g=u.g.next,u.g||(u.h=null),v.next=null),v}class Qe{constructor(){this.h=this.g=null}add(v,b){const A=Ie.get();A.set(v,b),this.h?this.h.next=A:this.g=A,this.h=A}}var Ie=new le(()=>new $,u=>u.reset());class ${constructor(){this.next=this.g=this.h=null}set(v,b){this.h=v,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,se=!1,ze=new Qe,k=()=>{const u=p.Promise.resolve(void 0);ce=()=>{u.then(ne)}};var ne=()=>{for(var u;u=I();){try{u.h.call(u.g)}catch(b){j(b)}var v=Ie;v.j(u),100>v.h&&(v.h++,u.next=v.g,v.g=u)}se=!1};function de(){this.s=this.s,this.C=this.C}de.prototype.s=!1,de.prototype.ma=function(){this.s||(this.s=!0,this.N())},de.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function re(u,v){this.type=u,this.g=this.target=v,this.defaultPrevented=!1}re.prototype.h=function(){this.defaultPrevented=!0};var me=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var u=!1,v=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const b=()=>{};p.addEventListener("test",b,v),p.removeEventListener("test",b,v)}catch{}return u}();function Ne(u,v){if(re.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var b=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=v,v=u.relatedTarget){if(oe){e:{try{Y(v.nodeName);var z=!0;break e}catch{}z=!1}z||(v=null)}}else b=="mouseover"?v=u.fromElement:b=="mouseout"&&(v=u.toElement);this.relatedTarget=v,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Te[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ne.aa.h.call(this)}}L(Ne,re);var Te={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ke="closure_listenable_"+(1e6*Math.random()|0),Xe=0;function on(u,v,b,A,z){this.listener=u,this.proxy=null,this.src=v,this.type=b,this.capture=!!A,this.ha=z,this.key=++Xe,this.da=this.fa=!1}function xn(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function En(u){this.src=u,this.g={},this.h=0}En.prototype.add=function(u,v,b,A,z){var X=u.toString();u=this.g[X],u||(u=this.g[X]=[],this.h++);var ue=fi(u,v,A,z);return-1<ue?(v=u[ue],b||(v.fa=!1)):(v=new on(v,this.src,X,!!A,z),v.fa=b,u.push(v)),v};function Mn(u,v){var b=v.type;if(b in u.g){var A=u.g[b],z=Array.prototype.indexOf.call(A,v,void 0),X;(X=0<=z)&&Array.prototype.splice.call(A,z,1),X&&(xn(v),u.g[b].length==0&&(delete u.g[b],u.h--))}}function fi(u,v,b,A){for(var z=0;z<u.length;++z){var X=u[z];if(!X.da&&X.listener==v&&X.capture==!!b&&X.ha==A)return z}return-1}var mi="closure_lm_"+(1e6*Math.random()|0),Uo={};function Uc(u,v,b,A,z){if(Array.isArray(v)){for(var X=0;X<v.length;X++)Uc(u,v[X],b,A,z);return null}return b=zc(b),u&&u[ke]?u.K(v,b,y(A)?!!A.capture:!1,z):kn(u,v,b,!1,A,z)}function kn(u,v,b,A,z,X){if(!v)throw Error("Invalid event type");var ue=y(z)?!!z.capture:!!z,qe=da(u);if(qe||(u[mi]=qe=new En(u)),b=qe.add(v,b,A,ue,X),b.proxy)return b;if(A=Rh(),b.proxy=A,A.src=u,A.listener=b,u.addEventListener)me||(z=ue),z===void 0&&(z=!1),u.addEventListener(v.toString(),A,z);else if(u.attachEvent)u.attachEvent(pi(v.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Rh(){function u(b){return v.call(u.src,u.listener,b)}const v=Nh;return u}function zo(u,v,b,A,z){if(Array.isArray(v))for(var X=0;X<v.length;X++)zo(u,v[X],b,A,z);else A=y(A)?!!A.capture:!!A,b=zc(b),u&&u[ke]?(u=u.i,v=String(v).toString(),v in u.g&&(X=u.g[v],b=fi(X,b,A,z),-1<b&&(xn(X[b]),Array.prototype.splice.call(X,b,1),X.length==0&&(delete u.g[v],u.h--)))):u&&(u=da(u))&&(v=u.g[v.toString()],u=-1,v&&(u=fi(v,b,A,z)),(b=-1<u?v[u]:null)&&ua(b))}function ua(u){if(typeof u!="number"&&u&&!u.da){var v=u.src;if(v&&v[ke])Mn(v.i,u);else{var b=u.type,A=u.proxy;v.removeEventListener?v.removeEventListener(b,A,u.capture):v.detachEvent?v.detachEvent(pi(b),A):v.addListener&&v.removeListener&&v.removeListener(A),(b=da(v))?(Mn(b,u),b.h==0&&(b.src=null,v[mi]=null)):xn(u)}}}function pi(u){return u in Uo?Uo[u]:Uo[u]="on"+u}function Nh(u,v){if(u.da)u=!0;else{v=new Ne(v,this);var b=u.listener,A=u.ha||u.src;u.fa&&ua(u),u=b.call(A,v)}return u}function da(u){return u=u[mi],u instanceof En?u:null}var qo="__closure_events_fn_"+(1e9*Math.random()>>>0);function zc(u){return typeof u=="function"?u:(u[qo]||(u[qo]=function(v){return u.handleEvent(v)}),u[qo])}function ht(){de.call(this),this.i=new En(this),this.M=this,this.F=null}L(ht,de),ht.prototype[ke]=!0,ht.prototype.removeEventListener=function(u,v,b,A){zo(this,u,v,b,A)};function We(u,v){var b,A=u.F;if(A)for(b=[];A;A=A.F)b.push(A);if(u=u.M,A=v.type||v,typeof v=="string")v=new re(v,u);else if(v instanceof re)v.target=v.target||u;else{var z=v;v=new re(A,u),N(v,z)}if(z=!0,b)for(var X=b.length-1;0<=X;X--){var ue=v.g=b[X];z=Tn(ue,A,!0,v)&&z}if(ue=v.g=u,z=Tn(ue,A,!0,v)&&z,z=Tn(ue,A,!1,v)&&z,b)for(X=0;X<b.length;X++)ue=v.g=b[X],z=Tn(ue,A,!1,v)&&z}ht.prototype.N=function(){if(ht.aa.N.call(this),this.i){var u=this.i,v;for(v in u.g){for(var b=u.g[v],A=0;A<b.length;A++)xn(b[A]);delete u.g[v],u.h--}}this.F=null},ht.prototype.K=function(u,v,b,A){return this.i.add(String(u),v,!1,b,A)},ht.prototype.L=function(u,v,b,A){return this.i.add(String(u),v,!0,b,A)};function Tn(u,v,b,A){if(v=u.i.g[String(v)],!v)return!0;v=v.concat();for(var z=!0,X=0;X<v.length;++X){var ue=v[X];if(ue&&!ue.da&&ue.capture==b){var qe=ue.listener,Rt=ue.ha||ue.src;ue.fa&&Mn(u.i,ue),z=qe.call(Rt,A)!==!1&&z}}return z&&!A.defaultPrevented}function Zt(u,v,b){if(typeof u=="function")b&&(u=T(u,b));else if(u&&typeof u.handleEvent=="function")u=T(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:p.setTimeout(u,v||0)}function qc(u){u.g=Zt(()=>{u.g=null,u.i&&(u.i=!1,qc(u))},u.l);const v=u.h;u.h=null,u.m.apply(null,v)}class Ch extends de{constructor(v,b){super(),this.m=v,this.l=b,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:qc(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gi(u){de.call(this),this.h=u,this.g={}}L(gi,de);var yi=[];function vi(u){K(u.g,function(v,b){this.g.hasOwnProperty(b)&&ua(v)},u),u.g={}}gi.prototype.N=function(){gi.aa.N.call(this),vi(this)},gi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Wn=p.JSON.stringify,ha=p.JSON.parse,_i=class{stringify(u){return p.JSON.stringify(u,void 0)}parse(u){return p.JSON.parse(u,void 0)}};function Bo(){}Bo.prototype.h=null;function Ho(u){return u.h||(u.h=u.i())}function Fo(){}var Ir={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Dr(){re.call(this,"d")}L(Dr,re);function Go(){re.call(this,"c")}L(Go,re);var or={},Qo=null;function ms(){return Qo=Qo||new ht}or.La="serverreachability";function fa(u){re.call(this,or.La,u)}L(fa,re);function ps(u){const v=ms();We(v,new fa(v))}or.STAT_EVENT="statevent";function Bc(u,v){re.call(this,or.STAT_EVENT,u),this.stat=v}L(Bc,re);function lt(u){const v=ms();We(v,new Bc(v,u))}or.Ma="timingevent";function At(u,v){re.call(this,or.Ma,u),this.size=v}L(At,re);function bt(u,v){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){u()},v)}function Pn(){this.g=!0}Pn.prototype.xa=function(){this.g=!1};function Yo(u,v,b,A,z,X){u.info(function(){if(u.g)if(X)for(var ue="",qe=X.split("&"),Rt=0;Rt<qe.length;Rt++){var Be=qe[Rt].split("=");if(1<Be.length){var Pt=Be[0];Be=Be[1];var Nt=Pt.split("_");ue=2<=Nt.length&&Nt[1]=="type"?ue+(Pt+"="+Be+"&"):ue+(Pt+"=redacted&")}}else ue=null;else ue=X;return"XMLHTTP REQ ("+A+") [attempt "+z+"]: "+v+`
`+b+`
`+ue})}function Ih(u,v,b,A,z,X,ue){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+z+"]: "+v+`
`+b+`
`+X+" "+ue})}function gs(u,v,b,A){u.info(function(){return"XMLHTTP TEXT ("+v+"): "+bi(u,b)+(A?" "+A:"")})}function Hc(u,v){u.info(function(){return"TIMEOUT: "+v})}Pn.prototype.info=function(){};function bi(u,v){if(!u.g)return v;if(!v)return null;try{var b=JSON.parse(v);if(b){for(u=0;u<b.length;u++)if(Array.isArray(b[u])){var A=b[u];if(!(2>A.length)){var z=A[1];if(Array.isArray(z)&&!(1>z.length)){var X=z[0];if(X!="noop"&&X!="stop"&&X!="close")for(var ue=1;ue<z.length;ue++)z[ue]=""}}}}return Wn(b)}catch{return v}}var ys={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Or={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},lr;function cr(){}L(cr,Bo),cr.prototype.g=function(){return new XMLHttpRequest},cr.prototype.i=function(){return{}},lr=new cr;function ln(u,v,b,A){this.j=u,this.i=v,this.l=b,this.R=A||1,this.U=new gi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pt}function pt(){this.i=null,this.g="",this.h=!1}var Ko={},ma={};function Zn(u,v,b){u.L=1,u.v=Si(wn(v)),u.m=b,u.P=!0,jr(u,null)}function jr(u,v){u.F=Date.now(),xi(u),u.A=wn(u.v);var b=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),el(b.i,"t",A),u.C=0,b=u.j.J,u.h=new pt,u.g=iu(u.j,b?v:null,!u.m),0<u.O&&(u.M=new Ch(T(u.Y,u,u.g),u.O)),v=u.U,b=u.g,A=u.ca;var z="readystatechange";Array.isArray(z)||(z&&(yi[0]=z.toString()),z=yi);for(var X=0;X<z.length;X++){var ue=Uc(b,z[X],A||v.handleEvent,!1,v.h||v);if(!ue)break;v.g[ue.key]=ue}v=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,v)):(u.u="GET",u.g.ea(u.A,u.u,null,v)),ps(),Yo(u.i,u.u,u.A,u.l,u.R,u.m)}ln.prototype.ca=function(u){u=u.target;const v=this.M;v&&zn(u)==3?v.j():this.Y(u)},ln.prototype.Y=function(u){try{if(u==this.g)e:{const Nt=zn(this.g);var v=this.g.Ba();const qr=this.g.Z();if(!(3>Nt)&&(Nt!=3||this.g&&(this.h.h||this.g.oa()||Wc(this.g)))){this.J||Nt!=4||v==7||(v==8||0>=qr?ps(3):ps(2)),vs(this);var b=this.g.Z();this.X=b;t:if(Fc(this)){var A=Wc(this.g);u="";var z=A.length,X=zn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ht(this),ur(this);var ue="";break t}this.h.i=new p.TextDecoder}for(v=0;v<z;v++)this.h.h=!0,u+=this.h.i.decode(A[v],{stream:!(X&&v==z-1)});A.length=0,this.h.g+=u,this.C=0,ue=this.h.g}else ue=this.g.oa();if(this.o=b==200,Ih(this.i,this.u,this.A,this.l,this.R,Nt,b),this.o){if(this.T&&!this.K){t:{if(this.g){var qe,Rt=this.g;if((qe=Rt.g?Rt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ae(qe)){var Be=qe;break t}}Be=null}if(b=Be)gs(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ei(this,b);else{this.o=!1,this.s=3,lt(12),Ht(this),ur(this);break e}}if(this.P){b=!0;let Ft;for(;!this.J&&this.C<ue.length;)if(Ft=Gc(this,ue),Ft==ma){Nt==4&&(this.s=4,lt(14),b=!1),gs(this.i,this.l,null,"[Incomplete Response]");break}else if(Ft==Ko){this.s=4,lt(15),gs(this.i,this.l,ue,"[Invalid Chunk]"),b=!1;break}else gs(this.i,this.l,Ft,null),Ei(this,Ft);if(Fc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nt!=4||ue.length!=0||this.h.h||(this.s=1,lt(16),b=!1),this.o=this.o&&b,!b)gs(this.i,this.l,ue,"[Invalid Chunked Response]"),Ht(this),ur(this);else if(0<ue.length&&!this.W){this.W=!0;var Pt=this.j;Pt.g==this&&Pt.ba&&!Pt.M&&(Pt.j.info("Great, no buffering proxy detected. Bytes received: "+ue.length),ji(Pt),Pt.M=!0,lt(11))}}else gs(this.i,this.l,ue,null),Ei(this,ue);Nt==4&&Ht(this),this.o&&!this.J&&(Nt==4?nu(this.j,this):(this.o=!1,xi(this)))}else kh(this.g),b==400&&0<ue.indexOf("Unknown SID")?(this.s=3,lt(12)):(this.s=0,lt(13)),Ht(this),ur(this)}}}catch{}finally{}};function Fc(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Gc(u,v){var b=u.C,A=v.indexOf(`
`,b);return A==-1?ma:(b=Number(v.substring(b,A)),isNaN(b)?Ko:(A+=1,A+b>v.length?ma:(v=v.slice(A,A+b),u.C=A+b,v)))}ln.prototype.cancel=function(){this.J=!0,Ht(this)};function xi(u){u.S=Date.now()+u.I,Qc(u,u.I)}function Qc(u,v){if(u.B!=null)throw Error("WatchDog timer not null");u.B=bt(T(u.ba,u),v)}function vs(u){u.B&&(p.clearTimeout(u.B),u.B=null)}ln.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Hc(this.i,this.A),this.L!=2&&(ps(),lt(17)),Ht(this),this.s=2,ur(this)):Qc(this,this.S-u)};function ur(u){u.j.G==0||u.J||nu(u.j,u)}function Ht(u){vs(u);var v=u.M;v&&typeof v.ma=="function"&&v.ma(),u.M=null,vi(u.U),u.g&&(v=u.g,u.g=null,v.abort(),v.ma())}function Ei(u,v){try{var b=u.j;if(b.G!=0&&(b.g==u||$o(b.h,u))){if(!u.K&&$o(b.h,u)&&b.G==3){try{var A=b.Da.g.parse(v)}catch{A=null}if(Array.isArray(A)&&A.length==3){var z=A;if(z[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<u.F)Aa(b),wa(b);else break e;il(b),lt(18)}}else b.za=z[1],0<b.za-b.T&&37500>z[2]&&b.F&&b.v==0&&!b.C&&(b.C=bt(T(b.Za,b),6e3));if(1>=ga(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else zr(b,11)}else if((u.K||b.g==u)&&Aa(b),!ae(v))for(z=b.Da.g.parse(v),v=0;v<z.length;v++){let Be=z[v];if(b.T=Be[0],Be=Be[1],b.G==2)if(Be[0]=="c"){b.K=Be[1],b.ia=Be[2];const Pt=Be[3];Pt!=null&&(b.la=Pt,b.j.info("VER="+b.la));const Nt=Be[4];Nt!=null&&(b.Aa=Nt,b.j.info("SVER="+b.Aa));const qr=Be[5];qr!=null&&typeof qr=="number"&&0<qr&&(A=1.5*qr,b.L=A,b.j.info("backChannelRequestTimeoutMs_="+A)),A=b;const Ft=u.g;if(Ft){const yr=Ft.g?Ft.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yr){var X=A.h;X.g||yr.indexOf("spdy")==-1&&yr.indexOf("quic")==-1&&yr.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(ya(X,X.h),X.h=null))}if(A.D){const ol=Ft.g?Ft.g.getResponseHeader("X-HTTP-Session-Id"):null;ol&&(A.ya=ol,et(A.I,A.D,ol))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-u.F,b.j.info("Handshake RTT: "+b.R+"ms")),A=b;var ue=u;if(A.qa=su(A,A.J?A.ia:null,A.W),ue.K){cn(A.h,ue);var qe=ue,Rt=A.L;Rt&&(qe.I=Rt),qe.B&&(vs(qe),xi(qe)),A.g=ue}else eu(A);0<b.i.length&&Sa(b)}else Be[0]!="stop"&&Be[0]!="close"||zr(b,7);else b.G==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?zr(b,7):rl(b):Be[0]!="noop"&&b.l&&b.l.ta(Be),b.v=0)}}ps(4)}catch{}}var Yc=class{constructor(u,v){this.g=u,this.map=v}};function Mr(u){this.l=u||10,p.PerformanceNavigationTiming?(u=p.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function pa(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ga(u){return u.h?1:u.g?u.g.size:0}function $o(u,v){return u.h?u.h==v:u.g?u.g.has(v):!1}function ya(u,v){u.g?u.g.add(v):u.h=v}function cn(u,v){u.h&&u.h==v?u.h=null:u.g&&u.g.has(v)&&u.g.delete(v)}Mr.prototype.cancel=function(){if(this.i=Xo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Xo(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let v=u.i;for(const b of u.g.values())v=v.concat(b.D);return v}return F(u.i)}function Dh(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(g(u)){for(var v=[],b=u.length,A=0;A<b;A++)v.push(u[A]);return v}v=[],b=0;for(A in u)v[b++]=u[A];return v}function va(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(g(u)||typeof u=="string"){var v=[];u=u.length;for(var b=0;b<u;b++)v.push(b);return v}v=[],b=0;for(const A in u)v[b++]=A;return v}}}function Wo(u,v){if(u.forEach&&typeof u.forEach=="function")u.forEach(v,void 0);else if(g(u)||typeof u=="string")Array.prototype.forEach.call(u,v,void 0);else for(var b=va(u),A=Dh(u),z=A.length,X=0;X<z;X++)v.call(void 0,A[X],b&&b[X],u)}var Ti=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Oh(u,v){if(u){u=u.split("&");for(var b=0;b<u.length;b++){var A=u[b].indexOf("="),z=null;if(0<=A){var X=u[b].substring(0,A);z=u[b].substring(A+1)}else X=u[b];v(X,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function xt(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof xt){this.h=u.h,wi(this,u.j),this.o=u.o,this.g=u.g,_s(this,u.s),this.l=u.l;var v=u.i,b=new Pr;b.i=v.i,v.g&&(b.g=new Map(v.g),b.h=v.h),kr(this,b),this.m=u.m}else u&&(v=String(u).match(Ti))?(this.h=!1,wi(this,v[1]||"",!0),this.o=Vn(v[2]||""),this.g=Vn(v[3]||"",!0),_s(this,v[4]),this.l=Vn(v[5]||"",!0),kr(this,v[6]||"",!0),this.m=Vn(v[7]||"")):(this.h=!1,this.i=new Pr(null,this.h))}xt.prototype.toString=function(){var u=[],v=this.j;v&&u.push(Ai(v,Zo,!0),":");var b=this.g;return(b||v=="file")&&(u.push("//"),(v=this.o)&&u.push(Ai(v,Zo,!0),"@"),u.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&u.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&u.push("/"),u.push(Ai(b,b.charAt(0)=="/"?jh:Jo,!0))),(b=this.i.toString())&&u.push("?",b),(b=this.m)&&u.push("#",Ai(b,_a)),u.join("")};function wn(u){return new xt(u)}function wi(u,v,b){u.j=b?Vn(v,!0):v,u.j&&(u.j=u.j.replace(/:$/,""))}function _s(u,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);u.s=v}else u.s=null}function kr(u,v,b){v instanceof Pr?(u.i=v,$c(u.i,u.h)):(b||(v=Ai(v,Mh)),u.i=new Pr(v,u.h))}function et(u,v,b){u.i.set(v,b)}function Si(u){return et(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Vn(u,v){return u?v?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ai(u,v,b){return typeof u=="string"?(u=encodeURI(u).replace(v,Kc),b&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Kc(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Zo=/[#\/\?@]/g,Jo=/[#\?:]/g,jh=/[#\?]/g,Mh=/[#\?@]/g,_a=/#/g;function Pr(u,v){this.h=this.g=null,this.i=u||null,this.j=!!v}function Ln(u){u.g||(u.g=new Map,u.h=0,u.i&&Oh(u.i,function(v,b){u.add(decodeURIComponent(v.replace(/\+/g," ")),b)}))}s=Pr.prototype,s.add=function(u,v){Ln(this),this.i=null,u=dr(this,u);var b=this.g.get(u);return b||this.g.set(u,b=[]),b.push(v),this.h+=1,this};function Vr(u,v){Ln(u),v=dr(u,v),u.g.has(v)&&(u.i=null,u.h-=u.g.get(v).length,u.g.delete(v))}function Lr(u,v){return Ln(u),v=dr(u,v),u.g.has(v)}s.forEach=function(u,v){Ln(this),this.g.forEach(function(b,A){b.forEach(function(z){u.call(v,z,A,this)},this)},this)},s.na=function(){Ln(this);const u=Array.from(this.g.values()),v=Array.from(this.g.keys()),b=[];for(let A=0;A<v.length;A++){const z=u[A];for(let X=0;X<z.length;X++)b.push(v[A])}return b},s.V=function(u){Ln(this);let v=[];if(typeof u=="string")Lr(this,u)&&(v=v.concat(this.g.get(dr(this,u))));else{u=Array.from(this.g.values());for(let b=0;b<u.length;b++)v=v.concat(u[b])}return v},s.set=function(u,v){return Ln(this),this.i=null,u=dr(this,u),Lr(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[v]),this.h+=1,this},s.get=function(u,v){return u?(u=this.V(u),0<u.length?String(u[0]):v):v};function el(u,v,b){Vr(u,v),0<b.length&&(u.i=null,u.g.set(dr(u,v),F(b)),u.h+=b.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],v=Array.from(this.g.keys());for(var b=0;b<v.length;b++){var A=v[b];const X=encodeURIComponent(String(A)),ue=this.V(A);for(A=0;A<ue.length;A++){var z=X;ue[A]!==""&&(z+="="+encodeURIComponent(String(ue[A]))),u.push(z)}}return this.i=u.join("&")};function dr(u,v){return v=String(v),u.j&&(v=v.toLowerCase()),v}function $c(u,v){v&&!u.j&&(Ln(u),u.i=null,u.g.forEach(function(b,A){var z=A.toLowerCase();A!=z&&(Vr(this,A),el(this,z,b))},u)),u.j=v}function Ri(u,v){const b=new Pn;if(p.Image){const A=new Image;A.onload=M(Un,b,"TestLoadImage: loaded",!0,v,A),A.onerror=M(Un,b,"TestLoadImage: error",!1,v,A),A.onabort=M(Un,b,"TestLoadImage: abort",!1,v,A),A.ontimeout=M(Un,b,"TestLoadImage: timeout",!1,v,A),p.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else v(!1)}function Jn(u,v){const b=new Pn,A=new AbortController,z=setTimeout(()=>{A.abort(),Un(b,"TestPingServer: timeout",!1,v)},1e4);fetch(u,{signal:A.signal}).then(X=>{clearTimeout(z),X.ok?Un(b,"TestPingServer: ok",!0,v):Un(b,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(z),Un(b,"TestPingServer: error",!1,v)})}function Un(u,v,b,A,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),A(b)}catch{}}function Ni(){this.g=new _i}function hr(u,v,b){const A=b||"";try{Wo(u,function(z,X){let ue=z;y(z)&&(ue=Wn(z)),v.push(A+X+"="+encodeURIComponent(ue))})}catch(z){throw v.push(A+"type="+encodeURIComponent("_badmap")),z}}function bs(u){this.l=u.Ub||null,this.j=u.eb||!1}L(bs,Bo),bs.prototype.g=function(){return new Ur(this.l,this.j)},bs.prototype.i=function(u){return function(){return u}}({});function Ur(u,v){ht.call(this),this.D=u,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}L(Ur,ht),s=Ur.prototype,s.open=function(u,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=v,this.readyState=1,mr(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(v.body=u),(this.D||p).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,fr(this)),this.readyState=0},s.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,mr(this)),this.g&&(this.readyState=3,mr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;tl(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function tl(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}s.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var v=u.value?u.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!u.done}))&&(this.response=this.responseText+=v)}u.done?fr(this):mr(this),this.readyState==3&&tl(this)}},s.Ra=function(u){this.g&&(this.response=this.responseText=u,fr(this))},s.Qa=function(u){this.g&&(this.response=u,fr(this))},s.ga=function(){this.g&&fr(this)};function fr(u){u.readyState=4,u.l=null,u.j=null,u.v=null,mr(u)}s.setRequestHeader=function(u,v){this.u.append(u,v)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],v=this.h.entries();for(var b=v.next();!b.done;)b=b.value,u.push(b[0]+": "+b[1]),b=v.next();return u.join(`\r
`)};function mr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ur.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function nl(u){let v="";return K(u,function(b,A){v+=A,v+=":",v+=b,v+=`\r
`}),v}function kt(u,v,b){e:{for(A in b){var A=!1;break e}A=!0}A||(b=nl(b),typeof u=="string"?b!=null&&encodeURIComponent(String(b)):et(u,v,b))}function $e(u){ht.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}L($e,ht);var ba=/^https?$/i,Ci=["POST","PUT"];s=$e.prototype,s.Ha=function(u){this.J=u},s.ea=function(u,v,b,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);v=v?v.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():lr.g(),this.v=this.o?Ho(this.o):Ho(lr),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(v,String(u),!0),this.B=!1}catch(X){Xc(this,X);return}if(u=b||"",b=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var z in A)b.set(z,A[z]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const X of A.keys())b.set(X,A.get(X));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(b.keys()).find(X=>X.toLowerCase()=="content-type"),z=p.FormData&&u instanceof p.FormData,!(0<=Array.prototype.indexOf.call(Ci,v,void 0))||A||z||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ue]of b)this.g.setRequestHeader(X,ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ii(this),this.u=!0,this.g.send(u),this.u=!1}catch(X){Xc(this,X)}};function Xc(u,v){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=v,u.m=5,xa(u),pr(u)}function xa(u){u.A||(u.A=!0,We(u,"complete"),We(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,We(this,"complete"),We(this,"abort"),pr(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),pr(this,!0)),$e.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Ea(this):this.bb())},s.bb=function(){Ea(this)};function Ea(u){if(u.h&&typeof h<"u"&&(!u.v[1]||zn(u)!=4||u.Z()!=2)){if(u.u&&zn(u)==4)Zt(u.Ea,0,u);else if(We(u,"readystatechange"),zn(u)==4){u.h=!1;try{const ue=u.Z();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var b;if(!(b=v)){var A;if(A=ue===0){var z=String(u.D).match(Ti)[1]||null;!z&&p.self&&p.self.location&&(z=p.self.location.protocol.slice(0,-1)),A=!ba.test(z?z.toLowerCase():"")}b=A}if(b)We(u,"complete"),We(u,"success");else{u.m=6;try{var X=2<zn(u)?u.g.statusText:""}catch{X=""}u.l=X+" ["+u.Z()+"]",xa(u)}}finally{pr(u)}}}}function pr(u,v){if(u.g){Ii(u);const b=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,v||We(u,"ready");try{b.onreadystatechange=A}catch{}}}function Ii(u){u.I&&(p.clearTimeout(u.I),u.I=null)}s.isActive=function(){return!!this.g};function zn(u){return u.g?u.g.readyState:0}s.Z=function(){try{return 2<zn(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(u){if(this.g){var v=this.g.responseText;return u&&v.indexOf(u)==0&&(v=v.substring(u.length)),ha(v)}};function Wc(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function kh(u){const v={};u=(u.g&&2<=zn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(ae(u[A]))continue;var b=O(u[A]);const z=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const X=v[z]||[];v[z]=X,X.push(b)}C(v,function(A){return A.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Di(u,v,b){return b&&b.internalChannelParams&&b.internalChannelParams[u]||v}function Ta(u){this.Aa=0,this.i=[],this.j=new Pn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Di("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Di("baseRetryDelayMs",5e3,u),this.cb=Di("retryDelaySeedMs",1e4,u),this.Wa=Di("forwardChannelMaxRetries",2,u),this.wa=Di("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Mr(u&&u.concurrentRequestLimit),this.Da=new Ni,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=Ta.prototype,s.la=8,s.G=1,s.connect=function(u,v,b,A){lt(0),this.W=u,this.H=v||{},b&&A!==void 0&&(this.H.OSID=b,this.H.OAID=A),this.F=this.X,this.I=su(this,null,this.W),Sa(this)};function rl(u){if(Zc(u),u.G==3){var v=u.U++,b=wn(u.I);if(et(b,"SID",u.K),et(b,"RID",v),et(b,"TYPE","terminate"),Oi(u,b),v=new ln(u,u.j,v),v.L=2,v.v=Si(wn(b)),b=!1,p.navigator&&p.navigator.sendBeacon)try{b=p.navigator.sendBeacon(v.v.toString(),"")}catch{}!b&&p.Image&&(new Image().src=v.v,b=!0),b||(v.g=iu(v.j,null),v.g.ea(v.v)),v.F=Date.now(),xi(v)}ru(u)}function wa(u){u.g&&(ji(u),u.g.cancel(),u.g=null)}function Zc(u){wa(u),u.u&&(p.clearTimeout(u.u),u.u=null),Aa(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&p.clearTimeout(u.s),u.s=null)}function Sa(u){if(!pa(u.h)&&!u.s){u.s=!0;var v=u.Ga;ce||k(),se||(ce(),se=!0),ze.add(v,u),u.B=0}}function Ph(u,v){return ga(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=v.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=bt(T(u.Ga,u,v),al(u,u.B)),u.B++,!0)}s.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const z=new ln(this,this.j,u);let X=this.o;if(this.S&&(X?(X=S(X),N(X,this.S)):X=this.S),this.m!==null||this.O||(z.H=X,X=null),this.P)e:{for(var v=0,b=0;b<this.i.length;b++){t:{var A=this.i[b];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(v+=A,4096<v){v=b;break e}if(v===4096||b===this.i.length-1){v=b+1;break e}}v=1e3}else v=1e3;v=Jc(this,z,v),b=wn(this.I),et(b,"RID",u),et(b,"CVER",22),this.D&&et(b,"X-HTTP-Session-Id",this.D),Oi(this,b),X&&(this.O?v="headers="+encodeURIComponent(String(nl(X)))+"&"+v:this.m&&kt(b,this.m,X)),ya(this.h,z),this.Ua&&et(b,"TYPE","init"),this.P?(et(b,"$req",v),et(b,"SID","null"),z.T=!0,Zn(z,b,null)):Zn(z,b,v),this.G=2}}else this.G==3&&(u?sl(this,u):this.i.length==0||pa(this.h)||sl(this))};function sl(u,v){var b;v?b=v.l:b=u.U++;const A=wn(u.I);et(A,"SID",u.K),et(A,"RID",b),et(A,"AID",u.T),Oi(u,A),u.m&&u.o&&kt(A,u.m,u.o),b=new ln(u,u.j,b,u.B+1),u.m===null&&(b.H=u.o),v&&(u.i=v.D.concat(u.i)),v=Jc(u,b,1e3),b.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),ya(u.h,b),Zn(b,A,v)}function Oi(u,v){u.H&&K(u.H,function(b,A){et(v,A,b)}),u.l&&Wo({},function(b,A){et(v,A,b)})}function Jc(u,v,b){b=Math.min(u.i.length,b);var A=u.l?T(u.l.Na,u.l,u):null;e:{var z=u.i;let X=-1;for(;;){const ue=["count="+b];X==-1?0<b?(X=z[0].g,ue.push("ofs="+X)):X=0:ue.push("ofs="+X);let qe=!0;for(let Rt=0;Rt<b;Rt++){let Be=z[Rt].g;const Pt=z[Rt].map;if(Be-=X,0>Be)X=Math.max(0,z[Rt].g-100),qe=!1;else try{hr(Pt,ue,"req"+Be+"_")}catch{A&&A(Pt)}}if(qe){A=ue.join("&");break e}}}return u=u.i.splice(0,b),v.D=u,A}function eu(u){if(!u.g&&!u.u){u.Y=1;var v=u.Fa;ce||k(),se||(ce(),se=!0),ze.add(v,u),u.v=0}}function il(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=bt(T(u.Fa,u),al(u,u.v)),u.v++,!0)}s.Fa=function(){if(this.u=null,tu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=bt(T(this.ab,this),u)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,lt(10),wa(this),tu(this))};function ji(u){u.A!=null&&(p.clearTimeout(u.A),u.A=null)}function tu(u){u.g=new ln(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var v=wn(u.qa);et(v,"RID","rpc"),et(v,"SID",u.K),et(v,"AID",u.T),et(v,"CI",u.F?"0":"1"),!u.F&&u.ja&&et(v,"TO",u.ja),et(v,"TYPE","xmlhttp"),Oi(u,v),u.m&&u.o&&kt(v,u.m,u.o),u.L&&(u.g.I=u.L);var b=u.g;u=u.ia,b.L=1,b.v=Si(wn(v)),b.m=null,b.P=!0,jr(b,u)}s.Za=function(){this.C!=null&&(this.C=null,wa(this),il(this),lt(19))};function Aa(u){u.C!=null&&(p.clearTimeout(u.C),u.C=null)}function nu(u,v){var b=null;if(u.g==v){Aa(u),ji(u),u.g=null;var A=2}else if($o(u.h,v))b=v.D,cn(u.h,v),A=1;else return;if(u.G!=0){if(v.o)if(A==1){b=v.m?v.m.length:0,v=Date.now()-v.F;var z=u.B;A=ms(),We(A,new At(A,b)),Sa(u)}else eu(u);else if(z=v.s,z==3||z==0&&0<v.X||!(A==1&&Ph(u,v)||A==2&&il(u)))switch(b&&0<b.length&&(v=u.h,v.i=v.i.concat(b)),z){case 1:zr(u,5);break;case 4:zr(u,10);break;case 3:zr(u,6);break;default:zr(u,2)}}}function al(u,v){let b=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(b*=2),b*v}function zr(u,v){if(u.j.info("Error code "+v),v==2){var b=T(u.fb,u),A=u.Xa;const z=!A;A=new xt(A||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||wi(A,"https"),Si(A),z?Ri(A.toString(),b):Jn(A.toString(),b)}else lt(2);u.G=0,u.l&&u.l.sa(v),ru(u),Zc(u)}s.fb=function(u){u?(this.j.info("Successfully pinged google.com"),lt(2)):(this.j.info("Failed to ping google.com"),lt(1))};function ru(u){if(u.G=0,u.ka=[],u.l){const v=Xo(u.h);(v.length!=0||u.i.length!=0)&&(H(u.ka,v),H(u.ka,u.i),u.h.i.length=0,F(u.i),u.i.length=0),u.l.ra()}}function su(u,v,b){var A=b instanceof xt?wn(b):new xt(b);if(A.g!="")v&&(A.g=v+"."+A.g),_s(A,A.s);else{var z=p.location;A=z.protocol,v=v?v+"."+z.hostname:z.hostname,z=+z.port;var X=new xt(null);A&&wi(X,A),v&&(X.g=v),z&&_s(X,z),b&&(X.l=b),A=X}return b=u.D,v=u.ya,b&&v&&et(A,b,v),et(A,"VER",u.la),Oi(u,A),A}function iu(u,v,b){if(v&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=u.Ca&&!u.pa?new $e(new bs({eb:b})):new $e(u.pa),v.Ha(u.J),v}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function au(){}s=au.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Ra(){}Ra.prototype.g=function(u,v){return new un(u,v)};function un(u,v){ht.call(this),this.g=new Ta(v),this.l=u,this.h=v&&v.messageUrlParams||null,u=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(u?u["X-WebChannel-Content-Type"]=v.messageContentType:u={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(u?u["X-WebChannel-Client-Profile"]=v.va:u={"X-WebChannel-Client-Profile":v.va}),this.g.S=u,(u=v&&v.Sb)&&!ae(u)&&(this.g.m=u),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!ae(v)&&(this.g.D=v,u=this.h,u!==null&&v in u&&(u=this.h,v in u&&delete u[v])),this.j=new gr(this)}L(un,ht),un.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){rl(this.g)},un.prototype.o=function(u){var v=this.g;if(typeof u=="string"){var b={};b.__data__=u,u=b}else this.u&&(b={},b.__data__=Wn(u),u=b);v.i.push(new Yc(v.Ya++,u)),v.G==3&&Sa(v)},un.prototype.N=function(){this.g.l=null,delete this.j,rl(this.g),delete this.g,un.aa.N.call(this)};function ou(u){Dr.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var v=u.__sm__;if(v){e:{for(const b in v){u=b;break e}u=void 0}(this.i=u)&&(u=this.i,v=v!==null&&u in v?v[u]:void 0),this.data=v}else this.data=u}L(ou,Dr);function lu(){Go.call(this),this.status=1}L(lu,Go);function gr(u){this.g=u}L(gr,au),gr.prototype.ua=function(){We(this.g,"a")},gr.prototype.ta=function(u){We(this.g,new ou(u))},gr.prototype.sa=function(u){We(this.g,new lu)},gr.prototype.ra=function(){We(this.g,"b")},Ra.prototype.createWebChannel=Ra.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,eE=function(){return new Ra},Jx=function(){return ms()},Zx=or,rp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ys.NO_ERROR=0,ys.TIMEOUT=8,ys.HTTP_ERROR=6,Td=ys,Or.COMPLETE="complete",Wx=Or,Fo.EventType=Ir,Ir.OPEN="a",Ir.CLOSE="b",Ir.ERROR="c",Ir.MESSAGE="d",ht.prototype.listen=ht.prototype.K,ec=Fo,$e.prototype.listenOnce=$e.prototype.L,$e.prototype.getLastError=$e.prototype.Ka,$e.prototype.getLastErrorCode=$e.prototype.Ba,$e.prototype.getStatus=$e.prototype.Z,$e.prototype.getResponseJson=$e.prototype.Oa,$e.prototype.getResponseText=$e.prototype.oa,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Ha,Xx=$e}).apply(typeof ud<"u"?ud:typeof self<"u"?self:typeof window<"u"?window:{});const V_="@firebase/firestore",L_="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Do="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na=new Ip("@firebase/firestore");function ro(){return na.logLevel}function fe(s,...e){if(na.logLevel<=Le.DEBUG){const n=e.map(Bp);na.debug(`Firestore (${Do}): ${s}`,...n)}}function us(s,...e){if(na.logLevel<=Le.ERROR){const n=e.map(Bp);na.error(`Firestore (${Do}): ${s}`,...n)}}function bo(s,...e){if(na.logLevel<=Le.WARN){const n=e.map(Bp);na.warn(`Firestore (${Do}): ${s}`,...n)}}function Bp(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(s,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,tE(s,i,n)}function tE(s,e,n){let i=`FIRESTORE (${Do}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw us(i),new Error(i)}function Ge(s,e,n,i){let o="Unexpected state";typeof n=="string"?o=n:i=n,s||tE(e,o,i)}function Re(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends hs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class pC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(nn.UNAUTHENTICATED))}shutdown(){}}class gC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class yC{constructor(e){this.t=e,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ge(this.o===void 0,42304);let i=this.i;const o=g=>this.i!==i?(i=this.i,n(g)):Promise.resolve();let c=new Ar;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ar,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const g=c;e.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},p=g=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(g=>p(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ar)}},0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ge(typeof i.accessToken=="string",31837,{l:i}),new nE(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new nn(e)}}class vC{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class _C{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new vC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(nn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class U_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Kn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ge(this.o===void 0,3512);const i=c=>{c.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const h=c.token!==this.m;return this.m=c.token,fe("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>i(c))};const o=c=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new U_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ge(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new U_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xC(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<s;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rE(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=xC(40);for(let c=0;c<o.length;++c)i.length<20&&o[c]<n&&(i+=e.charAt(o[c]%62))}return i}}function je(s,e){return s<e?-1:s>e?1:0}function sp(s,e){let n=0;for(;n<s.length&&n<e.length;){const i=s.codePointAt(n),o=e.codePointAt(n);if(i!==o){if(i<128&&o<128)return je(i,o);{const c=rE(),h=EC(c.encode(z_(s,n)),c.encode(z_(e,n)));return h!==0?h:je(i,o)}}n+=i>65535?2:1}return je(s.length,e.length)}function z_(s,e){return s.codePointAt(e)>65535?s.substring(e,e+2):s.substring(e,e+1)}function EC(s,e){for(let n=0;n<s.length&&n<e.length;++n)if(s[n]!==e[n])return je(s[n],e[n]);return je(s.length,e.length)}function xo(s,e,n){return s.length===e.length&&s.every((i,o)=>n(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_=-62135596800,B_=1e6;class jt{static now(){return jt.fromMillis(Date.now())}static fromDate(e){return jt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*B_);return new jt(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<q_)throw new he(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/B_}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-q_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new jt(0,0))}static max(){return new we(new jt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_="__name__";class Tr{constructor(e,n,i){n===void 0?n=0:n>e.length&&be(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&be(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Tr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Tr?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let o=0;o<i;o++){const c=Tr.compareSegments(e.get(o),n.get(o));if(c!==0)return c}return je(e.length,n.length)}static compareSegments(e,n){const i=Tr.isNumericId(e),o=Tr.isNumericId(n);return i&&!o?-1:!i&&o?1:i&&o?Tr.extractNumericId(e).compare(Tr.extractNumericId(n)):sp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ei.fromString(e.substring(4,e.length-2))}}class it extends Tr{construct(e,n,i){return new it(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new he(J.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(o=>o.length>0))}return new it(n)}static emptyPath(){return new it([])}}const TC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $t extends Tr{construct(e,n,i){return new $t(e,n,i)}static isValidIdentifier(e){return TC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===H_}static keyField(){return new $t([H_])}static fromServerFormat(e){const n=[];let i="",o=0;const c=()=>{if(i.length===0)throw new he(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let h=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new he(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new he(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=g,o+=2}else p==="`"?(h=!h,o++):p!=="."||h?(i+=p,o++):(c(),o++)}if(c(),h)throw new he(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $t(n)}static emptyPath(){return new $t([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(it.fromString(e))}static fromName(e){return new _e(it.fromString(e).popFirst(5))}static empty(){return new _e(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return it.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new it(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fc=-1;function wC(s,e){const n=s.toTimestamp().seconds,i=s.toTimestamp().nanoseconds+1,o=we.fromTimestamp(i===1e9?new jt(n+1,0):new jt(n,i));return new ri(o,_e.empty(),e)}function SC(s){return new ri(s.readTime,s.key,fc)}class ri{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new ri(we.min(),_e.empty(),fc)}static max(){return new ri(we.max(),_e.empty(),fc)}}function AC(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(s.documentKey,e.documentKey),n!==0?n:je(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class NC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oo(s){if(s.code!==J.FAILED_PRECONDITION||s.message!==RC)throw s;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te((i,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(i,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(i,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):te.reject(n)}static resolve(e){return new te((n,i)=>{n(e)})}static reject(e){return new te((n,i)=>{i(e)})}static waitFor(e){return new te((n,i)=>{let o=0,c=0,h=!1;e.forEach(p=>{++o,p.next(()=>{++c,h&&c===o&&n()},g=>i(g))}),h=!0,c===o&&n()})}static or(e){let n=te.resolve(!1);for(const i of e)n=n.next(o=>o?te.resolve(o):i());return n}static forEach(e,n){const i=[];return e.forEach((o,c)=>{i.push(n.call(this,o,c))}),this.waitFor(i)}static mapArray(e,n){return new te((i,o)=>{const c=e.length,h=new Array(c);let p=0;for(let g=0;g<c;g++){const y=g;n(e[y]).next(_=>{h[y]=_,++p,p===c&&i(h)},_=>o(_))}})}static doWhile(e,n){return new te((i,o)=>{const c=()=>{e()===!0?n().next(()=>{c()},o):i()};c()})}}function CC(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function jo(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>n.writeSequenceNumber(i))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}oh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hp=-1;function Cc(s){return s==null}function zd(s){return s===0&&1/s==-1/0}function IC(s){return typeof s=="number"&&Number.isInteger(s)&&!zd(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE="";function DC(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=F_(e)),e=OC(s.get(n),e);return F_(e)}function OC(s,e){let n=e;const i=s.length;for(let o=0;o<i;o++){const c=s.charAt(o);switch(c){case"\0":n+="";break;case iE:n+="";break;default:n+=c}}return n}function F_(s){return s+iE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G_(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function ui(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function aE(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,n){this.comparator=e,this.root=n||Kt.EMPTY}insert(e,n){return new dt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new dd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new dd(this.root,e,this.comparator,!1)}getReverseIterator(){return new dd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new dd(this.root,e,this.comparator,!0)}}class dd{constructor(e,n,i,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?i(e.key,n):1,n&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,n,i,o,c){this.key=e,this.value=n,this.color=i??Kt.RED,this.left=o??Kt.EMPTY,this.right=c??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,o,c){return new Kt(e??this.key,n??this.value,i??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let o=this;const c=i(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,n,i),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Kt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw be(27949);return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw be(57766)}get value(){throw be(16141)}get color(){throw be(16727)}get left(){throw be(29726)}get right(){throw be(36894)}copy(e,n,i,o,c){return this}insert(e,n,i){return new Kt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Q_(this.data.getIterator())}getIteratorFrom(e){return new Q_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=i.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Mt(this.comparator);return n.data=e,n}}class Q_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new On([])}unionWith(e){let n=new Mt($t.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new On(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return xo(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new oE("Invalid base64 string: "+c):c}}(e);return new Wt(n)}static fromUint8Array(e){const n=function(o){let c="";for(let h=0;h<o.length;++h)c+=String.fromCharCode(o[h]);return c}(e);return new Wt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wt.EMPTY_BYTE_STRING=new Wt("");const jC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function si(s){if(Ge(!!s,39018),typeof s=="string"){let e=0;const n=jC.exec(s);if(Ge(!!n,46558,{timestamp:s}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(s);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:vt(s.seconds),nanos:vt(s.nanos)}}function vt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function ii(s){return typeof s=="string"?Wt.fromBase64String(s):Wt.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE="server_timestamp",cE="__type__",uE="__previous_value__",dE="__local_write_time__";function Fp(s){var e,n;return((n=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[cE])===null||n===void 0?void 0:n.stringValue)===lE}function lh(s){const e=s.mapValue.fields[uE];return Fp(e)?lh(e):e}function mc(s){const e=si(s.mapValue.fields[dE].timestampValue);return new jt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e,n,i,o,c,h,p,g,y,_){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=o,this.ssl=c,this.forceLongPolling=h,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=_}}const qd="(default)";class pc{constructor(e,n){this.projectId=e,this.database=n||qd}static empty(){return new pc("","")}get isDefaultDatabase(){return this.database===qd}isEqual(e){return e instanceof pc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE="__type__",kC="__max__",hd={mapValue:{}},fE="__vector__",Bd="value";function ai(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Fp(s)?4:VC(s)?9007199254740991:PC(s)?10:11:be(28295,{value:s})}function Nr(s,e){if(s===e)return!0;const n=ai(s);if(n!==ai(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return mc(s).isEqual(mc(e));case 3:return function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const h=si(o.timestampValue),p=si(c.timestampValue);return h.seconds===p.seconds&&h.nanos===p.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(o,c){return ii(o.bytesValue).isEqual(ii(c.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(o,c){return vt(o.geoPointValue.latitude)===vt(c.geoPointValue.latitude)&&vt(o.geoPointValue.longitude)===vt(c.geoPointValue.longitude)}(s,e);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return vt(o.integerValue)===vt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const h=vt(o.doubleValue),p=vt(c.doubleValue);return h===p?zd(h)===zd(p):isNaN(h)&&isNaN(p)}return!1}(s,e);case 9:return xo(s.arrayValue.values||[],e.arrayValue.values||[],Nr);case 10:case 11:return function(o,c){const h=o.mapValue.fields||{},p=c.mapValue.fields||{};if(G_(h)!==G_(p))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(p[g]===void 0||!Nr(h[g],p[g])))return!1;return!0}(s,e);default:return be(52216,{left:s})}}function gc(s,e){return(s.values||[]).find(n=>Nr(n,e))!==void 0}function Eo(s,e){if(s===e)return 0;const n=ai(s),i=ai(e);if(n!==i)return je(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return je(s.booleanValue,e.booleanValue);case 2:return function(c,h){const p=vt(c.integerValue||c.doubleValue),g=vt(h.integerValue||h.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1}(s,e);case 3:return Y_(s.timestampValue,e.timestampValue);case 4:return Y_(mc(s),mc(e));case 5:return sp(s.stringValue,e.stringValue);case 6:return function(c,h){const p=ii(c),g=ii(h);return p.compareTo(g)}(s.bytesValue,e.bytesValue);case 7:return function(c,h){const p=c.split("/"),g=h.split("/");for(let y=0;y<p.length&&y<g.length;y++){const _=je(p[y],g[y]);if(_!==0)return _}return je(p.length,g.length)}(s.referenceValue,e.referenceValue);case 8:return function(c,h){const p=je(vt(c.latitude),vt(h.latitude));return p!==0?p:je(vt(c.longitude),vt(h.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return K_(s.arrayValue,e.arrayValue);case 10:return function(c,h){var p,g,y,_;const E=c.fields||{},T=h.fields||{},M=(p=E[Bd])===null||p===void 0?void 0:p.arrayValue,L=(g=T[Bd])===null||g===void 0?void 0:g.arrayValue,F=je(((y=M==null?void 0:M.values)===null||y===void 0?void 0:y.length)||0,((_=L==null?void 0:L.values)===null||_===void 0?void 0:_.length)||0);return F!==0?F:K_(M,L)}(s.mapValue,e.mapValue);case 11:return function(c,h){if(c===hd.mapValue&&h===hd.mapValue)return 0;if(c===hd.mapValue)return 1;if(h===hd.mapValue)return-1;const p=c.fields||{},g=Object.keys(p),y=h.fields||{},_=Object.keys(y);g.sort(),_.sort();for(let E=0;E<g.length&&E<_.length;++E){const T=sp(g[E],_[E]);if(T!==0)return T;const M=Eo(p[g[E]],y[_[E]]);if(M!==0)return M}return je(g.length,_.length)}(s.mapValue,e.mapValue);default:throw be(23264,{Pe:n})}}function Y_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return je(s,e);const n=si(s),i=si(e),o=je(n.seconds,i.seconds);return o!==0?o:je(n.nanos,i.nanos)}function K_(s,e){const n=s.values||[],i=e.values||[];for(let o=0;o<n.length&&o<i.length;++o){const c=Eo(n[o],i[o]);if(c)return c}return je(n.length,i.length)}function To(s){return ip(s)}function ip(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(n){const i=si(n);return`time(${i.seconds},${i.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(n){return ii(n).toBase64()}(s.bytesValue):"referenceValue"in s?function(n){return _e.fromName(n).toString()}(s.referenceValue):"geoPointValue"in s?function(n){return`geo(${n.latitude},${n.longitude})`}(s.geoPointValue):"arrayValue"in s?function(n){let i="[",o=!0;for(const c of n.values||[])o?o=!1:i+=",",i+=ip(c);return i+"]"}(s.arrayValue):"mapValue"in s?function(n){const i=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const h of i)c?c=!1:o+=",",o+=`${h}:${ip(n.fields[h])}`;return o+"}"}(s.mapValue):be(61005,{value:s})}function wd(s){switch(ai(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=lh(s);return e?16+wd(e):16;case 5:return 2*s.stringValue.length;case 6:return ii(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,c)=>o+wd(c),0)}(s.arrayValue);case 10:case 11:return function(i){let o=0;return ui(i.fields,(c,h)=>{o+=c.length+wd(h)}),o}(s.mapValue);default:throw be(13486,{value:s})}}function $_(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function ap(s){return!!s&&"integerValue"in s}function Gp(s){return!!s&&"arrayValue"in s}function X_(s){return!!s&&"nullValue"in s}function W_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Sd(s){return!!s&&"mapValue"in s}function PC(s){var e,n;return((n=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[hE])===null||n===void 0?void 0:n.stringValue)===fE}function ac(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return ui(s.mapValue.fields,(n,i)=>e.mapValue.fields[n]=ac(i)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ac(s.arrayValue.values[n]);return e}return Object.assign({},s)}function VC(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===kC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.value=e}static empty(){return new hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Sd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ac(n)}setAll(e){let n=$t.emptyPath(),i={},o=[];e.forEach((h,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,i,o),i={},o=[],n=p.popLast()}h?i[p.lastSegment()]=ac(h):o.push(p.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,i,o)}delete(e){const n=this.field(e.popLast());Sd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Nr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=n.mapValue.fields[e.get(i)];Sd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,i){ui(n,(o,c)=>e[o]=c);for(const o of i)delete e[o]}clone(){return new hn(ac(this.value))}}function mE(s){const e=[];return ui(s.fields,(n,i)=>{const o=new $t([n]);if(Sd(i)){const c=mE(i.mapValue).fields;if(c.length===0)e.push(o);else for(const h of c)e.push(o.child(h))}else e.push(o)}),new On(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e,n,i,o,c,h,p){this.key=e,this.documentType=n,this.version=i,this.readTime=o,this.createTime=c,this.data=h,this.documentState=p}static newInvalidDocument(e){return new qt(e,0,we.min(),we.min(),we.min(),hn.empty(),0)}static newFoundDocument(e,n,i,o){return new qt(e,1,n,we.min(),i,o,0)}static newNoDocument(e,n){return new qt(e,2,n,we.min(),we.min(),hn.empty(),0)}static newUnknownDocument(e,n){return new qt(e,3,n,we.min(),we.min(),hn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e,n){this.position=e,this.inclusive=n}}function Z_(s,e,n){let i=0;for(let o=0;o<s.position.length;o++){const c=e[o],h=s.position[o];if(c.field.isKeyField()?i=_e.comparator(_e.fromName(h.referenceValue),n.key):i=Eo(h,n.data.field(c.field)),c.dir==="desc"&&(i*=-1),i!==0)break}return i}function J_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!Nr(s.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,n="asc"){this.field=e,this.dir=n}}function LC(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{}class St extends pE{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new zC(e,n,i):n==="array-contains"?new HC(e,i):n==="in"?new FC(e,i):n==="not-in"?new GC(e,i):n==="array-contains-any"?new QC(e,i):new St(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new qC(e,i):new BC(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Eo(n,this.value)):n!==null&&ai(this.value)===ai(n)&&this.matchesComparison(Eo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ir extends pE{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new ir(e,n)}matches(e){return gE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function gE(s){return s.op==="and"}function yE(s){return UC(s)&&gE(s)}function UC(s){for(const e of s.filters)if(e instanceof ir)return!1;return!0}function op(s){if(s instanceof St)return s.field.canonicalString()+s.op.toString()+To(s.value);if(yE(s))return s.filters.map(e=>op(e)).join(",");{const e=s.filters.map(n=>op(n)).join(",");return`${s.op}(${e})`}}function vE(s,e){return s instanceof St?function(i,o){return o instanceof St&&i.op===o.op&&i.field.isEqual(o.field)&&Nr(i.value,o.value)}(s,e):s instanceof ir?function(i,o){return o instanceof ir&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((c,h,p)=>c&&vE(h,o.filters[p]),!0):!1}(s,e):void be(19439)}function _E(s){return s instanceof St?function(n){return`${n.field.canonicalString()} ${n.op} ${To(n.value)}`}(s):s instanceof ir?function(n){return n.op.toString()+" {"+n.getFilters().map(_E).join(" ,")+"}"}(s):"Filter"}class zC extends St{constructor(e,n,i){super(e,n,i),this.key=_e.fromName(i.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class qC extends St{constructor(e,n){super(e,"in",n),this.keys=bE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class BC extends St{constructor(e,n){super(e,"not-in",n),this.keys=bE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function bE(s,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>_e.fromName(i.referenceValue))}class HC extends St{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Gp(n)&&gc(n.arrayValue,this.value)}}class FC extends St{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&gc(this.value.arrayValue,n)}}class GC extends St{constructor(e,n){super(e,"not-in",n)}matches(e){if(gc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!gc(this.value.arrayValue,n)}}class QC extends St{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Gp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>gc(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e,n=null,i=[],o=[],c=null,h=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=o,this.limit=c,this.startAt=h,this.endAt=p,this.Ie=null}}function eb(s,e=null,n=[],i=[],o=null,c=null,h=null){return new YC(s,e,n,i,o,c,h)}function Qp(s){const e=Re(s);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>op(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(c){return c.field.canonicalString()+c.dir}(i)).join(","),Cc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>To(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>To(i)).join(",")),e.Ie=n}return e.Ie}function Yp(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!LC(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!vE(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!J_(s.startAt,e.startAt)&&J_(s.endAt,e.endAt)}function lp(s){return _e.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e,n=null,i=[],o=[],c=null,h="F",p=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=o,this.limit=c,this.limitType=h,this.startAt=p,this.endAt=g,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function KC(s,e,n,i,o,c,h,p){return new Mo(s,e,n,i,o,c,h,p)}function Kp(s){return new Mo(s)}function tb(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function xE(s){return s.collectionGroup!==null}function oc(s){const e=Re(s);if(e.Ee===null){e.Ee=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ee.push(c),n.add(c.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let p=new Mt($t.comparator);return h.filters.forEach(g=>{g.getFlattenedFilters().forEach(y=>{y.isInequality()&&(p=p.add(y.field))})}),p})(e).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ee.push(new yc(c,i))}),n.has($t.keyField().canonicalString())||e.Ee.push(new yc($t.keyField(),i))}return e.Ee}function Rr(s){const e=Re(s);return e.de||(e.de=$C(e,oc(s))),e.de}function $C(s,e){if(s.limitType==="F")return eb(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(o=>{const c=o.dir==="desc"?"asc":"desc";return new yc(o.field,c)});const n=s.endAt?new Hd(s.endAt.position,s.endAt.inclusive):null,i=s.startAt?new Hd(s.startAt.position,s.startAt.inclusive):null;return eb(s.path,s.collectionGroup,e,s.filters,s.limit,n,i)}}function cp(s,e){const n=s.filters.concat([e]);return new Mo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function up(s,e,n){return new Mo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function ch(s,e){return Yp(Rr(s),Rr(e))&&s.limitType===e.limitType}function EE(s){return`${Qp(Rr(s))}|lt:${s.limitType}`}function so(s){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(o=>_E(o)).join(", ")}]`),Cc(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(o=>To(o)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(o=>To(o)).join(",")),`Target(${i})`}(Rr(s))}; limitType=${s.limitType})`}function uh(s,e){return e.isFoundDocument()&&function(i,o){const c=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(c):_e.isDocumentKey(i.path)?i.path.isEqual(c):i.path.isImmediateParentOf(c)}(s,e)&&function(i,o){for(const c of oc(i))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0}(s,e)&&function(i,o){for(const c of i.filters)if(!c.matches(o))return!1;return!0}(s,e)&&function(i,o){return!(i.startAt&&!function(h,p,g){const y=Z_(h,p,g);return h.inclusive?y<=0:y<0}(i.startAt,oc(i),o)||i.endAt&&!function(h,p,g){const y=Z_(h,p,g);return h.inclusive?y>=0:y>0}(i.endAt,oc(i),o))}(s,e)}function XC(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function TE(s){return(e,n)=>{let i=!1;for(const o of oc(s)){const c=WC(o,e,n);if(c!==0)return c;i=i||o.field.isKeyField()}return 0}}function WC(s,e,n){const i=s.field.isKeyField()?_e.comparator(e.key,n.key):function(c,h,p){const g=h.data.field(c),y=p.data.field(c);return g!==null&&y!==null?Eo(g,y):be(42886)}(s.field,e,n);switch(s.dir){case"asc":return i;case"desc":return-1*i;default:return be(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[o,c]of i)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[n]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ui(this.inner,(n,i)=>{for(const[o,c]of i)e(o,c)})}isEmpty(){return aE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC=new dt(_e.comparator);function ds(){return ZC}const wE=new dt(_e.comparator);function tc(...s){let e=wE;for(const n of s)e=e.insert(n.key,n);return e}function SE(s){let e=wE;return s.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Wi(){return lc()}function AE(){return lc()}function lc(){return new aa(s=>s.toString(),(s,e)=>s.isEqual(e))}const JC=new dt(_e.comparator),eI=new Mt(_e.comparator);function Ue(...s){let e=eI;for(const n of s)e=e.add(n);return e}const tI=new Mt(je);function nI(){return tI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $p(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zd(e)?"-0":e}}function RE(s){return{integerValue:""+s}}function rI(s,e){return IC(e)?RE(e):$p(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(){this._=void 0}}function sI(s,e,n){return s instanceof vc?function(o,c){const h={fields:{[cE]:{stringValue:lE},[dE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Fp(c)&&(c=lh(c)),c&&(h.fields[uE]=c),{mapValue:h}}(n,e):s instanceof _c?CE(s,e):s instanceof bc?IE(s,e):function(o,c){const h=NE(o,c),p=nb(h)+nb(o.Re);return ap(h)&&ap(o.Re)?RE(p):$p(o.serializer,p)}(s,e)}function iI(s,e,n){return s instanceof _c?CE(s,e):s instanceof bc?IE(s,e):n}function NE(s,e){return s instanceof Fd?function(i){return ap(i)||function(c){return!!c&&"doubleValue"in c}(i)}(e)?e:{integerValue:0}:null}class vc extends dh{}class _c extends dh{constructor(e){super(),this.elements=e}}function CE(s,e){const n=DE(e);for(const i of s.elements)n.some(o=>Nr(o,i))||n.push(i);return{arrayValue:{values:n}}}class bc extends dh{constructor(e){super(),this.elements=e}}function IE(s,e){let n=DE(e);for(const i of s.elements)n=n.filter(o=>!Nr(o,i));return{arrayValue:{values:n}}}class Fd extends dh{constructor(e,n){super(),this.serializer=e,this.Re=n}}function nb(s){return vt(s.integerValue||s.doubleValue)}function DE(s){return Gp(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e,n){this.field=e,this.transform=n}}function oI(s,e){return s.field.isEqual(e.field)&&function(i,o){return i instanceof _c&&o instanceof _c||i instanceof bc&&o instanceof bc?xo(i.elements,o.elements,Nr):i instanceof Fd&&o instanceof Fd?Nr(i.Re,o.Re):i instanceof vc&&o instanceof vc}(s.transform,e.transform)}class lI{constructor(e,n){this.version=e,this.transformResults=n}}class Xt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Xt}static exists(e){return new Xt(void 0,e)}static updateTime(e){return new Xt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ad(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class hh{}function OE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new fh(s.key,Xt.none()):new Ic(s.key,s.data,Xt.none());{const n=s.data,i=hn.empty();let o=new Mt($t.comparator);for(let c of e.fields)if(!o.has(c)){let h=n.field(c);h===null&&c.length>1&&(c=c.popLast(),h=n.field(c)),h===null?i.delete(c):i.set(c,h),o=o.add(c)}return new di(s.key,i,new On(o.toArray()),Xt.none())}}function cI(s,e,n){s instanceof Ic?function(o,c,h){const p=o.value.clone(),g=sb(o.fieldTransforms,c,h.transformResults);p.setAll(g),c.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(s,e,n):s instanceof di?function(o,c,h){if(!Ad(o.precondition,c))return void c.convertToUnknownDocument(h.version);const p=sb(o.fieldTransforms,c,h.transformResults),g=c.data;g.setAll(jE(o)),g.setAll(p),c.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(s,e,n):function(o,c,h){c.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,n)}function cc(s,e,n,i){return s instanceof Ic?function(c,h,p,g){if(!Ad(c.precondition,h))return p;const y=c.value.clone(),_=ib(c.fieldTransforms,g,h);return y.setAll(_),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null}(s,e,n,i):s instanceof di?function(c,h,p,g){if(!Ad(c.precondition,h))return p;const y=ib(c.fieldTransforms,g,h),_=h.data;return _.setAll(jE(c)),_.setAll(y),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(E=>E.field))}(s,e,n,i):function(c,h,p){return Ad(c.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):p}(s,e,n)}function uI(s,e){let n=null;for(const i of s.fieldTransforms){const o=e.data.field(i.field),c=NE(i.transform,o||null);c!=null&&(n===null&&(n=hn.empty()),n.set(i.field,c))}return n||null}function rb(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&xo(i,o,(c,h)=>oI(c,h))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Ic extends hh{constructor(e,n,i,o=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class di extends hh{constructor(e,n,i,o,c=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function jE(s){const e=new Map;return s.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=s.data.field(n);e.set(n,i)}}),e}function sb(s,e,n){const i=new Map;Ge(s.length===n.length,32656,{Ve:n.length,me:s.length});for(let o=0;o<n.length;o++){const c=s[o],h=c.transform,p=e.data.field(c.field);i.set(c.field,iI(h,p,n[o]))}return i}function ib(s,e,n){const i=new Map;for(const o of s){const c=o.transform,h=n.data.field(o.field);i.set(o.field,sI(c,h,e))}return i}class fh extends hh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ME extends hh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e,n,i,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&cI(c,e,i[o])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=cc(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=cc(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=AE();return this.mutations.forEach(o=>{const c=e.get(o.key),h=c.overlayedDocument;let p=this.applyToLocalView(h,c.mutatedFields);p=n.has(o.key)?null:p;const g=OE(h,p);g!==null&&i.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(we.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ue())}isEqual(e){return this.batchId===e.batchId&&xo(this.mutations,e.mutations,(n,i)=>rb(n,i))&&xo(this.baseMutations,e.baseMutations,(n,i)=>rb(n,i))}}class Xp{constructor(e,n,i,o){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=o}static from(e,n,i){Ge(e.mutations.length===i.length,58842,{fe:e.mutations.length,ge:i.length});let o=function(){return JC}();const c=e.mutations;for(let h=0;h<c.length;h++)o=o.insert(c[h].key,i[h].version);return new Xp(e,n,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wt,Fe;function kE(s){switch(s){case J.OK:return be(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return be(15467,{code:s})}}function PE(s){if(s===void 0)return us("GRPC error has no .code"),J.UNKNOWN;switch(s){case wt.OK:return J.OK;case wt.CANCELLED:return J.CANCELLED;case wt.UNKNOWN:return J.UNKNOWN;case wt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case wt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case wt.INTERNAL:return J.INTERNAL;case wt.UNAVAILABLE:return J.UNAVAILABLE;case wt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case wt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case wt.NOT_FOUND:return J.NOT_FOUND;case wt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case wt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case wt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case wt.ABORTED:return J.ABORTED;case wt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case wt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case wt.DATA_LOSS:return J.DATA_LOSS;default:return be(39323,{code:s})}}(Fe=wt||(wt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI=new ei([4294967295,4294967295],0);function ab(s){const e=rE().encode(s),n=new $x;return n.update(e),new Uint8Array(n.digest())}function ob(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new ei([n,i],0),new ei([o,c],0)]}class Wp{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new nc(`Invalid padding: ${n}`);if(i<0)throw new nc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new nc(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new nc(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=ei.fromNumber(this.pe)}we(e,n,i){let o=e.add(n.multiply(ei.fromNumber(i)));return o.compare(mI)===1&&(o=new ei([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=ab(e),[i,o]=ob(n);for(let c=0;c<this.hashCount;c++){const h=this.we(i,o,c);if(!this.be(h))return!1}return!0}static create(e,n,i){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),h=new Wp(c,o,n);return i.forEach(p=>h.insert(p)),h}insert(e){if(this.pe===0)return;const n=ab(e),[i,o]=ob(n);for(let c=0;c<this.hashCount;c++){const h=this.we(i,o,c);this.Se(h)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class nc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,n,i,o,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const o=new Map;return o.set(e,Dc.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new mh(we.min(),o,new dt(je),ds(),Ue())}}class Dc{constructor(e,n,i,o,c){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Dc(i,n,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e,n,i,o){this.De=e,this.removedTargetIds=n,this.key=i,this.ve=o}}class VE{constructor(e,n){this.targetId=e,this.Ce=n}}class LE{constructor(e,n,i=Wt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=o}}class lb{constructor(){this.Fe=0,this.Me=cb(),this.xe=Wt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Ue(),n=Ue(),i=Ue();return this.Me.forEach((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:i=i.add(o);break;default:be(38017,{changeType:c})}}),new Dc(this.xe,this.Oe,e,n,i)}Qe(){this.Ne=!1,this.Me=cb()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ge(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class pI{constructor(e){this.ze=e,this.je=new Map,this.He=ds(),this.Je=fd(),this.Ye=fd(),this.Ze=new dt(je)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const i=this.rt(n);switch(e.state){case 0:this.it(n)&&i.ke(e.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(e.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(n);break;case 3:this.it(n)&&(i.Ge(),i.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),i.ke(e.resumeToken));break;default:be(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((i,o)=>{this.it(o)&&n(o)})}ot(e){const n=e.targetId,i=e.Ce.count,o=this._t(n);if(o){const c=o.target;if(lp(c))if(i===0){const h=new _e(c.path);this.tt(n,h,qt.newNoDocument(h,we.min()))}else Ge(i===1,20013,{expectedCount:i});else{const h=this.ut(n);if(h!==i){const p=this.ct(e),g=p?this.lt(p,e,h):1;if(g!==0){this.st(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:c=0}=n;let h,p;try{h=ii(i).toUint8Array()}catch(g){if(g instanceof oE)return bo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new Wp(h,o,c)}catch(g){return bo(g instanceof nc?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.pe===0?null:p}lt(e,n,i){return n.Ce.count===i-this.Tt(e,n.targetId)?0:2}Tt(e,n){const i=this.ze.getRemoteKeysForTarget(n);let o=0;return i.forEach(c=>{const h=this.ze.Pt(),p=`projects/${h.projectId}/databases/${h.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.tt(n,c,null),o++)}),o}It(e){const n=new Map;this.je.forEach((c,h)=>{const p=this._t(h);if(p){if(c.current&&lp(p.target)){const g=new _e(p.target.path);this.Et(g).has(h)||this.dt(h,g)||this.tt(h,g,qt.newNoDocument(g,e))}c.Le&&(n.set(h,c.qe()),c.Qe())}});let i=Ue();this.Ye.forEach((c,h)=>{let p=!0;h.forEachWhile(g=>{const y=this._t(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(i=i.add(c))}),this.He.forEach((c,h)=>h.setReadTime(e));const o=new mh(e,n,this.Ze,this.He,i);return this.He=ds(),this.Je=fd(),this.Ye=fd(),this.Ze=new dt(je),o}et(e,n){if(!this.it(e))return;const i=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,i),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,i){if(!this.it(e))return;const o=this.rt(e);this.dt(e,n)?o.$e(n,1):o.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),i&&(this.He=this.He.insert(n,i))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new lb,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Mt(je),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Mt(je),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new lb),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function fd(){return new dt(_e.comparator)}function cb(){return new dt(_e.comparator)}const gI={asc:"ASCENDING",desc:"DESCENDING"},yI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vI={and:"AND",or:"OR"};class _I{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function dp(s,e){return s.useProto3Json||Cc(e)?e:{value:e}}function Gd(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function UE(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function bI(s,e){return Gd(s,e.toTimestamp())}function jn(s){return Ge(!!s,49232),we.fromTimestamp(function(n){const i=si(n);return new jt(i.seconds,i.nanos)}(s))}function Zp(s,e){return hp(s,e).canonicalString()}function hp(s,e){const n=function(o){return new it(["projects",o.projectId,"databases",o.database])}(s).child("documents");return e===void 0?n:n.child(e)}function zE(s){const e=it.fromString(s);return Ge(QE(e),10190,{key:e.toString()}),e}function Qd(s,e){return Zp(s.databaseId,e.path)}function uc(s,e){const n=zE(e);if(n.get(1)!==s.databaseId.projectId)throw new he(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new he(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new _e(BE(n))}function qE(s,e){return Zp(s.databaseId,e)}function xI(s){const e=zE(s);return e.length===4?it.emptyPath():BE(e)}function fp(s){return new it(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function BE(s){return Ge(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function ub(s,e,n){return{name:Qd(s,e),fields:n.value.mapValue.fields}}function EI(s,e){return"found"in e?function(i,o){Ge(!!o.found,43571),o.found.name,o.found.updateTime;const c=uc(i,o.found.name),h=jn(o.found.updateTime),p=o.found.createTime?jn(o.found.createTime):we.min(),g=new hn({mapValue:{fields:o.found.fields}});return qt.newFoundDocument(c,h,p,g)}(s,e):"missing"in e?function(i,o){Ge(!!o.missing,3894),Ge(!!o.readTime,22933);const c=uc(i,o.missing),h=jn(o.readTime);return qt.newNoDocument(c,h)}(s,e):be(7234,{result:e})}function TI(s,e){let n;if("targetChange"in e){e.targetChange;const i=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:be(39313,{state:y})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=function(y,_){return y.useProto3Json?(Ge(_===void 0||typeof _=="string",58123),Wt.fromBase64String(_||"")):(Ge(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),Wt.fromUint8Array(_||new Uint8Array))}(s,e.targetChange.resumeToken),h=e.targetChange.cause,p=h&&function(y){const _=y.code===void 0?J.UNKNOWN:PE(y.code);return new he(_,y.message||"")}(h);n=new LE(i,o,c,p||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=uc(s,i.document.name),c=jn(i.document.updateTime),h=i.document.createTime?jn(i.document.createTime):we.min(),p=new hn({mapValue:{fields:i.document.fields}}),g=qt.newFoundDocument(o,c,h,p),y=i.targetIds||[],_=i.removedTargetIds||[];n=new Rd(y,_,g.key,g)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=uc(s,i.document),c=i.readTime?jn(i.readTime):we.min(),h=qt.newNoDocument(o,c),p=i.removedTargetIds||[];n=new Rd([],p,h.key,h)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=uc(s,i.document),c=i.removedTargetIds||[];n=new Rd([],c,o,null)}else{if(!("filter"in e))return be(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:c}=i,h=new fI(o,c),p=i.targetId;n=new VE(p,h)}}return n}function HE(s,e){let n;if(e instanceof Ic)n={update:ub(s,e.key,e.value)};else if(e instanceof fh)n={delete:Qd(s,e.key)};else if(e instanceof di)n={update:ub(s,e.key,e.data),updateMask:OI(e.fieldMask)};else{if(!(e instanceof ME))return be(16599,{ft:e.type});n={verify:Qd(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(c,h){const p=h.transform;if(p instanceof vc)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof _c)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof bc)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Fd)return{fieldPath:h.field.canonicalString(),increment:p.Re};throw be(20930,{transform:h.transform})}(0,i))),e.precondition.isNone||(n.currentDocument=function(o,c){return c.updateTime!==void 0?{updateTime:bI(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:be(27497)}(s,e.precondition)),n}function wI(s,e){return s&&s.length>0?(Ge(e!==void 0,14353),s.map(n=>function(o,c){let h=o.updateTime?jn(o.updateTime):jn(c);return h.isEqual(we.min())&&(h=jn(c)),new lI(h,o.transformResults||[])}(n,e))):[]}function SI(s,e){return{documents:[qE(s,e.path)]}}function AI(s,e){const n={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=qE(s,o);const c=function(y){if(y.length!==0)return GE(ir.create(y,"and"))}(e.filters);c&&(n.structuredQuery.where=c);const h=function(y){if(y.length!==0)return y.map(_=>function(T){return{field:io(T.field),direction:CI(T.dir)}}(_))}(e.orderBy);h&&(n.structuredQuery.orderBy=h);const p=dp(s,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{gt:n,parent:o}}function RI(s){let e=xI(s.parent);const n=s.structuredQuery,i=n.from?n.from.length:0;let o=null;if(i>0){Ge(i===1,65062);const _=n.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let c=[];n.where&&(c=function(E){const T=FE(E);return T instanceof ir&&yE(T)?T.getFilters():[T]}(n.where));let h=[];n.orderBy&&(h=function(E){return E.map(T=>function(L){return new yc(ao(L.field),function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(L.direction))}(T))}(n.orderBy));let p=null;n.limit&&(p=function(E){let T;return T=typeof E=="object"?E.value:E,Cc(T)?null:T}(n.limit));let g=null;n.startAt&&(g=function(E){const T=!!E.before,M=E.values||[];return new Hd(M,T)}(n.startAt));let y=null;return n.endAt&&(y=function(E){const T=!E.before,M=E.values||[];return new Hd(M,T)}(n.endAt)),KC(e,o,h,c,p,"F",g,y)}function NI(s,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function FE(s){return s.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=ao(n.unaryFilter.field);return St.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=ao(n.unaryFilter.field);return St.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ao(n.unaryFilter.field);return St.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=ao(n.unaryFilter.field);return St.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return be(61313);default:return be(60726)}}(s):s.fieldFilter!==void 0?function(n){return St.create(ao(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return be(58110);default:return be(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(n){return ir.create(n.compositeFilter.filters.map(i=>FE(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return be(1026)}}(n.compositeFilter.op))}(s):be(30097,{filter:s})}function CI(s){return gI[s]}function II(s){return yI[s]}function DI(s){return vI[s]}function io(s){return{fieldPath:s.canonicalString()}}function ao(s){return $t.fromServerFormat(s.fieldPath)}function GE(s){return s instanceof St?function(n){if(n.op==="=="){if(W_(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NAN"}};if(X_(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(W_(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NOT_NAN"}};if(X_(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:io(n.field),op:II(n.op),value:n.value}}}(s):s instanceof ir?function(n){const i=n.getFilters().map(o=>GE(o));return i.length===1?i[0]:{compositeFilter:{op:DI(n.op),filters:i}}}(s):be(54877,{filter:s})}function OI(s){const e=[];return s.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function QE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e,n,i,o,c=we.min(),h=we.min(),p=Wt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new Xs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Xs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(e){this.wt=e}}function MI(s){const e=RI({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?up(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(){this.Cn=new PI}addToCollectionParentIndex(e,n){return this.Cn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(ri.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(ri.min())}updateCollectionGroup(e,n,i){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class PI{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n]||new Mt(it.comparator),c=!o.has(i);return this.index[n]=o.add(i),c}has(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Mt(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},YE=41943040;class gn{static withCacheSize(e){return new gn(e,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(YE,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new wo(0)}static lr(){return new wo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb="LruGarbageCollector",VI=1048576;function fb([s,e],[n,i]){const o=je(s,n);return o===0?je(e,i):o}class LI{constructor(e){this.Er=e,this.buffer=new Mt(fb),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();fb(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class UI{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){fe(hb,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){jo(n)?fe(hb,"Ignoring IndexedDB error during garbage collection: ",n):await Oo(n)}await this.mr(3e5)})}}class zI{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return te.resolve(oh.le);const i=new LI(n);return this.gr.forEachTarget(e,o=>i.Rr(o.sequenceNumber)).next(()=>this.gr.yr(e,o=>i.Rr(o))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.gr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(db)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),db):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let i,o,c,h,p,g,y;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,h=Date.now(),this.nthSequenceNumber(e,o))).next(E=>(i=E,p=Date.now(),this.removeTargets(e,i,n))).next(E=>(c=E,g=Date.now(),this.removeOrphanedDocuments(e,i))).next(E=>(y=Date.now(),ro()<=Le.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-_}ms
	Determined least recently used ${o} in `+(p-h)+`ms
	Removed ${c} targets in `+(g-p)+`ms
	Removed ${E} documents in `+(y-g)+`ms
Total Duration: ${y-_}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:E})))}}function qI(s,e){return new zI(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(){this.changes=new aa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,qt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?te.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(e,n,i,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(i!==null&&cc(i.mutation,o,On.empty(),jt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,Ue()).next(()=>i))}getLocalViewOfDocuments(e,n,i=Ue()){const o=Wi();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,i).next(c=>{let h=tc();return c.forEach((p,g)=>{h=h.insert(p,g.overlayedDocument)}),h}))}getOverlayedDocuments(e,n){const i=Wi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,Ue()))}populateOverlays(e,n,i){const o=[];return i.forEach(c=>{n.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(e,o).next(c=>{c.forEach((h,p)=>{n.set(h,p)})})}computeViews(e,n,i,o){let c=ds();const h=lc(),p=function(){return lc()}();return n.forEach((g,y)=>{const _=i.get(y.key);o.has(y.key)&&(_===void 0||_.mutation instanceof di)?c=c.insert(y.key,y):_!==void 0?(h.set(y.key,_.mutation.getFieldMask()),cc(_.mutation,y,_.mutation.getFieldMask(),jt.now())):h.set(y.key,On.empty())}),this.recalculateAndSaveOverlays(e,c).next(g=>(g.forEach((y,_)=>h.set(y,_)),n.forEach((y,_)=>{var E;return p.set(y,new HI(_,(E=h.get(y))!==null&&E!==void 0?E:null))}),p))}recalculateAndSaveOverlays(e,n){const i=lc();let o=new dt((h,p)=>h-p),c=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(h=>{for(const p of h)p.keys().forEach(g=>{const y=n.get(g);if(y===null)return;let _=i.get(g)||On.empty();_=p.applyToLocalView(y,_),i.set(g,_);const E=(o.get(p.batchId)||Ue()).add(g);o=o.insert(p.batchId,E)})}).next(()=>{const h=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,_=g.value,E=AE();_.forEach(T=>{if(!c.has(T)){const M=OE(n.get(T),i.get(T));M!==null&&E.set(T,M),c=c.add(T)}}),h.push(this.documentOverlayCache.saveOverlays(e,y,E))}return te.waitFor(h)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,o){return function(h){return _e.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):xE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,o):this.getDocumentsMatchingCollectionQuery(e,n,i,o)}getNextDocuments(e,n,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,o).next(c=>{const h=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,o-c.size):te.resolve(Wi());let p=fc,g=c;return h.next(y=>te.forEach(y,(_,E)=>(p<E.largestBatchId&&(p=E.largestBatchId),c.get(_)?te.resolve():this.remoteDocumentCache.getEntry(e,_).next(T=>{g=g.insert(_,T)}))).next(()=>this.populateOverlays(e,y,c)).next(()=>this.computeViews(e,g,y,Ue())).next(_=>({batchId:p,changes:SE(_)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next(i=>{let o=tc();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,i,o){const c=n.collectionGroup;let h=tc();return this.indexManager.getCollectionParents(e,c).next(p=>te.forEach(p,g=>{const y=function(E,T){return new Mo(T,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(n,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,i,o).next(_=>{_.forEach((E,T)=>{h=h.insert(E,T)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,n,i,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(h=>(c=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,c,o))).next(h=>{c.forEach((g,y)=>{const _=y.getKey();h.get(_)===null&&(h=h.insert(_,qt.newInvalidDocument(_)))});let p=tc();return h.forEach((g,y)=>{const _=c.get(g);_!==void 0&&cc(_.mutation,y,On.empty(),jt.now()),uh(n,y)&&(p=p.insert(g,y))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return te.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:jn(o.createTime)}}(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(o){return{name:o.name,query:MI(o.bundledQuery),readTime:jn(o.readTime)}}(n)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(){this.overlays=new dt(_e.comparator),this.Qr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Wi();return te.forEach(n,o=>this.getOverlay(e,o).next(c=>{c!==null&&i.set(o,c)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((o,c)=>{this.St(e,n,c)}),te.resolve()}removeOverlaysForBatchId(e,n,i){const o=this.Qr.get(i);return o!==void 0&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.Qr.delete(i)),te.resolve()}getOverlaysForCollection(e,n,i){const o=Wi(),c=n.length+1,h=new _e(n.child("")),p=this.overlays.getIteratorFrom(h);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===c&&g.largestBatchId>i&&o.set(g.getKey(),g)}return te.resolve(o)}getOverlaysForCollectionGroup(e,n,i,o){let c=new dt((y,_)=>y-_);const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>i){let _=c.get(y.largestBatchId);_===null&&(_=Wi(),c=c.insert(y.largestBatchId,_)),_.set(y.getKey(),y)}}const p=Wi(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((y,_)=>p.set(y,_)),!(p.size()>=o)););return te.resolve(p)}St(e,n,i){const o=this.overlays.get(i.key);if(o!==null){const h=this.Qr.get(o.largestBatchId).delete(i.key);this.Qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(i.key,new hI(n,i));let c=this.Qr.get(n);c===void 0&&(c=Ue(),this.Qr.set(n,c)),this.Qr.set(n,c.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(){this.sessionToken=Wt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(){this.$r=new Mt(zt.Ur),this.Kr=new Mt(zt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const i=new zt(e,n);this.$r=this.$r.add(i),this.Kr=this.Kr.add(i)}Gr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.zr(new zt(e,n))}jr(e,n){e.forEach(i=>this.removeReference(i,n))}Hr(e){const n=new _e(new it([])),i=new zt(n,e),o=new zt(n,e+1),c=[];return this.Kr.forEachInRange([i,o],h=>{this.zr(h),c.push(h.key)}),c}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new _e(new it([])),i=new zt(n,e),o=new zt(n,e+1);let c=Ue();return this.Kr.forEachInRange([i,o],h=>{c=c.add(h.key)}),c}containsKey(e){const n=new zt(e,0),i=this.$r.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class zt{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return _e.comparator(e.key,n.key)||je(e.Zr,n.Zr)}static Wr(e,n){return je(e.Zr,n.Zr)||_e.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Mt(zt.Ur)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,o){const c=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new dI(c,n,i,o);this.mutationQueue.push(h);for(const p of o)this.Xr=this.Xr.add(new zt(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return te.resolve(h)}lookupMutationBatch(e,n){return te.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,o=this.ti(i),c=o<0?0:o;return te.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?Hp:this.nr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new zt(n,0),o=new zt(n,Number.POSITIVE_INFINITY),c=[];return this.Xr.forEachInRange([i,o],h=>{const p=this.ei(h.Zr);c.push(p)}),te.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Mt(je);return n.forEach(o=>{const c=new zt(o,0),h=new zt(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([c,h],p=>{i=i.add(p.Zr)})}),te.resolve(this.ni(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,o=i.length+1;let c=i;_e.isDocumentKey(c)||(c=c.child(""));const h=new zt(new _e(c),0);let p=new Mt(je);return this.Xr.forEachWhile(g=>{const y=g.key.path;return!!i.isPrefixOf(y)&&(y.length===o&&(p=p.add(g.Zr)),!0)},h),te.resolve(this.ni(p))}ni(e){const n=[];return e.forEach(i=>{const o=this.ei(i);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Ge(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Xr;return te.forEach(n.mutations,o=>{const c=new zt(o.key,n.batchId);return i=i.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Xr=i})}sr(e){}containsKey(e,n){const i=new zt(n,0),o=this.Xr.firstAfterOrEqual(i);return te.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e){this.ii=e,this.docs=function(){return new dt(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,o=this.docs.get(i),c=o?o.size:0,h=this.ii(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:h}),this.size+=h-c,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return te.resolve(i?i.document.mutableCopy():qt.newInvalidDocument(n))}getEntries(e,n){let i=ds();return n.forEach(o=>{const c=this.docs.get(o);i=i.insert(o,c?c.document.mutableCopy():qt.newInvalidDocument(o))}),te.resolve(i)}getDocumentsMatchingQuery(e,n,i,o){let c=ds();const h=n.path,p=new _e(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:_}}=g.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||AC(SC(_),i)<=0||(o.has(_.key)||uh(n,_))&&(c=c.insert(_.key,_.mutableCopy()))}return te.resolve(c)}getAllFromCollectionGroup(e,n,i,o){be(9500)}si(e,n){return te.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new XI(this)}getSize(e){return te.resolve(this.size)}}class XI extends BI{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?n.push(this.Br.addEntry(e,o)):this.Br.removeEntry(i)}),te.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e){this.persistence=e,this.oi=new aa(n=>Qp(n),Yp),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this._i=0,this.ai=new Jp,this.targetCount=0,this.ui=wo.cr()}forEachTarget(e,n){return this.oi.forEach((i,o)=>n(o)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this._i&&(this._i=n),te.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new wo(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.Tr(n),te.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,i){let o=0;const c=[];return this.oi.forEach((h,p)=>{p.sequenceNumber<=n&&i.get(p.targetId)===null&&(this.oi.delete(h),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)}),te.waitFor(c).next(()=>o)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const i=this.oi.get(n)||null;return te.resolve(i)}addMatchingKeys(e,n,i){return this.ai.Gr(n,i),te.resolve()}removeMatchingKeys(e,n,i){this.ai.jr(n,i);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach(h=>{c.push(o.markPotentiallyOrphaned(e,h))}),te.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const i=this.ai.Yr(n);return te.resolve(i)}containsKey(e,n){return te.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(e,n){this.ci={},this.overlays={},this.li=new oh(0),this.hi=!1,this.hi=!0,this.Pi=new YI,this.referenceDelegate=e(this),this.Ti=new WI(this),this.indexManager=new kI,this.remoteDocumentCache=function(o){return new $I(o)}(i=>this.referenceDelegate.Ii(i)),this.serializer=new jI(n),this.Ei=new GI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new QI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ci[e.toKey()];return i||(i=new KI(n,this.referenceDelegate),this.ci[e.toKey()]=i),i}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,i){fe("MemoryPersistence","Starting transaction:",e);const o=new ZI(this.li.next());return this.referenceDelegate.di(),i(o).next(c=>this.referenceDelegate.Ai(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}Ri(e,n){return te.or(Object.values(this.ci).map(i=>()=>i.containsKey(e,n)))}}class ZI extends NC{constructor(e){super(),this.currentSequenceNumber=e}}class eg{constructor(e){this.persistence=e,this.Vi=new Jp,this.mi=null}static fi(e){return new eg(e)}get gi(){if(this.mi)return this.mi;throw be(60996)}addReference(e,n,i){return this.Vi.addReference(i,n),this.gi.delete(i.toString()),te.resolve()}removeReference(e,n,i){return this.Vi.removeReference(i,n),this.gi.add(i.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),te.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(o=>this.gi.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(c=>this.gi.add(c.toString()))}).next(()=>i.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.gi,i=>{const o=_e.fromPath(i);return this.pi(e,o).next(c=>{c||n.removeEntry(o,we.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(i=>{i?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return te.or([()=>te.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class Yd{constructor(e,n){this.persistence=e,this.yi=new aa(i=>DC(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=qI(this,n)}static fi(e,n){return new Yd(e,n)}di(){}Ai(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(o=>i+o))}br(e){let n=0;return this.yr(e,i=>{n++}).next(()=>n)}yr(e,n){return te.forEach(this.yi,(i,o)=>this.Dr(e,i,o).next(c=>c?te.resolve():n(o)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.si(e,h=>this.Dr(e,h,n).next(p=>{p||(i++,c.removeEntry(h,we.min()))})).next(()=>c.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.yi.set(i,e.currentSequenceNumber),te.resolve()}removeReference(e,n,i){return this.yi.set(i,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),te.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=wd(e.data.value)),n}Dr(e,n,i){return te.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.yi.get(n);return te.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e,n,i,o){this.targetId=e,this.fromCache=n,this.ds=i,this.As=o}static Rs(e,n){let i=Ue(),o=Ue();for(const c of n.docChanges)switch(c.type){case 0:i=i.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new tg(e,n.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return OS()?8:CC(an())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,i,o){const c={result:null};return this.ws(e,n).next(h=>{c.result=h}).next(()=>{if(!c.result)return this.bs(e,n,o,i).next(h=>{c.result=h})}).next(()=>{if(c.result)return;const h=new JI;return this.Ss(e,n,h).next(p=>{if(c.result=p,this.fs)return this.Ds(e,n,h,p.size)})}).next(()=>c.result)}Ds(e,n,i,o){return i.documentReadCount<this.gs?(ro()<=Le.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",so(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),te.resolve()):(ro()<=Le.DEBUG&&fe("QueryEngine","Query:",so(n),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.ps*o?(ro()<=Le.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",so(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Rr(n))):te.resolve())}ws(e,n){if(tb(n))return te.resolve(null);let i=Rr(n);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=up(n,null,"F"),i=Rr(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(c=>{const h=Ue(...c);return this.ys.getDocuments(e,h).next(p=>this.indexManager.getMinOffset(e,i).next(g=>{const y=this.vs(n,p);return this.Cs(n,y,h,g.readTime)?this.ws(e,up(n,null,"F")):this.Fs(e,y,n,g)}))})))}bs(e,n,i,o){return tb(n)||o.isEqual(we.min())?te.resolve(null):this.ys.getDocuments(e,i).next(c=>{const h=this.vs(n,c);return this.Cs(n,h,i,o)?te.resolve(null):(ro()<=Le.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),so(n)),this.Fs(e,h,n,wC(o,fc)).next(p=>p))})}vs(e,n){let i=new Mt(TE(e));return n.forEach((o,c)=>{uh(e,c)&&(i=i.add(c))}),i}Cs(e,n,i,o){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,n,i){return ro()<=Le.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",so(n)),this.ys.getDocumentsMatchingQuery(e,n,ri.min(),i)}Fs(e,n,i,o){return this.ys.getDocumentsMatchingQuery(e,i,o).next(c=>(n.forEach(h=>{c=c.insert(h.key,h)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ng="LocalStore",t2=3e8;class n2{constructor(e,n,i,o){this.persistence=e,this.Ms=n,this.serializer=o,this.xs=new dt(je),this.Os=new aa(c=>Qp(c),Yp),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(i)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new FI(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function r2(s,e,n,i){return new n2(s,e,n,i)}async function $E(s,e){const n=Re(s);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let o;return n.mutationQueue.getAllMutationBatches(i).next(c=>(o=c,n.Ls(e),n.mutationQueue.getAllMutationBatches(i))).next(c=>{const h=[],p=[];let g=Ue();for(const y of o){h.push(y.batchId);for(const _ of y.mutations)g=g.add(_.key)}for(const y of c){p.push(y.batchId);for(const _ of y.mutations)g=g.add(_.key)}return n.localDocuments.getDocuments(i,g).next(y=>({ks:y,removedBatchIds:h,addedBatchIds:p}))})})}function s2(s,e){const n=Re(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),c=n.Bs.newChangeBuffer({trackRemovals:!0});return function(p,g,y,_){const E=y.batch,T=E.keys();let M=te.resolve();return T.forEach(L=>{M=M.next(()=>_.getEntry(g,L)).next(F=>{const H=y.docVersions.get(L);Ge(H!==null,48541),F.version.compareTo(H)<0&&(E.applyToRemoteDocument(F,y),F.isValidDocument()&&(F.setReadTime(y.commitVersion),_.addEntry(F)))})}),M.next(()=>p.mutationQueue.removeMutationBatch(g,E))}(n,i,e,c).next(()=>c.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(p){let g=Ue();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g}(e))).next(()=>n.localDocuments.getDocuments(i,o))})}function XE(s){const e=Re(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function i2(s,e){const n=Re(s),i=e.snapshotVersion;let o=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const h=n.Bs.newChangeBuffer({trackRemovals:!0});o=n.xs;const p=[];e.targetChanges.forEach((_,E)=>{const T=o.get(E);if(!T)return;p.push(n.Ti.removeMatchingKeys(c,_.removedDocuments,E).next(()=>n.Ti.addMatchingKeys(c,_.addedDocuments,E)));let M=T.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(E)!==null?M=M.withResumeToken(Wt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):_.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(_.resumeToken,i)),o=o.insert(E,M),function(F,H,le){return F.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=t2?!0:le.addedDocuments.size+le.modifiedDocuments.size+le.removedDocuments.size>0}(T,M,_)&&p.push(n.Ti.updateTargetData(c,M))});let g=ds(),y=Ue();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(c,_))}),p.push(a2(c,h,e.documentUpdates).next(_=>{g=_.qs,y=_.Qs})),!i.isEqual(we.min())){const _=n.Ti.getLastRemoteSnapshotVersion(c).next(E=>n.Ti.setTargetsMetadata(c,c.currentSequenceNumber,i));p.push(_)}return te.waitFor(p).next(()=>h.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,g,y)).next(()=>g)}).then(c=>(n.xs=o,c))}function a2(s,e,n){let i=Ue(),o=Ue();return n.forEach(c=>i=i.add(c)),e.getEntries(s,i).next(c=>{let h=ds();return n.forEach((p,g)=>{const y=c.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(we.min())?(e.removeEntry(p,g.readTime),h=h.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),h=h.insert(p,g)):fe(ng,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)}),{qs:h,Qs:o}})}function o2(s,e){const n=Re(s);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Hp),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function l2(s,e){const n=Re(s);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return n.Ti.getTargetData(i,e).next(c=>c?(o=c,te.resolve(o)):n.Ti.allocateTargetId(i).next(h=>(o=new Xs(e,h,"TargetPurposeListen",i.currentSequenceNumber),n.Ti.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=n.xs.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.xs=n.xs.insert(i.targetId,i),n.Os.set(e,i.targetId)),i})}async function mp(s,e,n){const i=Re(s),o=i.xs.get(e),c=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",c,h=>i.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!jo(h))throw h;fe(ng,`Failed to update sequence numbers for target ${e}: ${h}`)}i.xs=i.xs.remove(e),i.Os.delete(o.target)}function mb(s,e,n){const i=Re(s);let o=we.min(),c=Ue();return i.persistence.runTransaction("Execute query","readwrite",h=>function(g,y,_){const E=Re(g),T=E.Os.get(_);return T!==void 0?te.resolve(E.xs.get(T)):E.Ti.getTargetData(y,_)}(i,h,Rr(e)).next(p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,i.Ti.getMatchingKeysForTargetId(h,p.targetId).next(g=>{c=g})}).next(()=>i.Ms.getDocumentsMatchingQuery(h,e,n?o:we.min(),n?c:Ue())).next(p=>(c2(i,XC(e),p),{documents:p,$s:c})))}function c2(s,e,n){let i=s.Ns.get(e)||we.min();n.forEach((o,c)=>{c.readTime.compareTo(i)>0&&(i=c.readTime)}),s.Ns.set(e,i)}class pb{constructor(){this.activeTargetIds=nI()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class u2{constructor(){this.xo=new pb,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,i){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new pb,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb="ConnectivityMonitor";class yb{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){fe(gb,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){fe(gb,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let md=null;function pp(){return md===null?md=function(){return 268435456+Math.round(2147483648*Math.random())}():md++,"0x"+md.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm="RestConnection",h2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class f2{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${i}/databases/${o}`,this.Go=this.databaseId.database===qd?`project_id=${i}`:`project_id=${i}&database_id=${o}`}zo(e,n,i,o,c){const h=pp(),p=this.jo(e,n.toUriEncodedString());fe(qm,`Sending RPC '${e}' ${h}:`,p,i);const g={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(g,o,c);const{host:y}=new URL(p),_=No(y);return this.Jo(e,p,g,i,_).then(E=>(fe(qm,`Received RPC '${e}' ${h}: `,E),E),E=>{throw bo(qm,`RPC '${e}' ${h} failed with error: `,E,"url: ",p,"request:",i),E})}Yo(e,n,i,o,c,h){return this.zo(e,n,i,o,c)}Ho(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Do}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,c)=>e[c]=o),i&&i.headers.forEach((o,c)=>e[c]=o)}jo(e,n){const i=h2[e];return`${this.Ko}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn="WebChannelConnection";class p2 extends f2{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,o,c){const h=pp();return new Promise((p,g)=>{const y=new Xx;y.setWithCredentials(!0),y.listenOnce(Wx.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case Td.NO_ERROR:const E=y.getResponseJson();fe(tn,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(E)),p(E);break;case Td.TIMEOUT:fe(tn,`RPC '${e}' ${h} timed out`),g(new he(J.DEADLINE_EXCEEDED,"Request time out"));break;case Td.HTTP_ERROR:const T=y.getStatus();if(fe(tn,`RPC '${e}' ${h} failed with status:`,T,"response text:",y.getResponseText()),T>0){let M=y.getResponseJson();Array.isArray(M)&&(M=M[0]);const L=M==null?void 0:M.error;if(L&&L.status&&L.message){const F=function(le){const ae=le.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(ae)>=0?ae:J.UNKNOWN}(L.status);g(new he(F,L.message))}else g(new he(J.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new he(J.UNAVAILABLE,"Connection failed."));break;default:be(9055,{h_:e,streamId:h,P_:y.getLastErrorCode(),T_:y.getLastError()})}}finally{fe(tn,`RPC '${e}' ${h} completed.`)}});const _=JSON.stringify(o);fe(tn,`RPC '${e}' ${h} sending request:`,o),y.send(n,"POST",_,i,15)})}I_(e,n,i){const o=pp(),c=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=eE(),p=Jx(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Ho(g.initMessageHeaders,n,i),g.encodeInitMessageHeaders=!0;const _=c.join("");fe(tn,`Creating RPC '${e}' stream ${o}: ${_}`,g);const E=h.createWebChannel(_,g);this.E_(E);let T=!1,M=!1;const L=new m2({Zo:H=>{M?fe(tn,`Not sending because RPC '${e}' stream ${o} is closed:`,H):(T||(fe(tn,`Opening RPC '${e}' stream ${o} transport.`),E.open(),T=!0),fe(tn,`RPC '${e}' stream ${o} sending:`,H),E.send(H))},Xo:()=>E.close()}),F=(H,le,ae)=>{H.listen(le,ie=>{try{ae(ie)}catch(Y){setTimeout(()=>{throw Y},0)}})};return F(E,ec.EventType.OPEN,()=>{M||(fe(tn,`RPC '${e}' stream ${o} transport opened.`),L.__())}),F(E,ec.EventType.CLOSE,()=>{M||(M=!0,fe(tn,`RPC '${e}' stream ${o} transport closed`),L.u_(),this.d_(E))}),F(E,ec.EventType.ERROR,H=>{M||(M=!0,bo(tn,`RPC '${e}' stream ${o} transport errored. Name:`,H.name,"Message:",H.message),L.u_(new he(J.UNAVAILABLE,"The operation could not be completed")))}),F(E,ec.EventType.MESSAGE,H=>{var le;if(!M){const ae=H.data[0];Ge(!!ae,16349);const ie=ae,Y=(ie==null?void 0:ie.error)||((le=ie[0])===null||le===void 0?void 0:le.error);if(Y){fe(tn,`RPC '${e}' stream ${o} received error:`,Y);const oe=Y.status;let K=function(R){const N=wt[R];if(N!==void 0)return PE(N)}(oe),C=Y.message;K===void 0&&(K=J.INTERNAL,C="Unknown error status: "+oe+" with message "+Y.message),M=!0,L.u_(new he(K,C)),E.close()}else fe(tn,`RPC '${e}' stream ${o} received:`,ae),L.c_(ae)}}),F(p,Zx.STAT_EVENT,H=>{H.stat===rp.PROXY?fe(tn,`RPC '${e}' stream ${o} detected buffering proxy`):H.stat===rp.NOPROXY&&fe(tn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{L.a_()},0),L}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function Bm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ph(s){return new _I(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e,n,i=1e3,o=1.5,c=6e4){this.xi=e,this.timerId=n,this.A_=i,this.R_=o,this.V_=c,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),i=Math.max(0,Date.now()-this.g_),o=Math.max(0,n-i);o>0&&fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb="PersistentStream";class WE{constructor(e,n,i,o,c,h,p,g){this.xi=e,this.S_=i,this.D_=o,this.connection=c,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new rg(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(us(n.toString()),us("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.v_===n&&this.z_(i,o)},i=>{e(()=>{const o=new he(J.UNKNOWN,"Fetching auth token failed: "+i.message);return this.j_(o)})})}z_(e,n){const i=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{i(()=>this.listener.e_())}),this.stream.n_(()=>{i(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{i(()=>this.j_(o))}),this.stream.onMessage(o=>{i(()=>++this.M_==1?this.J_(o):this.onNext(o))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return fe(vb,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(fe(vb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class g2 extends WE{constructor(e,n,i,o,c,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,o,h),this.serializer=c}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=TI(this.serializer,e),i=function(c){if(!("targetChange"in c))return we.min();const h=c.targetChange;return h.targetIds&&h.targetIds.length?we.min():h.readTime?jn(h.readTime):we.min()}(e);return this.listener.Y_(n,i)}Z_(e){const n={};n.database=fp(this.serializer),n.addTarget=function(c,h){let p;const g=h.target;if(p=lp(g)?{documents:SI(c,g)}:{query:AI(c,g).gt},p.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){p.resumeToken=UE(c,h.resumeToken);const y=dp(c,h.expectedCount);y!==null&&(p.expectedCount=y)}else if(h.snapshotVersion.compareTo(we.min())>0){p.readTime=Gd(c,h.snapshotVersion.toTimestamp());const y=dp(c,h.expectedCount);y!==null&&(p.expectedCount=y)}return p}(this.serializer,e);const i=NI(this.serializer,e);i&&(n.labels=i),this.Q_(n)}X_(e){const n={};n.database=fp(this.serializer),n.removeTarget=e,this.Q_(n)}}class y2 extends WE{constructor(e,n,i,o,c,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,o,h),this.serializer=c}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=wI(e.writeResults,e.commitTime),i=jn(e.commitTime);return this.listener.ra(i,n)}ia(){const e={};e.database=fp(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>HE(this.serializer,i))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{}class _2 extends v2{constructor(e,n,i,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=o,this.sa=!1}oa(){if(this.sa)throw new he(J.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,i,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,h])=>this.connection.zo(e,hp(n,i),o,c,h)).catch(c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new he(J.UNKNOWN,c.toString())})}Yo(e,n,i,o,c){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,p])=>this.connection.Yo(e,hp(n,i),o,h,p,c)).catch(h=>{throw h.name==="FirebaseError"?(h.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new he(J.UNKNOWN,h.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class b2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(us(n),this.ua=!1):fe("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra="RemoteStore";class x2{constructor(e,n,i,o,c){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=c,this.Ra.No(h=>{i.enqueueAndForget(async()=>{oa(this)&&(fe(ra,"Restarting streams for network reachability change."),await async function(g){const y=Re(g);y.da.add(4),await Oc(y),y.Va.set("Unknown"),y.da.delete(4),await gh(y)}(this))})}),this.Va=new b2(i,o)}}async function gh(s){if(oa(s))for(const e of s.Aa)await e(!0)}async function Oc(s){for(const e of s.Aa)await e(!1)}function ZE(s,e){const n=Re(s);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),og(n)?ag(n):ko(n).N_()&&ig(n,e))}function sg(s,e){const n=Re(s),i=ko(n);n.Ea.delete(e),i.N_()&&JE(n,e),n.Ea.size===0&&(i.N_()?i.k_():oa(n)&&n.Va.set("Unknown"))}function ig(s,e){if(s.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ko(s).Z_(e)}function JE(s,e){s.ma.Ke(e),ko(s).X_(e)}function ag(s){s.ma=new pI({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>s.Ea.get(e)||null,Pt:()=>s.datastore.serializer.databaseId}),ko(s).start(),s.Va.ca()}function og(s){return oa(s)&&!ko(s).O_()&&s.Ea.size>0}function oa(s){return Re(s).da.size===0}function eT(s){s.ma=void 0}async function E2(s){s.Va.set("Online")}async function T2(s){s.Ea.forEach((e,n)=>{ig(s,e)})}async function w2(s,e){eT(s),og(s)?(s.Va.Pa(e),ag(s)):s.Va.set("Unknown")}async function S2(s,e,n){if(s.Va.set("Online"),e instanceof LE&&e.state===2&&e.cause)try{await async function(o,c){const h=c.cause;for(const p of c.targetIds)o.Ea.has(p)&&(await o.remoteSyncer.rejectListen(p,h),o.Ea.delete(p),o.ma.removeTarget(p))}(s,e)}catch(i){fe(ra,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Kd(s,i)}else if(e instanceof Rd?s.ma.Xe(e):e instanceof VE?s.ma.ot(e):s.ma.nt(e),!n.isEqual(we.min()))try{const i=await XE(s.localStore);n.compareTo(i)>=0&&await function(c,h){const p=c.ma.It(h);return p.targetChanges.forEach((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const _=c.Ea.get(y);_&&c.Ea.set(y,_.withResumeToken(g.resumeToken,h))}}),p.targetMismatches.forEach((g,y)=>{const _=c.Ea.get(g);if(!_)return;c.Ea.set(g,_.withResumeToken(Wt.EMPTY_BYTE_STRING,_.snapshotVersion)),JE(c,g);const E=new Xs(_.target,g,y,_.sequenceNumber);ig(c,E)}),c.remoteSyncer.applyRemoteEvent(p)}(s,n)}catch(i){fe(ra,"Failed to raise snapshot:",i),await Kd(s,i)}}async function Kd(s,e,n){if(!jo(e))throw e;s.da.add(1),await Oc(s),s.Va.set("Offline"),n||(n=()=>XE(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{fe(ra,"Retrying IndexedDB access"),await n(),s.da.delete(1),await gh(s)})}function tT(s,e){return e().catch(n=>Kd(s,n,e))}async function yh(s){const e=Re(s),n=oi(e);let i=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:Hp;for(;A2(e);)try{const o=await o2(e.localStore,i);if(o===null){e.Ia.length===0&&n.k_();break}i=o.batchId,R2(e,o)}catch(o){await Kd(e,o)}nT(e)&&rT(e)}function A2(s){return oa(s)&&s.Ia.length<10}function R2(s,e){s.Ia.push(e);const n=oi(s);n.N_()&&n.ea&&n.ta(e.mutations)}function nT(s){return oa(s)&&!oi(s).O_()&&s.Ia.length>0}function rT(s){oi(s).start()}async function N2(s){oi(s).ia()}async function C2(s){const e=oi(s);for(const n of s.Ia)e.ta(n.mutations)}async function I2(s,e,n){const i=s.Ia.shift(),o=Xp.from(i,e,n);await tT(s,()=>s.remoteSyncer.applySuccessfulWrite(o)),await yh(s)}async function D2(s,e){e&&oi(s).ea&&await async function(i,o){if(function(h){return kE(h)&&h!==J.ABORTED}(o.code)){const c=i.Ia.shift();oi(i).L_(),await tT(i,()=>i.remoteSyncer.rejectFailedWrite(c.batchId,o)),await yh(i)}}(s,e),nT(s)&&rT(s)}async function _b(s,e){const n=Re(s);n.asyncQueue.verifyOperationInProgress(),fe(ra,"RemoteStore received new credentials");const i=oa(n);n.da.add(3),await Oc(n),i&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await gh(n)}async function O2(s,e){const n=Re(s);e?(n.da.delete(2),await gh(n)):e||(n.da.add(2),await Oc(n),n.Va.set("Unknown"))}function ko(s){return s.fa||(s.fa=function(n,i,o){const c=Re(n);return c.oa(),new g2(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(s.datastore,s.asyncQueue,{e_:E2.bind(null,s),n_:T2.bind(null,s),i_:w2.bind(null,s),Y_:S2.bind(null,s)}),s.Aa.push(async e=>{e?(s.fa.L_(),og(s)?ag(s):s.Va.set("Unknown")):(await s.fa.stop(),eT(s))})),s.fa}function oi(s){return s.ga||(s.ga=function(n,i,o){const c=Re(n);return c.oa(),new y2(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(s.datastore,s.asyncQueue,{e_:()=>Promise.resolve(),n_:N2.bind(null,s),i_:D2.bind(null,s),na:C2.bind(null,s),ra:I2.bind(null,s)}),s.Aa.push(async e=>{e?(s.ga.L_(),await yh(s)):(await s.ga.stop(),s.Ia.length>0&&(fe(ra,`Stopping write stream with ${s.Ia.length} pending writes`),s.Ia=[]))})),s.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e,n,i,o,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=c,this.deferred=new Ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,o,c){const h=Date.now()+i,p=new lg(e,n,h,o,c);return p.start(i),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cg(s,e){if(us("AsyncQueue",`${e}: ${s}`),jo(s))return new he(J.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{static emptySet(e){return new mo(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||_e.comparator(n.key,i.key):(n,i)=>_e.comparator(n.key,i.key),this.keyedMap=tc(),this.sortedSet=new dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof mo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=i.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new mo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(){this.pa=new dt(_e.comparator)}track(e){const n=e.doc.key,i=this.pa.get(n);i?e.type!==0&&i.type===3?this.pa=this.pa.insert(n,e):e.type===3&&i.type!==1?this.pa=this.pa.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.pa=this.pa.remove(n):e.type===1&&i.type===2?this.pa=this.pa.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):be(63341,{Vt:e,ya:i}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,i)=>{e.push(i)}),e}}class So{constructor(e,n,i,o,c,h,p,g,y){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=c,this.fromCache=h,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,i,o,c){const h=[];return n.forEach(p=>{h.push({type:0,doc:p})}),new So(e,n,mo.emptySet(n),h,i,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ch(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==i[o].type||!n[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class M2{constructor(){this.queries=xb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const o=Re(n),c=o.queries;o.queries=xb(),c.forEach((h,p)=>{for(const g of p.Sa)g.onError(i)})})(this,new he(J.ABORTED,"Firestore shutting down"))}}function xb(){return new aa(s=>EE(s),ch)}async function sT(s,e){const n=Re(s);let i=3;const o=e.query;let c=n.queries.get(o);c?!c.Da()&&e.va()&&(i=2):(c=new j2,i=e.va()?0:1);try{switch(i){case 0:c.ba=await n.onListen(o,!0);break;case 1:c.ba=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const p=cg(h,`Initialization of query '${so(e.query)}' failed`);return void e.onError(p)}n.queries.set(o,c),c.Sa.push(e),e.Fa(n.onlineState),c.ba&&e.Ma(c.ba)&&ug(n)}async function iT(s,e){const n=Re(s),i=e.query;let o=3;const c=n.queries.get(i);if(c){const h=c.Sa.indexOf(e);h>=0&&(c.Sa.splice(h,1),c.Sa.length===0?o=e.va()?0:1:!c.Da()&&e.va()&&(o=2))}switch(o){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function k2(s,e){const n=Re(s);let i=!1;for(const o of e){const c=o.query,h=n.queries.get(c);if(h){for(const p of h.Sa)p.Ma(o)&&(i=!0);h.ba=o}}i&&ug(n)}function P2(s,e,n){const i=Re(s),o=i.queries.get(e);if(o)for(const c of o.Sa)c.onError(n);i.queries.delete(e)}function ug(s){s.Ca.forEach(e=>{e.next()})}var gp,Eb;(Eb=gp||(gp={})).xa="default",Eb.Cache="cache";class aT{constructor(e,n,i){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=i||{}}Ma(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new So(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const i=n!=="Offline";return(!this.options.Qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=So.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==gp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(e){this.key=e}}class lT{constructor(e){this.key=e}}class V2{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ue(),this.mutatedKeys=Ue(),this.Za=TE(e),this.Xa=new mo(this.Za)}get eu(){return this.Ha}tu(e,n){const i=n?n.nu:new bb,o=n?n.Xa:this.Xa;let c=n?n.mutatedKeys:this.mutatedKeys,h=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((_,E)=>{const T=o.get(_),M=uh(this.query,E)?E:null,L=!!T&&this.mutatedKeys.has(T.key),F=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let H=!1;T&&M?T.data.isEqual(M.data)?L!==F&&(i.track({type:3,doc:M}),H=!0):this.ru(T,M)||(i.track({type:2,doc:M}),H=!0,(g&&this.Za(M,g)>0||y&&this.Za(M,y)<0)&&(p=!0)):!T&&M?(i.track({type:0,doc:M}),H=!0):T&&!M&&(i.track({type:1,doc:T}),H=!0,(g||y)&&(p=!0)),H&&(M?(h=h.add(M),c=F?c.add(_):c.delete(_)):(h=h.delete(_),c=c.delete(_)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const _=this.query.limitType==="F"?h.last():h.first();h=h.delete(_.key),c=c.delete(_.key),i.track({type:1,doc:_})}return{Xa:h,nu:i,Cs:p,mutatedKeys:c}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,o){const c=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const h=e.nu.wa();h.sort((_,E)=>function(M,L){const F=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be(20277,{Vt:H})}};return F(M)-F(L)}(_.type,E.type)||this.Za(_.doc,E.doc)),this.iu(i),o=o!=null&&o;const p=n&&!o?this.su():[],g=this.Ya.size===0&&this.current&&!o?1:0,y=g!==this.Ja;return this.Ja=g,h.length!==0||y?{snapshot:new So(this.query,e.Xa,c,h,e.mutatedKeys,g===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),ou:p}:{ou:p}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new bb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Ue(),this.Xa.forEach(i=>{this._u(i.key)&&(this.Ya=this.Ya.add(i.key))});const n=[];return e.forEach(i=>{this.Ya.has(i)||n.push(new lT(i))}),this.Ya.forEach(i=>{e.has(i)||n.push(new oT(i))}),n}au(e){this.Ha=e.$s,this.Ya=Ue();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return So.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const dg="SyncEngine";class L2{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class U2{constructor(e){this.key=e,this.cu=!1}}class z2{constructor(e,n,i,o,c,h){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=h,this.lu={},this.hu=new aa(p=>EE(p),ch),this.Pu=new Map,this.Tu=new Set,this.Iu=new dt(_e.comparator),this.Eu=new Map,this.du=new Jp,this.Au={},this.Ru=new Map,this.Vu=wo.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function q2(s,e,n=!0){const i=mT(s);let o;const c=i.hu.get(e);return c?(i.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.uu()):o=await cT(i,e,n,!0),o}async function B2(s,e){const n=mT(s);await cT(n,e,!0,!1)}async function cT(s,e,n,i){const o=await l2(s.localStore,Rr(e)),c=o.targetId,h=s.sharedClientState.addLocalQueryTarget(c,n);let p;return i&&(p=await H2(s,e,c,h==="current",o.resumeToken)),s.isPrimaryClient&&n&&ZE(s.remoteStore,o),p}async function H2(s,e,n,i,o){s.fu=(E,T,M)=>async function(F,H,le,ae){let ie=H.view.tu(le);ie.Cs&&(ie=await mb(F.localStore,H.query,!1).then(({documents:C})=>H.view.tu(C,ie)));const Y=ae&&ae.targetChanges.get(H.targetId),oe=ae&&ae.targetMismatches.get(H.targetId)!=null,K=H.view.applyChanges(ie,F.isPrimaryClient,Y,oe);return wb(F,H.targetId,K.ou),K.snapshot}(s,E,T,M);const c=await mb(s.localStore,e,!0),h=new V2(e,c.$s),p=h.tu(c.documents),g=Dc.createSynthesizedTargetChangeForCurrentChange(n,i&&s.onlineState!=="Offline",o),y=h.applyChanges(p,s.isPrimaryClient,g);wb(s,n,y.ou);const _=new L2(e,n,h);return s.hu.set(e,_),s.Pu.has(n)?s.Pu.get(n).push(e):s.Pu.set(n,[e]),y.snapshot}async function F2(s,e,n){const i=Re(s),o=i.hu.get(e),c=i.Pu.get(o.targetId);if(c.length>1)return i.Pu.set(o.targetId,c.filter(h=>!ch(h,e))),void i.hu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await mp(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),n&&sg(i.remoteStore,o.targetId),yp(i,o.targetId)}).catch(Oo)):(yp(i,o.targetId),await mp(i.localStore,o.targetId,!0))}async function G2(s,e){const n=Re(s),i=n.hu.get(e),o=n.Pu.get(i.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),sg(n.remoteStore,i.targetId))}async function Q2(s,e,n){const i=J2(s);try{const o=await function(h,p){const g=Re(h),y=jt.now(),_=p.reduce((M,L)=>M.add(L.key),Ue());let E,T;return g.persistence.runTransaction("Locally write mutations","readwrite",M=>{let L=ds(),F=Ue();return g.Bs.getEntries(M,_).next(H=>{L=H,L.forEach((le,ae)=>{ae.isValidDocument()||(F=F.add(le))})}).next(()=>g.localDocuments.getOverlayedDocuments(M,L)).next(H=>{E=H;const le=[];for(const ae of p){const ie=uI(ae,E.get(ae.key).overlayedDocument);ie!=null&&le.push(new di(ae.key,ie,mE(ie.value.mapValue),Xt.exists(!0)))}return g.mutationQueue.addMutationBatch(M,y,le,p)}).next(H=>{T=H;const le=H.applyToLocalDocumentSet(E,F);return g.documentOverlayCache.saveOverlays(M,H.batchId,le)})}).then(()=>({batchId:T.batchId,changes:SE(E)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(h,p,g){let y=h.Au[h.currentUser.toKey()];y||(y=new dt(je)),y=y.insert(p,g),h.Au[h.currentUser.toKey()]=y}(i,o.batchId,n),await jc(i,o.changes),await yh(i.remoteStore)}catch(o){const c=cg(o,"Failed to persist write");n.reject(c)}}async function uT(s,e){const n=Re(s);try{const i=await i2(n.localStore,e);e.targetChanges.forEach((o,c)=>{const h=n.Eu.get(c);h&&(Ge(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.cu=!0:o.modifiedDocuments.size>0?Ge(h.cu,14607):o.removedDocuments.size>0&&(Ge(h.cu,42227),h.cu=!1))}),await jc(n,i,e)}catch(i){await Oo(i)}}function Tb(s,e,n){const i=Re(s);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const o=[];i.hu.forEach((c,h)=>{const p=h.view.Fa(e);p.snapshot&&o.push(p.snapshot)}),function(h,p){const g=Re(h);g.onlineState=p;let y=!1;g.queries.forEach((_,E)=>{for(const T of E.Sa)T.Fa(p)&&(y=!0)}),y&&ug(g)}(i.eventManager,e),o.length&&i.lu.Y_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function Y2(s,e,n){const i=Re(s);i.sharedClientState.updateQueryState(e,"rejected",n);const o=i.Eu.get(e),c=o&&o.key;if(c){let h=new dt(_e.comparator);h=h.insert(c,qt.newNoDocument(c,we.min()));const p=Ue().add(c),g=new mh(we.min(),new Map,new dt(je),h,p);await uT(i,g),i.Iu=i.Iu.remove(c),i.Eu.delete(e),hg(i)}else await mp(i.localStore,e,!1).then(()=>yp(i,e,n)).catch(Oo)}async function K2(s,e){const n=Re(s),i=e.batch.batchId;try{const o=await s2(n.localStore,e);hT(n,i,null),dT(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await jc(n,o)}catch(o){await Oo(o)}}async function $2(s,e,n){const i=Re(s);try{const o=await function(h,p){const g=Re(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let _;return g.mutationQueue.lookupMutationBatch(y,p).next(E=>(Ge(E!==null,37113),_=E.keys(),g.mutationQueue.removeMutationBatch(y,E))).next(()=>g.mutationQueue.performConsistencyCheck(y)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(y,_,p)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,_)).next(()=>g.localDocuments.getDocuments(y,_))})}(i.localStore,e);hT(i,e,n),dT(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await jc(i,o)}catch(o){await Oo(o)}}function dT(s,e){(s.Ru.get(e)||[]).forEach(n=>{n.resolve()}),s.Ru.delete(e)}function hT(s,e,n){const i=Re(s);let o=i.Au[i.currentUser.toKey()];if(o){const c=o.get(e);c&&(n?c.reject(n):c.resolve(),o=o.remove(e)),i.Au[i.currentUser.toKey()]=o}}function yp(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const i of s.Pu.get(e))s.hu.delete(i),n&&s.lu.gu(i,n);s.Pu.delete(e),s.isPrimaryClient&&s.du.Hr(e).forEach(i=>{s.du.containsKey(i)||fT(s,i)})}function fT(s,e){s.Tu.delete(e.path.canonicalString());const n=s.Iu.get(e);n!==null&&(sg(s.remoteStore,n),s.Iu=s.Iu.remove(e),s.Eu.delete(n),hg(s))}function wb(s,e,n){for(const i of n)i instanceof oT?(s.du.addReference(i.key,e),X2(s,i)):i instanceof lT?(fe(dg,"Document no longer in limbo: "+i.key),s.du.removeReference(i.key,e),s.du.containsKey(i.key)||fT(s,i.key)):be(19791,{pu:i})}function X2(s,e){const n=e.key,i=n.path.canonicalString();s.Iu.get(n)||s.Tu.has(i)||(fe(dg,"New document in limbo: "+n),s.Tu.add(i),hg(s))}function hg(s){for(;s.Tu.size>0&&s.Iu.size<s.maxConcurrentLimboResolutions;){const e=s.Tu.values().next().value;s.Tu.delete(e);const n=new _e(it.fromString(e)),i=s.Vu.next();s.Eu.set(i,new U2(n)),s.Iu=s.Iu.insert(n,i),ZE(s.remoteStore,new Xs(Rr(Kp(n.path)),i,"TargetPurposeLimboResolution",oh.le))}}async function jc(s,e,n){const i=Re(s),o=[],c=[],h=[];i.hu.isEmpty()||(i.hu.forEach((p,g)=>{h.push(i.fu(g,e,n).then(y=>{var _;if((y||n)&&i.isPrimaryClient){const E=y?!y.fromCache:(_=n==null?void 0:n.targetChanges.get(g.targetId))===null||_===void 0?void 0:_.current;i.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(y){o.push(y);const E=tg.Rs(g.targetId,y);c.push(E)}}))}),await Promise.all(h),i.lu.Y_(o),await async function(g,y){const _=Re(g);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>te.forEach(y,T=>te.forEach(T.ds,M=>_.persistence.referenceDelegate.addReference(E,T.targetId,M)).next(()=>te.forEach(T.As,M=>_.persistence.referenceDelegate.removeReference(E,T.targetId,M)))))}catch(E){if(!jo(E))throw E;fe(ng,"Failed to update sequence numbers: "+E)}for(const E of y){const T=E.targetId;if(!E.fromCache){const M=_.xs.get(T),L=M.snapshotVersion,F=M.withLastLimboFreeSnapshotVersion(L);_.xs=_.xs.insert(T,F)}}}(i.localStore,c))}async function W2(s,e){const n=Re(s);if(!n.currentUser.isEqual(e)){fe(dg,"User change. New user:",e.toKey());const i=await $E(n.localStore,e);n.currentUser=e,function(c,h){c.Ru.forEach(p=>{p.forEach(g=>{g.reject(new he(J.CANCELLED,h))})}),c.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await jc(n,i.ks)}}function Z2(s,e){const n=Re(s),i=n.Eu.get(e);if(i&&i.cu)return Ue().add(i.key);{let o=Ue();const c=n.Pu.get(e);if(!c)return o;for(const h of c){const p=n.hu.get(h);o=o.unionWith(p.view.eu)}return o}}function mT(s){const e=Re(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=uT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Z2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Y2.bind(null,e),e.lu.Y_=k2.bind(null,e.eventManager),e.lu.gu=P2.bind(null,e.eventManager),e}function J2(s){const e=Re(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=K2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$2.bind(null,e),e}class $d{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ph(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return r2(this.persistence,new e2,e.initialUser,this.serializer)}Su(e){return new KE(eg.fi,this.serializer)}bu(e){return new u2}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$d.provider={build:()=>new $d};class eD extends $d{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){Ge(this.persistence.referenceDelegate instanceof Yd,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new UI(i,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new KE(i=>Yd.fi(i,n),this.serializer)}}class vp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Tb(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=W2.bind(null,this.syncEngine),await O2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new M2}()}createDatastore(e){const n=ph(e.databaseInfo.databaseId),i=function(c){return new p2(c)}(e.databaseInfo);return function(c,h,p,g){return new _2(c,h,p,g)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,o,c,h,p){return new x2(i,o,c,h,p)}(this.localStore,this.datastore,e.asyncQueue,n=>Tb(this.syncEngine,n,0),function(){return yb.C()?new yb:new d2}())}createSyncEngine(e,n){return function(o,c,h,p,g,y,_){const E=new z2(o,c,h,p,g,y);return _&&(E.mu=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const c=Re(o);fe(ra,"RemoteStore shutting down."),c.da.add(5),await Oc(c),c.Ra.shutdown(),c.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}vp.provider={build:()=>new vp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):us("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new he(J.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(o,c){const h=Re(o),p={documents:c.map(E=>Qd(h.serializer,E))},g=await h.Yo("BatchGetDocuments",h.serializer.databaseId,it.emptyPath(),p,c.length),y=new Map;g.forEach(E=>{const T=EI(h.serializer,E);y.set(T.key.toString(),T)});const _=[];return c.forEach(E=>{const T=y.get(E.toString());Ge(!!T,55234,{key:E}),_.push(T)}),_}(this.datastore,e);return n.forEach(i=>this.recordVersion(i)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastTransactionError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new fh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,i)=>{const o=_e.fromPath(i);this.mutations.push(new ME(o,this.precondition(o)))}),await async function(i,o){const c=Re(i),h={writes:o.map(p=>HE(c.serializer,p))};await c.zo("Commit",c.serializer.databaseId,it.emptyPath(),h)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw be(50498,{Uu:e.constructor.name});n=we.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!n.isEqual(i))throw new he(J.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(we.min())?Xt.exists(!1):Xt.updateTime(n):Xt.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(we.min()))throw new he(J.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Xt.updateTime(n)}return Xt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e,n,i,o,c){this.asyncQueue=e,this.datastore=n,this.options=i,this.updateFunction=o,this.deferred=c,this.Ku=i.maxAttempts,this.x_=new rg(this.asyncQueue,"transaction_retry")}Wu(){this.Ku-=1,this.Gu()}Gu(){this.x_.y_(async()=>{const e=new tD(this.datastore),n=this.zu(e);n&&n.then(i=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(i)}).catch(o=>{this.ju(o)}))}).catch(i=>{this.ju(i)})})}zu(e){try{const n=this.updateFunction(e);return!Cc(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}ju(e){this.Ku>0&&this.Hu(e)?(this.Ku-=1,this.asyncQueue.enqueueAndForget(()=>(this.Gu(),Promise.resolve()))):this.deferred.reject(e)}Hu(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!kE(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const li="FirestoreClient";class rD{constructor(e,n,i,o,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=o,this.user=nn.UNAUTHENTICATED,this.clientId=sE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(i,async h=>{fe(li,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(i,h=>(fe(li,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=cg(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Hm(s,e){s.asyncQueue.verifyOperationInProgress(),fe(li,"Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let i=n.initialUser;s.setCredentialChangeListener(async o=>{i.isEqual(o)||(await $E(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}async function Sb(s,e){s.asyncQueue.verifyOperationInProgress();const n=await sD(s);fe(li,"Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener(i=>_b(e.remoteStore,i)),s.setAppCheckTokenChangeListener((i,o)=>_b(e.remoteStore,o)),s._onlineComponents=e}async function sD(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){fe(li,"Using user provided OfflineComponentProvider");try{await Hm(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;bo("Error using user provided cache. Falling back to memory cache: "+n),await Hm(s,new $d)}}else fe(li,"Using default OfflineComponentProvider"),await Hm(s,new eD(void 0));return s._offlineComponents}async function fg(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(fe(li,"Using user provided OnlineComponentProvider"),await Sb(s,s._uninitializedComponentsProvider._online)):(fe(li,"Using default OnlineComponentProvider"),await Sb(s,new vp))),s._onlineComponents}function iD(s){return fg(s).then(e=>e.syncEngine)}function aD(s){return fg(s).then(e=>e.datastore)}async function gT(s){const e=await fg(s),n=e.eventManager;return n.onListen=q2.bind(null,e.syncEngine),n.onUnlisten=F2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=B2.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=G2.bind(null,e.syncEngine),n}function oD(s,e,n={}){const i=new Ar;return s.asyncQueue.enqueueAndForget(async()=>function(c,h,p,g,y){const _=new pT({next:T=>{_.xu(),h.enqueueAndForget(()=>iT(c,E));const M=T.docs.has(p);!M&&T.fromCache?y.reject(new he(J.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&T.fromCache&&g&&g.source==="server"?y.reject(new he(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(T)},error:T=>y.reject(T)}),E=new aT(Kp(p.path),_,{includeMetadataChanges:!0,Qa:!0});return sT(c,E)}(await gT(s),s.asyncQueue,e,n,i)),i.promise}function lD(s,e,n={}){const i=new Ar;return s.asyncQueue.enqueueAndForget(async()=>function(c,h,p,g,y){const _=new pT({next:T=>{_.xu(),h.enqueueAndForget(()=>iT(c,E)),T.fromCache&&g.source==="server"?y.reject(new he(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(T)},error:T=>y.reject(T)}),E=new aT(p,_,{includeMetadataChanges:!0,Qa:!0});return sT(c,E)}(await gT(s),s.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yT(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vT(s,e,n){if(!n)throw new he(J.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function cD(s,e,n,i){if(e===!0&&i===!0)throw new he(J.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function Rb(s){if(!_e.isDocumentKey(s))throw new he(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Nb(s){if(_e.isDocumentKey(s))throw new he(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function vh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":be(12329,{type:typeof s})}function $n(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new he(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=vh(s);throw new he(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T="firestore.googleapis.com",Cb=!0;class Ib{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new he(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_T,this.ssl=Cb}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Cb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=YE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<VI)throw new he(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}cD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yT((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new he(J.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new he(J.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new he(J.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _h{constructor(e,n,i,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ib({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ib(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new pC;switch(i.type){case"firstParty":return new _C(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new he(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=Ab.get(n);i&&(fe("ComponentProvider","Removing Datastore"),Ab.delete(n),i.terminate())}(this),Promise.resolve()}}function uD(s,e,n,i={}){var o;s=$n(s,_h);const c=No(e),h=s._getSettings(),p=Object.assign(Object.assign({},h),{emulatorOptions:s._getEmulatorOptions()}),g=`${e}:${n}`;c&&(ox(`https://${g}`),lx("Firestore",!0)),h.host!==_T&&h.host!==g&&bo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y=Object.assign(Object.assign({},h),{host:g,ssl:c,emulatorOptions:i});if(!Zi(y,p)&&(s._setSettings(y),i.mockUserToken)){let _,E;if(typeof i.mockUserToken=="string")_=i.mockUserToken,E=nn.MOCK_USER;else{_=TS(i.mockUserToken,(o=s._app)===null||o===void 0?void 0:o.options.projectId);const T=i.mockUserToken.sub||i.mockUserToken.user_id;if(!T)throw new he(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new nn(T)}s._authCredentials=new gC(new nE(_,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new la(this.firestore,e,this._query)}}class rn{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ti(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new rn(this.firestore,e,this._key)}}class ti extends la{constructor(e,n,i){super(e,n,Kp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new rn(this.firestore,null,new _e(e))}withConverter(e){return new ti(this.firestore,e,this._path)}}function po(s,e,...n){if(s=_t(s),vT("collection","path",e),s instanceof _h){const i=it.fromString(e,...n);return Nb(i),new ti(s,null,i)}{if(!(s instanceof rn||s instanceof ti))throw new he(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=s._path.child(it.fromString(e,...n));return Nb(i),new ti(s.firestore,null,i)}}function ni(s,e,...n){if(s=_t(s),arguments.length===1&&(e=sE.newId()),vT("doc","path",e),s instanceof _h){const i=it.fromString(e,...n);return Rb(i),new rn(s,null,new _e(i))}{if(!(s instanceof rn||s instanceof ti))throw new he(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=s._path.child(it.fromString(e,...n));return Rb(i),new rn(s.firestore,s instanceof ti?s.converter:null,new _e(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db="AsyncQueue";class Ob{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new rg(this,"async_queue_retry"),this.rc=()=>{const i=Bm();i&&fe(Db,"Visibility state changed to "+i.visibilityState),this.x_.b_()},this.sc=e;const n=Bm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=Bm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new Ar;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!jo(e))throw e;fe(Db,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(i=>{throw this.Xu=i,this.ec=!1,us("INTERNAL UNHANDLED ERROR: ",jb(i)),i}).then(i=>(this.ec=!1,i))));return this.sc=n,n}enqueueAfterDelay(e,n,i){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const o=lg.createAndSchedule(this,e,n,i,c=>this.uc(c));return this.Zu.push(o),o}oc(){this.Xu&&be(47125,{cc:jb(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function jb(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class hi extends _h{constructor(e,n,i,o){super(e,n,i,o),this.type="firestore",this._queue=new Ob,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ob(e),this._firestoreClient=void 0,await e}}}function dD(s,e){const n=typeof s=="object"?s:hx(),i=typeof s=="string"?s:qd,o=Op(n,"firestore").getImmediate({identifier:i});if(!o._initialized){const c=xS("firestore");c&&uD(o,...c)}return o}function bh(s){if(s._terminated)throw new he(J.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||hD(s),s._firestoreClient}function hD(s){var e,n,i;const o=s._freezeSettings(),c=function(p,g,y,_){return new MC(p,g,y,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,yT(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)}(s._databaseId,((e=s._app)===null||e===void 0?void 0:e.options.appId)||"",s._persistenceKey,o);s._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(s._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),s._firestoreClient=new rD(s._authCredentials,s._appCheckCredentials,s._queue,c,s._componentsProvider&&function(p){const g=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(g),_online:g}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new sa(Wt.fromBase64String(e))}catch(n){throw new he(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new sa(Wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let c=0;c<i.length;++c)if(i[c]!==o[c])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD=/^__.*__$/;class mD{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new di(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ic(e,this.data,n,this.fieldTransforms)}}class bT{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new di(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function xT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be(40011,{Ic:s})}}class gg{constructor(e,n,i,o,c,h){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=o,c===void 0&&this.Ec(),this.fieldTransforms=c||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new gg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.dc({path:i,Rc:!1});return o.Vc(e),o}mc(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.dc({path:i,Rc:!1});return o.Ec(),o}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Xd(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(xT(this.Ic)&&fD.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class pD{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||ph(e)}bc(e,n,i,o=!1){return new gg({Ic:e,methodName:n,wc:i,path:$t.emptyPath(),Rc:!1,yc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function kc(s){const e=s._freezeSettings(),n=ph(s._databaseId);return new pD(s._databaseId,!!e.ignoreUndefinedProperties,n)}function yg(s,e,n,i,o,c={}){const h=s.bc(c.merge||c.mergeFields?2:0,e,n,o);_g("Data must be an object, but it was:",h,i);const p=wT(i,h);let g,y;if(c.merge)g=new On(h.fieldMask),y=h.fieldTransforms;else if(c.mergeFields){const _=[];for(const E of c.mergeFields){const T=_p(e,E,n);if(!h.contains(T))throw new he(J.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);AT(_,T)||_.push(T)}g=new On(_),y=h.fieldTransforms.filter(E=>g.covers(E.field))}else g=null,y=h.fieldTransforms;return new mD(new hn(p),g,y)}class Eh extends xh{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Eh}}class vg extends xh{_toFieldTransform(e){return new aI(e.path,new vc)}isEqual(e){return e instanceof vg}}function ET(s,e,n,i){const o=s.bc(1,e,n);_g("Data must be an object, but it was:",o,i);const c=[],h=hn.empty();ui(i,(g,y)=>{const _=bg(e,g,n);y=_t(y);const E=o.mc(_);if(y instanceof Eh)c.push(_);else{const T=Pc(y,E);T!=null&&(c.push(_),h.set(_,T))}});const p=new On(c);return new bT(h,p,o.fieldTransforms)}function TT(s,e,n,i,o,c){const h=s.bc(1,e,n),p=[_p(e,i,n)],g=[o];if(c.length%2!=0)throw new he(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<c.length;T+=2)p.push(_p(e,c[T])),g.push(c[T+1]);const y=[],_=hn.empty();for(let T=p.length-1;T>=0;--T)if(!AT(y,p[T])){const M=p[T];let L=g[T];L=_t(L);const F=h.mc(M);if(L instanceof Eh)y.push(M);else{const H=Pc(L,F);H!=null&&(y.push(M),_.set(M,H))}}const E=new On(y);return new bT(_,E,h.fieldTransforms)}function gD(s,e,n,i=!1){return Pc(n,s.bc(i?4:3,e))}function Pc(s,e){if(ST(s=_t(s)))return _g("Unsupported field value:",e,s),wT(s,e);if(s instanceof xh)return function(i,o){if(!xT(o.Ic))throw o.gc(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.gc(`${i._methodName}() is not currently supported inside arrays`);const c=i._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(i,o){const c=[];let h=0;for(const p of i){let g=Pc(p,o.fc(h));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),h++}return{arrayValue:{values:c}}}(s,e)}return function(i,o){if((i=_t(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return rI(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const c=jt.fromDate(i);return{timestampValue:Gd(o.serializer,c)}}if(i instanceof jt){const c=new jt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Gd(o.serializer,c)}}if(i instanceof mg)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof sa)return{bytesValue:UE(o.serializer,i._byteString)};if(i instanceof rn){const c=o.databaseId,h=i.firestore._databaseId;if(!h.isEqual(c))throw o.gc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Zp(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof pg)return function(h,p){return{mapValue:{fields:{[hE]:{stringValue:fE},[Bd]:{arrayValue:{values:h.toArray().map(y=>{if(typeof y!="number")throw p.gc("VectorValues must only contain numeric values.");return $p(p.serializer,y)})}}}}}}(i,o);throw o.gc(`Unsupported field value: ${vh(i)}`)}(s,e)}function wT(s,e){const n={};return aE(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ui(s,(i,o)=>{const c=Pc(o,e.Ac(i));c!=null&&(n[i]=c)}),{mapValue:{fields:n}}}function ST(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof jt||s instanceof mg||s instanceof sa||s instanceof rn||s instanceof xh||s instanceof pg)}function _g(s,e,n){if(!ST(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const i=vh(n);throw i==="an object"?e.gc(s+" a custom object"):e.gc(s+" "+i)}}function _p(s,e,n){if((e=_t(e))instanceof Mc)return e._internalPath;if(typeof e=="string")return bg(s,e);throw Xd("Field path arguments must be of type string or ",s,!1,void 0,n)}const yD=new RegExp("[~\\*/\\[\\]]");function bg(s,e,n){if(e.search(yD)>=0)throw Xd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new Mc(...e.split("."))._internalPath}catch{throw Xd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function Xd(s,e,n,i,o){const c=i&&!i.isEmpty(),h=o!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(c||h)&&(g+=" (found",c&&(g+=` in field ${i}`),h&&(g+=` in document ${o}`),g+=")"),new he(J.INVALID_ARGUMENT,p+s+g)}function AT(s,e){return s.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(e,n,i,o,c){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new vD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(xg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class vD extends Wd{data(){return super.data()}}function xg(s,e){return typeof e=="string"?bg(s,e):e instanceof Mc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _D(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new he(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Eg{}class RT extends Eg{}function bD(s,e,...n){let i=[];e instanceof Eg&&i.push(e),i=i.concat(n),function(c){const h=c.filter(g=>g instanceof wg).length,p=c.filter(g=>g instanceof Tg).length;if(h>1||h>0&&p>0)throw new he(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const o of i)s=o._apply(s);return s}class Tg extends RT{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Tg(e,n,i)}_apply(e){const n=this._parse(e);return NT(e._query,n),new la(e.firestore,e.converter,cp(e._query,n))}_parse(e){const n=kc(e.firestore);return function(c,h,p,g,y,_,E){let T;if(y.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new he(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){kb(E,_);const L=[];for(const F of E)L.push(Mb(g,c,F));T={arrayValue:{values:L}}}else T=Mb(g,c,E)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||kb(E,_),T=gD(p,h,E,_==="in"||_==="not-in");return St.create(y,_,T)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class wg extends Eg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new wg(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:ir.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,c){let h=o;const p=c.getFlattenedFilters();for(const g of p)NT(h,g),h=cp(h,g)}(e._query,n),new la(e.firestore,e.converter,cp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Sg extends RT{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Sg(e,n)}_apply(e){const n=function(o,c,h){if(o.startAt!==null)throw new he(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new he(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new yc(c,h)}(e._query,this._field,this._direction);return new la(e.firestore,e.converter,function(o,c){const h=o.explicitOrderBy.concat([c]);return new Mo(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}function xD(s,e="asc"){const n=e,i=xg("orderBy",s);return Sg._create(i,n)}function Mb(s,e,n){if(typeof(n=_t(n))=="string"){if(n==="")throw new he(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!xE(e)&&n.indexOf("/")!==-1)throw new he(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(it.fromString(n));if(!_e.isDocumentKey(i))throw new he(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return $_(s,new _e(i))}if(n instanceof rn)return $_(s,n._key);throw new he(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vh(n)}.`)}function kb(s,e){if(!Array.isArray(s)||s.length===0)throw new he(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function NT(s,e){const n=function(o,c){for(const h of o)for(const p of h.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null}(s.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new he(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class CT{convertValue(e,n="none"){switch(ai(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ii(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw be(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return ui(e,(o,c)=>{i[o]=this.convertValue(c,n)}),i}convertVectorValue(e){var n,i,o;const c=(o=(i=(n=e.fields)===null||n===void 0?void 0:n[Bd].arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(h=>vt(h.doubleValue));return new pg(c)}convertGeoPoint(e){return new mg(vt(e.latitude),vt(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=lh(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(mc(e));default:return null}}convertTimestamp(e){const n=si(e);return new jt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=it.fromString(e);Ge(QE(i),9688,{name:e});const o=new pc(i.get(1),i.get(3)),c=new _e(i.popFirst(5));return o.isEqual(n)||us(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ag(s,e,n){let i;return i=s?n&&(n.merge||n.mergeFields)?s.toFirestore(e,n):s.toFirestore(e):e,i}class ED extends CT{constructor(e){super(),this.firestore=e}convertBytes(e){return new sa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new rn(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Rg extends Wd{constructor(e,n,i,o,c,h){super(e,n,i,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Nd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(xg("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class Nd extends Rg{data(e={}){return super.data(e)}}class TD{constructor(e,n,i,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new co(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Nd(this._firestore,this._userDataWriter,i.key,i,new co(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(p=>{const g=new Nd(o._firestore,o._userDataWriter,p.doc.key,p.doc,new co(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(p=>c||p.type!==3).map(p=>{const g=new Nd(o._firestore,o._userDataWriter,p.doc.key,p.doc,new co(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,_=-1;return p.type!==0&&(y=h.indexOf(p.doc.key),h=h.delete(p.doc.key)),p.type!==1&&(h=h.add(p.doc),_=h.indexOf(p.doc.key)),{type:wD(p.type),doc:g,oldIndex:y,newIndex:_}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function wD(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be(61501,{type:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ng(s){s=$n(s,rn);const e=$n(s.firestore,hi);return oD(bh(e),s._key).then(n=>RD(e,s,n))}class Cg extends CT{constructor(e){super(),this.firestore=e}convertBytes(e){return new sa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new rn(this.firestore,null,n)}}function Ig(s){s=$n(s,la);const e=$n(s.firestore,hi),n=bh(e),i=new Cg(e);return _D(s._query),lD(n,s._query).then(o=>new TD(e,i,s,o))}function IT(s,e,n){s=$n(s,rn);const i=$n(s.firestore,hi),o=Ag(s.converter,e,n);return Th(i,[yg(kc(i),"setDoc",s._key,o,s.converter!==null,n).toMutation(s._key,Xt.none())])}function SD(s,e,n,...i){s=$n(s,rn);const o=$n(s.firestore,hi),c=kc(o);let h;return h=typeof(e=_t(e))=="string"||e instanceof Mc?TT(c,"updateDoc",s._key,e,n,i):ET(c,"updateDoc",s._key,e),Th(o,[h.toMutation(s._key,Xt.exists(!0))])}function AD(s){return Th($n(s.firestore,hi),[new fh(s._key,Xt.none())])}function Cd(s,e){const n=$n(s.firestore,hi),i=ni(s),o=Ag(s.converter,e);return Th(n,[yg(kc(s.firestore),"addDoc",i._key,o,s.converter!==null,{}).toMutation(i._key,Xt.exists(!1))]).then(()=>i)}function Th(s,e){return function(i,o){const c=new Ar;return i.asyncQueue.enqueueAndForget(async()=>Q2(await iD(i),o,c)),c.promise}(bh(s),e)}function RD(s,e,n){const i=n.docs.get(e._key),o=new Cg(s);return new Rg(s,o,e._key,i,new co(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND={maxAttempts:5};function rc(s,e){if((s=_t(s)).firestore!==e)throw new he(J.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=kc(e)}get(e){const n=rc(e,this._firestore),i=new ED(this._firestore);return this._transaction.lookup([n._key]).then(o=>{if(!o||o.length!==1)return be(24041);const c=o[0];if(c.isFoundDocument())return new Wd(this._firestore,i,c.key,c,n.converter);if(c.isNoDocument())return new Wd(this._firestore,i,n._key,null,n.converter);throw be(18433,{doc:c})})}set(e,n,i){const o=rc(e,this._firestore),c=Ag(o.converter,n,i),h=yg(this._dataReader,"Transaction.set",o._key,c,o.converter!==null,i);return this._transaction.set(o._key,h),this}update(e,n,i,...o){const c=rc(e,this._firestore);let h;return h=typeof(n=_t(n))=="string"||n instanceof Mc?TT(this._dataReader,"Transaction.update",c._key,n,i,o):ET(this._dataReader,"Transaction.update",c._key,n),this._transaction.update(c._key,h),this}delete(e){const n=rc(e,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID extends CD{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=rc(e,this._firestore),i=new Cg(this._firestore);return super.get(e).then(o=>new Rg(this._firestore,i,n._key,o._document,new co(!1,!1),n.converter))}}function DD(s,e,n){s=$n(s,hi);const i=Object.assign(Object.assign({},ND),n);return function(c){if(c.maxAttempts<1)throw new he(J.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(c,h,p){const g=new Ar;return c.asyncQueue.enqueueAndForget(async()=>{const y=await aD(c);new nD(c.asyncQueue,y,p,h,g).Wu()}),g.promise}(bh(s),o=>e(new ID(s,o)),i)}function Fm(){return new vg("serverTimestamp")}(function(e,n=!0){(function(o){Do=o})(Co),vo(new Ji("firestore",(i,{instanceIdentifier:o,options:c})=>{const h=i.getProvider("app").getImmediate(),p=new hi(new yC(i.getProvider("auth-internal")),new bC(h,i.getProvider("app-check-internal")),function(y,_){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new he(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pc(y.options.projectId,_)}(h,o),h);return c=Object.assign({useFetchStreams:n},c),p._setSettings(c),p},"PUBLIC").setMultipleInstances(!0)),Js(V_,L_,e),Js(V_,L_,"esm2017")})();const OD={apiKey:"AIzaSyBQkOC91etsD-CmPhb8Tmo349odykZ-79k",authDomain:"iaprenderapp.firebaseapp.com",projectId:"iaprenderapp",storageBucket:"iaprenderapp.firebasestorage.app",messagingSenderId:"808330818308",appId:"1:808330818308:web:a7365b0f60a699206e1651"},DT=dx(OD),$l=fC(DT),yn=dD(DT);class jD{async signInWithEmail(e,n){try{return await XR($l,e,n)}catch(i){throw this.handleAuthError(i)}}async signUpWithEmail(e,n,i){try{const o=await $R($l,e,n);return await ZR(o.user,{displayName:i}),console.log("Attempting to create user document for:",o.user.uid,i),await this.createUserDocument(o.user,i),o}catch(o){throw this.handleAuthError(o)}}async signOut(){try{await nN($l)}catch(e){throw e}}getCurrentUser(){return $l.currentUser}onAuthStateChanged(e){return tN($l,e)}async createUserDocument(e,n){const i={uid:e.uid,email:e.email,displayName:n,role:"student",createdAt:new Date().toISOString(),lastLoginAt:new Date().toISOString()};await IT(ni(yn,"users",e.uid),i)}async saveUserProgress(e,n,i){const o=this.getCurrentUser();if(!o)throw new Error("User not authenticated");const c=ni(yn,"users",o.uid);await DD(yn,async h=>{const g=(await h.get(c)).data();if(g){const y=g.progress||{},_=y.completedGames||[],E=y.totalScore||0;i&&!_.includes(e)&&_.push(e);const T=E+n;h.update(c,{"progress.completedGames":_,"progress.totalScore":T,"progress.lastPlayed":Fm()})}})}async getUserProgress(){var i;const e=this.getCurrentUser();if(!e)throw new Error("User not authenticated");return((i=(await Ng(ni(yn,"users",e.uid))).data())==null?void 0:i.progress)||{}}async sendMessageToAssistant(e){try{const n=this.getCurrentUser();if(!n)throw new Error("User not authenticated");const i=po(yn,"chats",n.uid,"messages");await Cd(i,{text:e,sender:"user",timestamp:Fm(),userId:n.uid});const o=await this.generateAssistantResponse(e);return await Cd(i,{text:o,sender:"assistant",timestamp:Fm(),userId:n.uid}),o}catch(n){throw n}}async getChatHistory(){const e=this.getCurrentUser();if(!e)throw new Error("User not authenticated");const n=po(yn,"chats",e.uid,"messages"),i=bD(n,xD("timestamp","asc"));return(await Ig(i)).docs.map(c=>({id:c.id,...c.data()}))}async generateAssistantResponse(e){var n,i,o;try{const c=await fetch("https://api.groq.com/openai/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer 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"},body:JSON.stringify({model:"llama3-8b-8192",messages:[{role:"system",content:`Você é um assistente educacional especializado em ajudar estudantes brasileiros. 
              Responda sempre em português brasileiro de forma clara, educativa e encorajadora. 
              Foque em temas educacionais como matemática, português, ciências e tecnologia.
              Seja empático, motivador e use uma linguagem acessível para estudantes.
              Mantenha as respostas concisas mas informativas (máximo 200 palavras).
              Se o estudante demonstrar dificuldades emocionais, seja acolhedor e sugira buscar ajuda profissional quando necessário.`},{role:"user",content:e}],max_tokens:300,temperature:.7})});if(c.ok){const p=(o=(i=(n=(await c.json()).choices)==null?void 0:n[0])==null?void 0:i.message)==null?void 0:o.content;return p?p.trim():this.getFallbackResponse(e)}else return console.error("Erro na API Groq:",c.status,c.statusText),this.getFallbackResponse(e)}catch(c){return console.error("Erro ao conectar com API Groq:",c),this.getFallbackResponse(e)}}getFallbackResponse(e){const n=e.toLowerCase();return n.includes("ajuda")||n.includes("help")?"Olá! Sou seu assistente de aprendizado. Posso te ajudar com dúvidas sobre os jogos, explicar conceitos ou dar dicas para melhorar seu desempenho. O que você gostaria de saber?":n.includes("jogo")||n.includes("game")?"Temos vários jogos educativos disponíveis! Cada um foi desenvolvido para ensinar conceitos específicos de forma divertida. Qual jogo você está jogando ou gostaria de experimentar?":n.includes("progresso")||n.includes("progress")?"Seu progresso está sendo salvo automaticamente! Você pode ver suas conquistas, pontuação total e jogos completados na tela de perfil. Continue assim!":n.includes("dificuldade")||n.includes("difícil")?"Entendo que alguns jogos podem ser desafiadores. Lembre-se: o aprendizado acontece quando saímos da zona de conforto. Tente quebrar o problema em partes menores e não hesite em tentar novamente!":n.includes("matemática")||n.includes("math")?"A matemática é fundamental! Nossos jogos de matemática cobrem operações básicas, porcentagens e raciocínio lógico. Pratique regularmente e você verá uma melhora significativa!":n.includes("português")||n.includes("grammar")?"O português é uma língua rica e complexa. Nossos jogos focam em gramática, vocabulário e interpretação. A leitura regular também ajuda muito no aprendizado!":n.includes("pontuação")||n.includes("score")?"Para melhorar sua pontuação, foque na precisão primeiro, depois na velocidade. Cada resposta correta vale 10 pontos, e jogos perfeitos dão bônus extra!":n.includes("tecnologia")||n.includes("programação")||n.includes("código")?"A tecnologia está em constante evolução! Nossos módulos de tecnologia cobrem desde lógica de programação até desenvolvimento web e DevOps. Comece pelos fundamentos e vá progredindo gradualmente!":n.includes("python")?"Python é uma excelente linguagem para iniciantes! É fácil de aprender, tem sintaxe clara e é muito versátil. Nosso módulo de Python Fundamentals te ensina desde variáveis até estruturas de dados. Quer começar?":n.includes("javascript")||n.includes("js")?"JavaScript é a linguagem da web! Com ela você pode criar sites interativos, aplicações web e até mesmo aplicativos móveis. Nosso módulo de Frontend Development te ensina JavaScript moderno!":n.includes("banco de dados")||n.includes("sql")?"Bancos de dados são essenciais para armazenar e organizar informações! SQL é a linguagem padrão para trabalhar com dados. Nosso módulo te ensina desde consultas básicas até otimização de performance!":n.includes("cloud")||n.includes("nuvem")?"A computação em nuvem revolucionou a tecnologia! Nosso módulo de Cloud e DevOps te ensina sobre AWS, Docker, CI/CD e muito mais. É o futuro da infraestrutura!":"Interessante! Conte-me mais sobre isso. Estou aqui para te ajudar no seu processo de aprendizado. Há algo específico que você gostaria de saber ou discutir?"}async saveEmotionalSupportSession(e){const n=this.getCurrentUser();if(!n)throw new Error("User not authenticated");try{await Cd(po(yn,"emotionalSupport"),{userId:n.uid,...e,timestamp:new Date().toISOString()})}catch(i){console.error("Erro ao salvar sessão de suporte emocional:",i)}}generateEmotionalResponse(e,n){const i={ansioso:{message:"Entendo que você está se sentindo ansioso. A ansiedade é uma resposta natural do nosso corpo, mas podemos trabalhar juntos para gerenciá-la.",techniques:["Respiração profunda: Inspire por 4 segundos, segure por 4, expire por 6","Técnica 5-4-3-2-1: Identifique 5 coisas que vê, 4 que toca, 3 que ouve, 2 que cheira, 1 que saboreia","Mindfulness: Foque no momento presente, sem julgamentos"],resources:["Centro de Valorização da Vida (CVV): 188","CAPS (Centro de Atenção Psicossocial) da sua região","Aplicativo Sanvello para exercícios de ansiedade"]},triste:{message:"Sinto muito que você esteja passando por um momento difícil. A tristeza é uma emoção válida e importante. Vamos encontrar maneiras de cuidar de você.",techniques:["Permita-se sentir: Não reprima suas emoções, elas são válidas","Atividade física leve: Uma caminhada pode ajudar a liberar endorfinas","Conexão social: Converse com alguém de confiança","Autocuidado: Faça algo que normalmente te traz prazer"],resources:["Centro de Valorização da Vida (CVV): 188","Psicólogos online: Zenklub, Vittude","Grupos de apoio locais"]},estressado:{message:"O estresse pode ser muito desafiador. Vamos trabalhar em estratégias para reduzir essa sobrecarga e encontrar um equilíbrio.",techniques:["Organização: Faça uma lista de prioridades","Pausas regulares: Descanse a cada 25-30 minutos de atividade","Exercícios de relaxamento muscular progressivo","Estabeleça limites saudáveis"],resources:["Aplicativo Headspace para meditação","Técnicas de gestão de tempo (Pomodoro)","Suporte psicológico online"]},confuso:{message:"É normal se sentir confuso às vezes. Vamos organizar seus pensamentos e encontrar clareza juntos.",techniques:["Escreva seus pensamentos: Coloque no papel o que está sentindo","Converse com alguém de confiança","Divida problemas grandes em partes menores","Pratique a autocompaixão"],resources:["Orientação vocacional online","Psicólogos especializados em orientação","Grupos de apoio para jovens"]},raiva:{message:"A raiva é uma emoção natural, mas é importante expressá-la de forma saudável. Vamos trabalhar em estratégias para gerenciar esses sentimentos.",techniques:["Conte até 10 antes de reagir","Exercício físico para liberar a tensão","Identifique o que realmente está causando a raiva","Pratique comunicação assertiva"],resources:["Técnicas de comunicação não-violenta","Terapia cognitivo-comportamental","Grupos de controle da raiva"]}},o=i[e]||i.confuso;return n&&(n.includes("suicídio")||n.includes("morte")||n.includes("machucar"))?this.getEmergencyResponse():o}getEmergencyResponse(){return{message:"Percebo que você pode estar passando por um momento muito difícil. Sua vida é valiosa e existem pessoas treinadas para te ajudar agora mesmo.",isEmergency:!0,contacts:[{name:"Centro de Valorização da Vida (CVV)",phone:"188",description:"Prevenção do suicídio - 24h gratuito"},{name:"CAPS (Centro de Atenção Psicossocial)",phone:"Procure o mais próximo",description:"Atendimento psicológico gratuito"},{name:"SAMU",phone:"192",description:"Emergências médicas"},{name:"Polícia Militar",phone:"190",description:"Emergências gerais"}],message:"Sua vida tem valor. Existem pessoas treinadas para te ajudar neste momento difícil. Por favor, entre em contato com um dos serviços acima ou vá ao hospital mais próximo."}}handleAuthError(e){const n={"auth/user-not-found":"Usuário não encontrado. Verifique o email.","auth/wrong-password":"Senha incorreta.","auth/email-already-in-use":"Este email já está em uso.","auth/weak-password":"A senha é muito fraca.","auth/invalid-email":"Email inválido.","auth/too-many-requests":"Muitas tentativas. Tente novamente mais tarde."};return new Error(n[e.code]||"Erro de autenticação. Tente novamente.")}getAvailableGames(){return[{id:"quiz_matematica",title:"Quiz de Matemática",description:"Teste seus conhecimentos em matemática básica",category:"Matemática",difficulty:"Fácil",icon:"🧮",color:"#10B981",questions:[{question:"Quanto é 15 + 27?",options:["40","42","45","48"],correct:1},{question:"Qual é o resultado de 8 × 7?",options:["54","56","58","60"],correct:1},{question:"Quanto é 144 ÷ 12?",options:["10","11","12","13"],correct:2}]},{id:"quiz_portugues",title:"Quiz de Português",description:"Desafie-se com questões de gramática e interpretação",category:"Português",difficulty:"Médio",icon:"📚",color:"#3B82F6",questions:[{question:"Qual é o plural de 'cidadão'?",options:["cidadãos","cidadões","cidadães","cidadans"],correct:0},{question:"Qual palavra está corretamente acentuada?",options:["médico","medico","médíco","medicô"],correct:0},{question:"Qual é o sinônimo de 'feliz'?",options:["triste","alegre","bravo","cansado"],correct:1}]},{id:"quiz_ciencias",title:"Quiz de Ciências",description:"Explore o mundo da ciência com perguntas divertidas",category:"Ciências",difficulty:"Médio",icon:"🔬",color:"#EF4444",questions:[{question:"Qual é o planeta mais próximo do Sol?",options:["Vênus","Terra","Mercúrio","Marte"],correct:2},{question:"Quantos ossos tem o corpo humano adulto?",options:["206","208","210","212"],correct:0},{question:"Qual é a fórmula química da água?",options:["H2O","CO2","O2","H2SO4"],correct:0}]}]}}const ns=new jD,MD=async s=>{try{const e=await Ng(ni(yn,"users",s));return e.exists()?e.data():null}catch(e){throw e}},kD=async()=>{try{const s=po(yn,"users"),e=await Ig(s),n=[];for(const i of e.docs){const o=i.data(),c=await OT(o.uid);n.push({...o,progress:c})}return n}catch(s){throw s}},PD=async(s,e)=>{try{return(await Cd(po(yn,"tasks"),{...e,teacherUid:s,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()})).id}catch(n){throw n}},VD=async s=>{try{const e=po(yn,"tasks"),n=await Ig(e),i=[];return n.forEach(o=>{const c=o.data();c.teacherUid===s&&i.push({id:o.id,...c})}),i.sort((o,c)=>new Date(c.createdAt)-new Date(o.createdAt))}catch(e){throw e}},LD=async s=>{try{await AD(ni(yn,"tasks",s))}catch(e){throw e}},UD=async(s,e)=>{try{const n=ni(yn,"userProgress",s);await SD(n,{...e,lastUpdated:new Date().toISOString()}).catch(async()=>{await IT(n,{...e,createdAt:new Date().toISOString(),lastUpdated:new Date().toISOString()})})}catch(n){throw n}},OT=async s=>{try{const e=await Ng(ni(yn,"userProgress",s));return e.exists()?e.data():null}catch(e){throw e}},jT=V.createContext(),ca=()=>{const s=V.useContext(jT);if(s===void 0)throw new Error("useAuth must be used within an AuthProvider");return s},zD=({children:s})=>{const[e,n]=V.useState(null),[i,o]=V.useState(!0),[c,h]=V.useState({});V.useEffect(()=>ns.onAuthStateChanged(async L=>{n(L),L?await p():h({}),o(!1)}),[]);const p=async()=>{try{const M=await ns.getUserProgress();h(M)}catch(M){console.error("Error loading user progress:",M)}},T={user:e,loading:i,signIn:async(M,L)=>{try{o(!0),await ns.signInWithEmail(M,L)}catch(F){throw F}finally{o(!1)}},signUp:async(M,L,F)=>{try{o(!0),console.log("AuthContext: Attempting signUp for",M),await ns.signUpWithEmail(M,L,F),console.log("AuthContext: signUp successful for",M)}catch(H){throw console.error("AuthContext: signUp failed for",M,H),H}finally{o(!1)}},signOut:async()=>{try{o(!0),await ns.signOut()}catch(M){throw M}finally{o(!1)}},userProgress:c,refreshProgress:async()=>{await p()},isAuthenticated:!!e};return m.jsx(jT.Provider,{value:T,children:s})};function Pb(s,e){if(typeof s=="function")return s(e);s!=null&&(s.current=e)}function qD(...s){return e=>{let n=!1;const i=s.map(o=>{const c=Pb(o,e);return!n&&typeof c=="function"&&(n=!0),c});if(n)return()=>{for(let o=0;o<i.length;o++){const c=i[o];typeof c=="function"?c():Pb(s[o],null)}}}}function ar(...s){return V.useCallback(qD(...s),s)}function Zd(s){const e=BD(s),n=V.forwardRef((i,o)=>{const{children:c,...h}=i,p=V.Children.toArray(c),g=p.find(FD);if(g){const y=g.props.children,_=p.map(E=>E===g?V.Children.count(y)>1?V.Children.only(null):V.isValidElement(y)?y.props.children:null:E);return m.jsx(e,{...h,ref:o,children:V.isValidElement(y)?V.cloneElement(y,void 0,_):null})}return m.jsx(e,{...h,ref:o,children:c})});return n.displayName=`${s}.Slot`,n}var MT=Zd("Slot");function BD(s){const e=V.forwardRef((n,i)=>{const{children:o,...c}=n,h=V.isValidElement(o)?QD(o):void 0,p=ar(h,i);if(V.isValidElement(o)){const g=GD(c,o.props);return o.type!==V.Fragment&&(g.ref=p),V.cloneElement(o,g)}return V.Children.count(o)>1?V.Children.only(null):null});return e.displayName=`${s}.SlotClone`,e}var HD=Symbol("radix.slottable");function FD(s){return V.isValidElement(s)&&typeof s.type=="function"&&"__radixId"in s.type&&s.type.__radixId===HD}function GD(s,e){const n={...e};for(const i in e){const o=s[i],c=e[i];/^on[A-Z]/.test(i)?o&&c?n[i]=(...p)=>{const g=c(...p);return o(...p),g}:o&&(n[i]=o):i==="style"?n[i]={...o,...c}:i==="className"&&(n[i]=[o,c].filter(Boolean).join(" "))}return{...s,...n}}function QD(s){var i,o;let e=(i=Object.getOwnPropertyDescriptor(s.props,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?s.ref:(e=(o=Object.getOwnPropertyDescriptor(s,"ref"))==null?void 0:o.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?s.props.ref:s.props.ref||s.ref)}function kT(s){var e,n,i="";if(typeof s=="string"||typeof s=="number")i+=s;else if(typeof s=="object")if(Array.isArray(s)){var o=s.length;for(e=0;e<o;e++)s[e]&&(n=kT(s[e]))&&(i&&(i+=" "),i+=n)}else for(n in s)s[n]&&(i&&(i+=" "),i+=n);return i}function PT(){for(var s,e,n=0,i="",o=arguments.length;n<o;n++)(s=arguments[n])&&(e=kT(s))&&(i&&(i+=" "),i+=e);return i}const Vb=s=>typeof s=="boolean"?`${s}`:s===0?"0":s,Lb=PT,Dg=(s,e)=>n=>{var i;if((e==null?void 0:e.variants)==null)return Lb(s,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:o,defaultVariants:c}=e,h=Object.keys(o).map(y=>{const _=n==null?void 0:n[y],E=c==null?void 0:c[y];if(_===null)return null;const T=Vb(_)||Vb(E);return o[y][T]}),p=n&&Object.entries(n).reduce((y,_)=>{let[E,T]=_;return T===void 0||(y[E]=T),y},{}),g=e==null||(i=e.compoundVariants)===null||i===void 0?void 0:i.reduce((y,_)=>{let{class:E,className:T,...M}=_;return Object.entries(M).every(L=>{let[F,H]=L;return Array.isArray(H)?H.includes({...c,...p}[F]):{...c,...p}[F]===H})?[...y,E,T]:y},[]);return Lb(s,h,g,n==null?void 0:n.class,n==null?void 0:n.className)},Og="-",YD=s=>{const e=$D(s),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=s;return{getClassGroupId:h=>{const p=h.split(Og);return p[0]===""&&p.length!==1&&p.shift(),VT(p,e)||KD(h)},getConflictingClassGroupIds:(h,p)=>{const g=n[h]||[];return p&&i[h]?[...g,...i[h]]:g}}},VT=(s,e)=>{var h;if(s.length===0)return e.classGroupId;const n=s[0],i=e.nextPart.get(n),o=i?VT(s.slice(1),i):void 0;if(o)return o;if(e.validators.length===0)return;const c=s.join(Og);return(h=e.validators.find(({validator:p})=>p(c)))==null?void 0:h.classGroupId},Ub=/^\[(.+)\]$/,KD=s=>{if(Ub.test(s)){const e=Ub.exec(s)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},$D=s=>{const{theme:e,classGroups:n}=s,i={nextPart:new Map,validators:[]};for(const o in n)bp(n[o],i,o,e);return i},bp=(s,e,n,i)=>{s.forEach(o=>{if(typeof o=="string"){const c=o===""?e:zb(e,o);c.classGroupId=n;return}if(typeof o=="function"){if(XD(o)){bp(o(i),e,n,i);return}e.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([c,h])=>{bp(h,zb(e,c),n,i)})})},zb=(s,e)=>{let n=s;return e.split(Og).forEach(i=>{n.nextPart.has(i)||n.nextPart.set(i,{nextPart:new Map,validators:[]}),n=n.nextPart.get(i)}),n},XD=s=>s.isThemeGetter,WD=s=>{if(s<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,i=new Map;const o=(c,h)=>{n.set(c,h),e++,e>s&&(e=0,i=n,n=new Map)};return{get(c){let h=n.get(c);if(h!==void 0)return h;if((h=i.get(c))!==void 0)return o(c,h),h},set(c,h){n.has(c)?n.set(c,h):o(c,h)}}},xp="!",Ep=":",ZD=Ep.length,JD=s=>{const{prefix:e,experimentalParseClassName:n}=s;let i=o=>{const c=[];let h=0,p=0,g=0,y;for(let L=0;L<o.length;L++){let F=o[L];if(h===0&&p===0){if(F===Ep){c.push(o.slice(g,L)),g=L+ZD;continue}if(F==="/"){y=L;continue}}F==="["?h++:F==="]"?h--:F==="("?p++:F===")"&&p--}const _=c.length===0?o:o.substring(g),E=e4(_),T=E!==_,M=y&&y>g?y-g:void 0;return{modifiers:c,hasImportantModifier:T,baseClassName:E,maybePostfixModifierPosition:M}};if(e){const o=e+Ep,c=i;i=h=>h.startsWith(o)?c(h.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:h,maybePostfixModifierPosition:void 0}}if(n){const o=i;i=c=>n({className:c,parseClassName:o})}return i},e4=s=>s.endsWith(xp)?s.substring(0,s.length-1):s.startsWith(xp)?s.substring(1):s,t4=s=>{const e=Object.fromEntries(s.orderSensitiveModifiers.map(i=>[i,!0]));return i=>{if(i.length<=1)return i;const o=[];let c=[];return i.forEach(h=>{h[0]==="["||e[h]?(o.push(...c.sort(),h),c=[]):c.push(h)}),o.push(...c.sort()),o}},n4=s=>({cache:WD(s.cacheSize),parseClassName:JD(s),sortModifiers:t4(s),...YD(s)}),r4=/\s+/,s4=(s,e)=>{const{parseClassName:n,getClassGroupId:i,getConflictingClassGroupIds:o,sortModifiers:c}=e,h=[],p=s.trim().split(r4);let g="";for(let y=p.length-1;y>=0;y-=1){const _=p[y],{isExternal:E,modifiers:T,hasImportantModifier:M,baseClassName:L,maybePostfixModifierPosition:F}=n(_);if(E){g=_+(g.length>0?" "+g:g);continue}let H=!!F,le=i(H?L.substring(0,F):L);if(!le){if(!H){g=_+(g.length>0?" "+g:g);continue}if(le=i(L),!le){g=_+(g.length>0?" "+g:g);continue}H=!1}const ae=c(T).join(":"),ie=M?ae+xp:ae,Y=ie+le;if(h.includes(Y))continue;h.push(Y);const oe=o(le,H);for(let K=0;K<oe.length;++K){const C=oe[K];h.push(ie+C)}g=_+(g.length>0?" "+g:g)}return g};function i4(){let s=0,e,n,i="";for(;s<arguments.length;)(e=arguments[s++])&&(n=LT(e))&&(i&&(i+=" "),i+=n);return i}const LT=s=>{if(typeof s=="string")return s;let e,n="";for(let i=0;i<s.length;i++)s[i]&&(e=LT(s[i]))&&(n&&(n+=" "),n+=e);return n};function a4(s,...e){let n,i,o,c=h;function h(g){const y=e.reduce((_,E)=>E(_),s());return n=n4(y),i=n.cache.get,o=n.cache.set,c=p,p(g)}function p(g){const y=i(g);if(y)return y;const _=s4(g,n);return o(g,_),_}return function(){return c(i4.apply(null,arguments))}}const Dt=s=>{const e=n=>n[s]||[];return e.isThemeGetter=!0,e},UT=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,zT=/^\((?:(\w[\w-]*):)?(.+)\)$/i,o4=/^\d+\/\d+$/,l4=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,c4=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,u4=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,d4=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,h4=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,no=s=>o4.test(s),Oe=s=>!!s&&!Number.isNaN(Number(s)),Hs=s=>!!s&&Number.isInteger(Number(s)),Gm=s=>s.endsWith("%")&&Oe(s.slice(0,-1)),ts=s=>l4.test(s),f4=()=>!0,m4=s=>c4.test(s)&&!u4.test(s),qT=()=>!1,p4=s=>d4.test(s),g4=s=>h4.test(s),y4=s=>!ge(s)&&!ye(s),v4=s=>Po(s,FT,qT),ge=s=>UT.test(s),$i=s=>Po(s,GT,m4),Qm=s=>Po(s,T4,Oe),qb=s=>Po(s,BT,qT),_4=s=>Po(s,HT,g4),pd=s=>Po(s,QT,p4),ye=s=>zT.test(s),Xl=s=>Vo(s,GT),b4=s=>Vo(s,w4),Bb=s=>Vo(s,BT),x4=s=>Vo(s,FT),E4=s=>Vo(s,HT),gd=s=>Vo(s,QT,!0),Po=(s,e,n)=>{const i=UT.exec(s);return i?i[1]?e(i[1]):n(i[2]):!1},Vo=(s,e,n=!1)=>{const i=zT.exec(s);return i?i[1]?e(i[1]):n:!1},BT=s=>s==="position"||s==="percentage",HT=s=>s==="image"||s==="url",FT=s=>s==="length"||s==="size"||s==="bg-size",GT=s=>s==="length",T4=s=>s==="number",w4=s=>s==="family-name",QT=s=>s==="shadow",S4=()=>{const s=Dt("color"),e=Dt("font"),n=Dt("text"),i=Dt("font-weight"),o=Dt("tracking"),c=Dt("leading"),h=Dt("breakpoint"),p=Dt("container"),g=Dt("spacing"),y=Dt("radius"),_=Dt("shadow"),E=Dt("inset-shadow"),T=Dt("text-shadow"),M=Dt("drop-shadow"),L=Dt("blur"),F=Dt("perspective"),H=Dt("aspect"),le=Dt("ease"),ae=Dt("animate"),ie=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Y=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],oe=()=>[...Y(),ye,ge],K=()=>["auto","hidden","clip","visible","scroll"],C=()=>["auto","contain","none"],S=()=>[ye,ge,g],R=()=>[no,"full","auto",...S()],N=()=>[Hs,"none","subgrid",ye,ge],O=()=>["auto",{span:["full",Hs,ye,ge]},Hs,ye,ge],j=()=>[Hs,"auto",ye,ge],I=()=>["auto","min","max","fr",ye,ge],Qe=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Ie=()=>["start","end","center","stretch","center-safe","end-safe"],$=()=>["auto",...S()],ce=()=>[no,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...S()],se=()=>[s,ye,ge],ze=()=>[...Y(),Bb,qb,{position:[ye,ge]}],k=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ne=()=>["auto","cover","contain",x4,v4,{size:[ye,ge]}],de=()=>[Gm,Xl,$i],re=()=>["","none","full",y,ye,ge],me=()=>["",Oe,Xl,$i],Ne=()=>["solid","dashed","dotted","double"],Te=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ke=()=>[Oe,Gm,Bb,qb],Xe=()=>["","none",L,ye,ge],on=()=>["none",Oe,ye,ge],xn=()=>["none",Oe,ye,ge],En=()=>[Oe,ye,ge],Mn=()=>[no,"full",...S()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ts],breakpoint:[ts],color:[f4],container:[ts],"drop-shadow":[ts],ease:["in","out","in-out"],font:[y4],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ts],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ts],shadow:[ts],spacing:["px",Oe],text:[ts],"text-shadow":[ts],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",no,ge,ye,H]}],container:["container"],columns:[{columns:[Oe,ge,ye,p]}],"break-after":[{"break-after":ie()}],"break-before":[{"break-before":ie()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:oe()}],overflow:[{overflow:K()}],"overflow-x":[{"overflow-x":K()}],"overflow-y":[{"overflow-y":K()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:R()}],"inset-x":[{"inset-x":R()}],"inset-y":[{"inset-y":R()}],start:[{start:R()}],end:[{end:R()}],top:[{top:R()}],right:[{right:R()}],bottom:[{bottom:R()}],left:[{left:R()}],visibility:["visible","invisible","collapse"],z:[{z:[Hs,"auto",ye,ge]}],basis:[{basis:[no,"full","auto",p,...S()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Oe,no,"auto","initial","none",ge]}],grow:[{grow:["",Oe,ye,ge]}],shrink:[{shrink:["",Oe,ye,ge]}],order:[{order:[Hs,"first","last","none",ye,ge]}],"grid-cols":[{"grid-cols":N()}],"col-start-end":[{col:O()}],"col-start":[{"col-start":j()}],"col-end":[{"col-end":j()}],"grid-rows":[{"grid-rows":N()}],"row-start-end":[{row:O()}],"row-start":[{"row-start":j()}],"row-end":[{"row-end":j()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":I()}],"auto-rows":[{"auto-rows":I()}],gap:[{gap:S()}],"gap-x":[{"gap-x":S()}],"gap-y":[{"gap-y":S()}],"justify-content":[{justify:[...Qe(),"normal"]}],"justify-items":[{"justify-items":[...Ie(),"normal"]}],"justify-self":[{"justify-self":["auto",...Ie()]}],"align-content":[{content:["normal",...Qe()]}],"align-items":[{items:[...Ie(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Ie(),{baseline:["","last"]}]}],"place-content":[{"place-content":Qe()}],"place-items":[{"place-items":[...Ie(),"baseline"]}],"place-self":[{"place-self":["auto",...Ie()]}],p:[{p:S()}],px:[{px:S()}],py:[{py:S()}],ps:[{ps:S()}],pe:[{pe:S()}],pt:[{pt:S()}],pr:[{pr:S()}],pb:[{pb:S()}],pl:[{pl:S()}],m:[{m:$()}],mx:[{mx:$()}],my:[{my:$()}],ms:[{ms:$()}],me:[{me:$()}],mt:[{mt:$()}],mr:[{mr:$()}],mb:[{mb:$()}],ml:[{ml:$()}],"space-x":[{"space-x":S()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":S()}],"space-y-reverse":["space-y-reverse"],size:[{size:ce()}],w:[{w:[p,"screen",...ce()]}],"min-w":[{"min-w":[p,"screen","none",...ce()]}],"max-w":[{"max-w":[p,"screen","none","prose",{screen:[h]},...ce()]}],h:[{h:["screen","lh",...ce()]}],"min-h":[{"min-h":["screen","lh","none",...ce()]}],"max-h":[{"max-h":["screen","lh",...ce()]}],"font-size":[{text:["base",n,Xl,$i]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,ye,Qm]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Gm,ge]}],"font-family":[{font:[b4,ge,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,ye,ge]}],"line-clamp":[{"line-clamp":[Oe,"none",ye,Qm]}],leading:[{leading:[c,...S()]}],"list-image":[{"list-image":["none",ye,ge]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ye,ge]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:se()}],"text-color":[{text:se()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ne(),"wavy"]}],"text-decoration-thickness":[{decoration:[Oe,"from-font","auto",ye,$i]}],"text-decoration-color":[{decoration:se()}],"underline-offset":[{"underline-offset":[Oe,"auto",ye,ge]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ye,ge]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ye,ge]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ze()}],"bg-repeat":[{bg:k()}],"bg-size":[{bg:ne()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Hs,ye,ge],radial:["",ye,ge],conic:[Hs,ye,ge]},E4,_4]}],"bg-color":[{bg:se()}],"gradient-from-pos":[{from:de()}],"gradient-via-pos":[{via:de()}],"gradient-to-pos":[{to:de()}],"gradient-from":[{from:se()}],"gradient-via":[{via:se()}],"gradient-to":[{to:se()}],rounded:[{rounded:re()}],"rounded-s":[{"rounded-s":re()}],"rounded-e":[{"rounded-e":re()}],"rounded-t":[{"rounded-t":re()}],"rounded-r":[{"rounded-r":re()}],"rounded-b":[{"rounded-b":re()}],"rounded-l":[{"rounded-l":re()}],"rounded-ss":[{"rounded-ss":re()}],"rounded-se":[{"rounded-se":re()}],"rounded-ee":[{"rounded-ee":re()}],"rounded-es":[{"rounded-es":re()}],"rounded-tl":[{"rounded-tl":re()}],"rounded-tr":[{"rounded-tr":re()}],"rounded-br":[{"rounded-br":re()}],"rounded-bl":[{"rounded-bl":re()}],"border-w":[{border:me()}],"border-w-x":[{"border-x":me()}],"border-w-y":[{"border-y":me()}],"border-w-s":[{"border-s":me()}],"border-w-e":[{"border-e":me()}],"border-w-t":[{"border-t":me()}],"border-w-r":[{"border-r":me()}],"border-w-b":[{"border-b":me()}],"border-w-l":[{"border-l":me()}],"divide-x":[{"divide-x":me()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":me()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ne(),"hidden","none"]}],"divide-style":[{divide:[...Ne(),"hidden","none"]}],"border-color":[{border:se()}],"border-color-x":[{"border-x":se()}],"border-color-y":[{"border-y":se()}],"border-color-s":[{"border-s":se()}],"border-color-e":[{"border-e":se()}],"border-color-t":[{"border-t":se()}],"border-color-r":[{"border-r":se()}],"border-color-b":[{"border-b":se()}],"border-color-l":[{"border-l":se()}],"divide-color":[{divide:se()}],"outline-style":[{outline:[...Ne(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Oe,ye,ge]}],"outline-w":[{outline:["",Oe,Xl,$i]}],"outline-color":[{outline:se()}],shadow:[{shadow:["","none",_,gd,pd]}],"shadow-color":[{shadow:se()}],"inset-shadow":[{"inset-shadow":["none",E,gd,pd]}],"inset-shadow-color":[{"inset-shadow":se()}],"ring-w":[{ring:me()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:se()}],"ring-offset-w":[{"ring-offset":[Oe,$i]}],"ring-offset-color":[{"ring-offset":se()}],"inset-ring-w":[{"inset-ring":me()}],"inset-ring-color":[{"inset-ring":se()}],"text-shadow":[{"text-shadow":["none",T,gd,pd]}],"text-shadow-color":[{"text-shadow":se()}],opacity:[{opacity:[Oe,ye,ge]}],"mix-blend":[{"mix-blend":[...Te(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Te()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Oe]}],"mask-image-linear-from-pos":[{"mask-linear-from":ke()}],"mask-image-linear-to-pos":[{"mask-linear-to":ke()}],"mask-image-linear-from-color":[{"mask-linear-from":se()}],"mask-image-linear-to-color":[{"mask-linear-to":se()}],"mask-image-t-from-pos":[{"mask-t-from":ke()}],"mask-image-t-to-pos":[{"mask-t-to":ke()}],"mask-image-t-from-color":[{"mask-t-from":se()}],"mask-image-t-to-color":[{"mask-t-to":se()}],"mask-image-r-from-pos":[{"mask-r-from":ke()}],"mask-image-r-to-pos":[{"mask-r-to":ke()}],"mask-image-r-from-color":[{"mask-r-from":se()}],"mask-image-r-to-color":[{"mask-r-to":se()}],"mask-image-b-from-pos":[{"mask-b-from":ke()}],"mask-image-b-to-pos":[{"mask-b-to":ke()}],"mask-image-b-from-color":[{"mask-b-from":se()}],"mask-image-b-to-color":[{"mask-b-to":se()}],"mask-image-l-from-pos":[{"mask-l-from":ke()}],"mask-image-l-to-pos":[{"mask-l-to":ke()}],"mask-image-l-from-color":[{"mask-l-from":se()}],"mask-image-l-to-color":[{"mask-l-to":se()}],"mask-image-x-from-pos":[{"mask-x-from":ke()}],"mask-image-x-to-pos":[{"mask-x-to":ke()}],"mask-image-x-from-color":[{"mask-x-from":se()}],"mask-image-x-to-color":[{"mask-x-to":se()}],"mask-image-y-from-pos":[{"mask-y-from":ke()}],"mask-image-y-to-pos":[{"mask-y-to":ke()}],"mask-image-y-from-color":[{"mask-y-from":se()}],"mask-image-y-to-color":[{"mask-y-to":se()}],"mask-image-radial":[{"mask-radial":[ye,ge]}],"mask-image-radial-from-pos":[{"mask-radial-from":ke()}],"mask-image-radial-to-pos":[{"mask-radial-to":ke()}],"mask-image-radial-from-color":[{"mask-radial-from":se()}],"mask-image-radial-to-color":[{"mask-radial-to":se()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":Y()}],"mask-image-conic-pos":[{"mask-conic":[Oe]}],"mask-image-conic-from-pos":[{"mask-conic-from":ke()}],"mask-image-conic-to-pos":[{"mask-conic-to":ke()}],"mask-image-conic-from-color":[{"mask-conic-from":se()}],"mask-image-conic-to-color":[{"mask-conic-to":se()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ze()}],"mask-repeat":[{mask:k()}],"mask-size":[{mask:ne()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ye,ge]}],filter:[{filter:["","none",ye,ge]}],blur:[{blur:Xe()}],brightness:[{brightness:[Oe,ye,ge]}],contrast:[{contrast:[Oe,ye,ge]}],"drop-shadow":[{"drop-shadow":["","none",M,gd,pd]}],"drop-shadow-color":[{"drop-shadow":se()}],grayscale:[{grayscale:["",Oe,ye,ge]}],"hue-rotate":[{"hue-rotate":[Oe,ye,ge]}],invert:[{invert:["",Oe,ye,ge]}],saturate:[{saturate:[Oe,ye,ge]}],sepia:[{sepia:["",Oe,ye,ge]}],"backdrop-filter":[{"backdrop-filter":["","none",ye,ge]}],"backdrop-blur":[{"backdrop-blur":Xe()}],"backdrop-brightness":[{"backdrop-brightness":[Oe,ye,ge]}],"backdrop-contrast":[{"backdrop-contrast":[Oe,ye,ge]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Oe,ye,ge]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Oe,ye,ge]}],"backdrop-invert":[{"backdrop-invert":["",Oe,ye,ge]}],"backdrop-opacity":[{"backdrop-opacity":[Oe,ye,ge]}],"backdrop-saturate":[{"backdrop-saturate":[Oe,ye,ge]}],"backdrop-sepia":[{"backdrop-sepia":["",Oe,ye,ge]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":S()}],"border-spacing-x":[{"border-spacing-x":S()}],"border-spacing-y":[{"border-spacing-y":S()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ye,ge]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Oe,"initial",ye,ge]}],ease:[{ease:["linear","initial",le,ye,ge]}],delay:[{delay:[Oe,ye,ge]}],animate:[{animate:["none",ae,ye,ge]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[F,ye,ge]}],"perspective-origin":[{"perspective-origin":oe()}],rotate:[{rotate:on()}],"rotate-x":[{"rotate-x":on()}],"rotate-y":[{"rotate-y":on()}],"rotate-z":[{"rotate-z":on()}],scale:[{scale:xn()}],"scale-x":[{"scale-x":xn()}],"scale-y":[{"scale-y":xn()}],"scale-z":[{"scale-z":xn()}],"scale-3d":["scale-3d"],skew:[{skew:En()}],"skew-x":[{"skew-x":En()}],"skew-y":[{"skew-y":En()}],transform:[{transform:[ye,ge,"","none","gpu","cpu"]}],"transform-origin":[{origin:oe()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Mn()}],"translate-x":[{"translate-x":Mn()}],"translate-y":[{"translate-y":Mn()}],"translate-z":[{"translate-z":Mn()}],"translate-none":["translate-none"],accent:[{accent:se()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:se()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ye,ge]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ye,ge]}],fill:[{fill:["none",...se()]}],"stroke-w":[{stroke:[Oe,Xl,$i,Qm]}],stroke:[{stroke:["none",...se()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},A4=a4(S4);function Bt(...s){return A4(PT(s))}const R4=Dg("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function Ot({className:s,variant:e,size:n,asChild:i=!1,...o}){const c=i?MT:"button";return m.jsx(c,{"data-slot":"button",className:Bt(R4({variant:e,size:n,className:s})),...o})}function oo({className:s,type:e,...n}){return m.jsx("input",{type:e,"data-slot":"input",className:Bt("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",s),...n})}function vn({className:s,...e}){return m.jsx("div",{"data-slot":"card",className:Bt("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",s),...e})}function is({className:s,...e}){return m.jsx("div",{"data-slot":"card-header",className:Bt("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",s),...e})}function as({className:s,...e}){return m.jsx("div",{"data-slot":"card-title",className:Bt("leading-none font-semibold",s),...e})}function go({className:s,...e}){return m.jsx("div",{"data-slot":"card-description",className:Bt("text-muted-foreground text-sm",s),...e})}function _n({className:s,...e}){return m.jsx("div",{"data-slot":"card-content",className:Bt("px-6",s),...e})}ex();var N4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],bn=N4.reduce((s,e)=>{const n=Zd(`Primitive.${e}`),i=V.forwardRef((o,c)=>{const{asChild:h,...p}=o,g=h?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),m.jsx(g,{...p,ref:c})});return i.displayName=`Primitive.${e}`,{...s,[e]:i}},{}),C4="Label",YT=V.forwardRef((s,e)=>m.jsx(bn.label,{...s,ref:e,onMouseDown:n=>{var o;n.target.closest("button, input, select, textarea")||((o=s.onMouseDown)==null||o.call(s,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));YT.displayName=C4;var I4=YT;function Wl({className:s,...e}){return m.jsx(I4,{"data-slot":"label",className:Bt("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",s),...e})}const D4=Dg("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function Tp({className:s,variant:e,...n}){return m.jsx("div",{"data-slot":"alert",role:"alert",className:Bt(D4({variant:e}),s),...n})}function wp({className:s,...e}){return m.jsx("div",{"data-slot":"alert-description",className:Bt("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",s),...e})}function sn(s,e,{checkForDefaultPrevented:n=!0}={}){return function(o){if(s==null||s(o),n===!1||!o.defaultPrevented)return e==null?void 0:e(o)}}function Vc(s,e=[]){let n=[];function i(c,h){const p=V.createContext(h),g=n.length;n=[...n,h];const y=E=>{var le;const{scope:T,children:M,...L}=E,F=((le=T==null?void 0:T[s])==null?void 0:le[g])||p,H=V.useMemo(()=>L,Object.values(L));return m.jsx(F.Provider,{value:H,children:M})};y.displayName=c+"Provider";function _(E,T){var F;const M=((F=T==null?void 0:T[s])==null?void 0:F[g])||p,L=V.useContext(M);if(L)return L;if(h!==void 0)return h;throw new Error(`\`${E}\` must be used within \`${c}\``)}return[y,_]}const o=()=>{const c=n.map(h=>V.createContext(h));return function(p){const g=(p==null?void 0:p[s])||c;return V.useMemo(()=>({[`__scope${s}`]:{...p,[s]:g}}),[p,g])}};return o.scopeName=s,[i,O4(o,...e)]}function O4(...s){const e=s[0];if(s.length===1)return e;const n=()=>{const i=s.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(c){const h=i.reduce((p,{useScope:g,scopeName:y})=>{const E=g(c)[`__scope${y}`];return{...p,...E}},{});return V.useMemo(()=>({[`__scope${e.scopeName}`]:h}),[h])}};return n.scopeName=e.scopeName,n}function j4(s){const e=s+"CollectionProvider",[n,i]=Vc(e),[o,c]=n(e,{collectionRef:{current:null},itemMap:new Map}),h=F=>{const{scope:H,children:le}=F,ae=Fs.useRef(null),ie=Fs.useRef(new Map).current;return m.jsx(o,{scope:H,itemMap:ie,collectionRef:ae,children:le})};h.displayName=e;const p=s+"CollectionSlot",g=Zd(p),y=Fs.forwardRef((F,H)=>{const{scope:le,children:ae}=F,ie=c(p,le),Y=ar(H,ie.collectionRef);return m.jsx(g,{ref:Y,children:ae})});y.displayName=p;const _=s+"CollectionItemSlot",E="data-radix-collection-item",T=Zd(_),M=Fs.forwardRef((F,H)=>{const{scope:le,children:ae,...ie}=F,Y=Fs.useRef(null),oe=ar(H,Y),K=c(_,le);return Fs.useEffect(()=>(K.itemMap.set(Y,{ref:Y,...ie}),()=>void K.itemMap.delete(Y))),m.jsx(T,{[E]:"",ref:oe,children:ae})});M.displayName=_;function L(F){const H=c(s+"CollectionConsumer",F);return Fs.useCallback(()=>{const ae=H.collectionRef.current;if(!ae)return[];const ie=Array.from(ae.querySelectorAll(`[${E}]`));return Array.from(H.itemMap.values()).sort((K,C)=>ie.indexOf(K.ref.current)-ie.indexOf(C.ref.current))},[H.collectionRef,H.itemMap])}return[{Provider:h,Slot:y,ItemSlot:M},L,i]}var xc=globalThis!=null&&globalThis.document?V.useLayoutEffect:()=>{},M4=Jb[" useId ".trim().toString()]||(()=>{}),k4=0;function KT(s){const[e,n]=V.useState(M4());return xc(()=>{n(i=>i??String(k4++))},[s]),s||(e?`radix-${e}`:"")}function $s(s){const e=V.useRef(s);return V.useEffect(()=>{e.current=s}),V.useMemo(()=>(...n)=>{var i;return(i=e.current)==null?void 0:i.call(e,...n)},[])}var P4=Jb[" useInsertionEffect ".trim().toString()]||xc;function $T({prop:s,defaultProp:e,onChange:n=()=>{},caller:i}){const[o,c,h]=V4({defaultProp:e,onChange:n}),p=s!==void 0,g=p?s:o;{const _=V.useRef(s!==void 0);V.useEffect(()=>{const E=_.current;E!==p&&console.warn(`${i} is changing from ${E?"controlled":"uncontrolled"} to ${p?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),_.current=p},[p,i])}const y=V.useCallback(_=>{var E;if(p){const T=L4(_)?_(s):_;T!==s&&((E=h.current)==null||E.call(h,T))}else c(_)},[p,s,c,h]);return[g,y]}function V4({defaultProp:s,onChange:e}){const[n,i]=V.useState(s),o=V.useRef(n),c=V.useRef(e);return P4(()=>{c.current=e},[e]),V.useEffect(()=>{var h;o.current!==n&&((h=c.current)==null||h.call(c,n),o.current=n)},[n,o]),[n,i,c]}function L4(s){return typeof s=="function"}var U4=V.createContext(void 0);function jg(s){const e=V.useContext(U4);return s||e||"ltr"}var Ym="rovingFocusGroup.onEntryFocus",z4={bubbles:!1,cancelable:!0},Lc="RovingFocusGroup",[Sp,XT,q4]=j4(Lc),[B4,WT]=Vc(Lc,[q4]),[H4,F4]=B4(Lc),ZT=V.forwardRef((s,e)=>m.jsx(Sp.Provider,{scope:s.__scopeRovingFocusGroup,children:m.jsx(Sp.Slot,{scope:s.__scopeRovingFocusGroup,children:m.jsx(G4,{...s,ref:e})})}));ZT.displayName=Lc;var G4=V.forwardRef((s,e)=>{const{__scopeRovingFocusGroup:n,orientation:i,loop:o=!1,dir:c,currentTabStopId:h,defaultCurrentTabStopId:p,onCurrentTabStopIdChange:g,onEntryFocus:y,preventScrollOnEntryFocus:_=!1,...E}=s,T=V.useRef(null),M=ar(e,T),L=jg(c),[F,H]=$T({prop:h,defaultProp:p??null,onChange:g,caller:Lc}),[le,ae]=V.useState(!1),ie=$s(y),Y=XT(n),oe=V.useRef(!1),[K,C]=V.useState(0);return V.useEffect(()=>{const S=T.current;if(S)return S.addEventListener(Ym,ie),()=>S.removeEventListener(Ym,ie)},[ie]),m.jsx(H4,{scope:n,orientation:i,dir:L,loop:o,currentTabStopId:F,onItemFocus:V.useCallback(S=>H(S),[H]),onItemShiftTab:V.useCallback(()=>ae(!0),[]),onFocusableItemAdd:V.useCallback(()=>C(S=>S+1),[]),onFocusableItemRemove:V.useCallback(()=>C(S=>S-1),[]),children:m.jsx(bn.div,{tabIndex:le||K===0?-1:0,"data-orientation":i,...E,ref:M,style:{outline:"none",...s.style},onMouseDown:sn(s.onMouseDown,()=>{oe.current=!0}),onFocus:sn(s.onFocus,S=>{const R=!oe.current;if(S.target===S.currentTarget&&R&&!le){const N=new CustomEvent(Ym,z4);if(S.currentTarget.dispatchEvent(N),!N.defaultPrevented){const O=Y().filter($=>$.focusable),j=O.find($=>$.active),I=O.find($=>$.id===F),Ie=[j,I,...O].filter(Boolean).map($=>$.ref.current);tw(Ie,_)}}oe.current=!1}),onBlur:sn(s.onBlur,()=>ae(!1))})})}),JT="RovingFocusGroupItem",ew=V.forwardRef((s,e)=>{const{__scopeRovingFocusGroup:n,focusable:i=!0,active:o=!1,tabStopId:c,children:h,...p}=s,g=KT(),y=c||g,_=F4(JT,n),E=_.currentTabStopId===y,T=XT(n),{onFocusableItemAdd:M,onFocusableItemRemove:L,currentTabStopId:F}=_;return V.useEffect(()=>{if(i)return M(),()=>L()},[i,M,L]),m.jsx(Sp.ItemSlot,{scope:n,id:y,focusable:i,active:o,children:m.jsx(bn.span,{tabIndex:E?0:-1,"data-orientation":_.orientation,...p,ref:e,onMouseDown:sn(s.onMouseDown,H=>{i?_.onItemFocus(y):H.preventDefault()}),onFocus:sn(s.onFocus,()=>_.onItemFocus(y)),onKeyDown:sn(s.onKeyDown,H=>{if(H.key==="Tab"&&H.shiftKey){_.onItemShiftTab();return}if(H.target!==H.currentTarget)return;const le=K4(H,_.orientation,_.dir);if(le!==void 0){if(H.metaKey||H.ctrlKey||H.altKey||H.shiftKey)return;H.preventDefault();let ie=T().filter(Y=>Y.focusable).map(Y=>Y.ref.current);if(le==="last")ie.reverse();else if(le==="prev"||le==="next"){le==="prev"&&ie.reverse();const Y=ie.indexOf(H.currentTarget);ie=_.loop?$4(ie,Y+1):ie.slice(Y+1)}setTimeout(()=>tw(ie))}}),children:typeof h=="function"?h({isCurrentTabStop:E,hasTabStop:F!=null}):h})})});ew.displayName=JT;var Q4={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Y4(s,e){return e!=="rtl"?s:s==="ArrowLeft"?"ArrowRight":s==="ArrowRight"?"ArrowLeft":s}function K4(s,e,n){const i=Y4(s.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(i))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(i)))return Q4[i]}function tw(s,e=!1){const n=document.activeElement;for(const i of s)if(i===n||(i.focus({preventScroll:e}),document.activeElement!==n))return}function $4(s,e){return s.map((n,i)=>s[(e+i)%s.length])}var X4=ZT,W4=ew;function Z4(s,e){return V.useReducer((n,i)=>e[n][i]??n,s)}var Lo=s=>{const{present:e,children:n}=s,i=J4(e),o=typeof n=="function"?n({present:i.isPresent}):V.Children.only(n),c=ar(i.ref,eO(o));return typeof n=="function"||i.isPresent?V.cloneElement(o,{ref:c}):null};Lo.displayName="Presence";function J4(s){const[e,n]=V.useState(),i=V.useRef(null),o=V.useRef(s),c=V.useRef("none"),h=s?"mounted":"unmounted",[p,g]=Z4(h,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return V.useEffect(()=>{const y=yd(i.current);c.current=p==="mounted"?y:"none"},[p]),xc(()=>{const y=i.current,_=o.current;if(_!==s){const T=c.current,M=yd(y);s?g("MOUNT"):M==="none"||(y==null?void 0:y.display)==="none"?g("UNMOUNT"):g(_&&T!==M?"ANIMATION_OUT":"UNMOUNT"),o.current=s}},[s,g]),xc(()=>{if(e){let y;const _=e.ownerDocument.defaultView??window,E=M=>{const F=yd(i.current).includes(M.animationName);if(M.target===e&&F&&(g("ANIMATION_END"),!o.current)){const H=e.style.animationFillMode;e.style.animationFillMode="forwards",y=_.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=H)})}},T=M=>{M.target===e&&(c.current=yd(i.current))};return e.addEventListener("animationstart",T),e.addEventListener("animationcancel",E),e.addEventListener("animationend",E),()=>{_.clearTimeout(y),e.removeEventListener("animationstart",T),e.removeEventListener("animationcancel",E),e.removeEventListener("animationend",E)}}else g("ANIMATION_END")},[e,g]),{isPresent:["mounted","unmountSuspended"].includes(p),ref:V.useCallback(y=>{i.current=y?getComputedStyle(y):null,n(y)},[])}}function yd(s){return(s==null?void 0:s.animationName)||"none"}function eO(s){var i,o;let e=(i=Object.getOwnPropertyDescriptor(s.props,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?s.ref:(e=(o=Object.getOwnPropertyDescriptor(s,"ref"))==null?void 0:o.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?s.props.ref:s.props.ref||s.ref)}var wh="Tabs",[tO,jj]=Vc(wh,[WT]),nw=WT(),[nO,Mg]=tO(wh),rw=V.forwardRef((s,e)=>{const{__scopeTabs:n,value:i,onValueChange:o,defaultValue:c,orientation:h="horizontal",dir:p,activationMode:g="automatic",...y}=s,_=jg(p),[E,T]=$T({prop:i,onChange:o,defaultProp:c??"",caller:wh});return m.jsx(nO,{scope:n,baseId:KT(),value:E,onValueChange:T,orientation:h,dir:_,activationMode:g,children:m.jsx(bn.div,{dir:_,"data-orientation":h,...y,ref:e})})});rw.displayName=wh;var sw="TabsList",iw=V.forwardRef((s,e)=>{const{__scopeTabs:n,loop:i=!0,...o}=s,c=Mg(sw,n),h=nw(n);return m.jsx(X4,{asChild:!0,...h,orientation:c.orientation,dir:c.dir,loop:i,children:m.jsx(bn.div,{role:"tablist","aria-orientation":c.orientation,...o,ref:e})})});iw.displayName=sw;var aw="TabsTrigger",ow=V.forwardRef((s,e)=>{const{__scopeTabs:n,value:i,disabled:o=!1,...c}=s,h=Mg(aw,n),p=nw(n),g=uw(h.baseId,i),y=dw(h.baseId,i),_=i===h.value;return m.jsx(W4,{asChild:!0,...p,focusable:!o,active:_,children:m.jsx(bn.button,{type:"button",role:"tab","aria-selected":_,"aria-controls":y,"data-state":_?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:g,...c,ref:e,onMouseDown:sn(s.onMouseDown,E=>{!o&&E.button===0&&E.ctrlKey===!1?h.onValueChange(i):E.preventDefault()}),onKeyDown:sn(s.onKeyDown,E=>{[" ","Enter"].includes(E.key)&&h.onValueChange(i)}),onFocus:sn(s.onFocus,()=>{const E=h.activationMode!=="manual";!_&&!o&&E&&h.onValueChange(i)})})})});ow.displayName=aw;var lw="TabsContent",cw=V.forwardRef((s,e)=>{const{__scopeTabs:n,value:i,forceMount:o,children:c,...h}=s,p=Mg(lw,n),g=uw(p.baseId,i),y=dw(p.baseId,i),_=i===p.value,E=V.useRef(_);return V.useEffect(()=>{const T=requestAnimationFrame(()=>E.current=!1);return()=>cancelAnimationFrame(T)},[]),m.jsx(Lo,{present:o||_,children:({present:T})=>m.jsx(bn.div,{"data-state":_?"active":"inactive","data-orientation":p.orientation,role:"tabpanel","aria-labelledby":g,hidden:!T,id:y,tabIndex:0,...h,ref:e,style:{...s.style,animationDuration:E.current?"0s":void 0},children:T&&c})})});cw.displayName=lw;function uw(s,e){return`${s}-trigger-${e}`}function dw(s,e){return`${s}-content-${e}`}var rO=rw,sO=iw,iO=ow,aO=cw;function oO({className:s,...e}){return m.jsx(rO,{"data-slot":"tabs",className:Bt("flex flex-col gap-2",s),...e})}function lO({className:s,...e}){return m.jsx(sO,{"data-slot":"tabs-list",className:Bt("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",s),...e})}function Hb({className:s,...e}){return m.jsx(iO,{"data-slot":"tabs-trigger",className:Bt("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...e})}function Fb({className:s,...e}){return m.jsx(aO,{"data-slot":"tabs-content",className:Bt("flex-1 outline-none",s),...e})}/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cO=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),uO=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),Gb=s=>{const e=uO(s);return e.charAt(0).toUpperCase()+e.slice(1)},hw=(...s)=>s.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),dO=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var hO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fO=V.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:o="",children:c,iconNode:h,...p},g)=>V.createElement("svg",{ref:g,...hO,width:e,height:e,stroke:s,strokeWidth:i?Number(n)*24/Number(e):n,className:hw("lucide",o),...!c&&!dO(p)&&{"aria-hidden":"true"},...p},[...h.map(([y,_])=>V.createElement(y,_)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=(s,e)=>{const n=V.forwardRef(({className:i,...o},c)=>V.createElement(fO,{ref:c,iconNode:e,className:hw(`lucide-${cO(Gb(s))}`,`lucide-${s}`,i),...o}));return n.displayName=Gb(s),n};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mO=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Id=ot("arrow-left",mO);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pO=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Ap=ot("book-open",pO);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gO=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],vd=ot("bot",gO);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yO=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],fw=ot("brain",yO);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vO=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],_O=ot("calculator",vO);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bO=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Qb=ot("circle-check-big",bO);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],mw=ot("clock",xO);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EO=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Ao=ot("graduation-cap",EO);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TO=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],Rp=ot("heart",TO);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wO=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],SO=ot("house",wO);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AO=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],RO=ot("lightbulb",AO);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NO=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],yo=ot("loader-circle",NO);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CO=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],IO=ot("log-out",CO);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DO=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],Ec=ot("message-circle",DO);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OO=[["path",{d:"M6 18h8",key:"1borvv"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M14 22a7 7 0 1 0 0-14h-1",key:"1jwaiy"}],["path",{d:"M9 14h2",key:"197e7h"}],["path",{d:"M9 12a2 2 0 0 1-2-2V6h6v4a2 2 0 0 1-2 2Z",key:"1bmzmy"}],["path",{d:"M12 6V3a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v3",key:"1drr47"}]],jO=ot("microscope",OO);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MO=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],kO=ot("phone",MO);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PO=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],Yb=ot("play",PO);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VO=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],LO=ot("rotate-ccw",VO);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UO=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],zO=ot("send",UO);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],BO=ot("smile",qO);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],FO=ot("target",HO);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GO=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],Dd=ot("trophy",GO);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QO=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],YO=ot("user",QO);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KO=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],$O=ot("users",KO);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XO=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],WO=ot("x",XO),ZO=()=>{const[s,e]=V.useState(""),[n,i]=V.useState(""),[o,c]=V.useState(""),[h,p]=V.useState(!1),[g,y]=V.useState(""),[_,E]=V.useState("login"),{signIn:T,signUp:M}=ca(),L=Y=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(Y),F=Y=>Y.length>=6,H=async Y=>{if(Y.preventDefault(),y(""),!L(s)){y("Por favor, insira um email válido.");return}if(!F(n)){y("A senha deve ter pelo menos 6 caracteres.");return}try{p(!0),await T(s,n)}catch(oe){y(oe.message)}finally{p(!1)}},le=async Y=>{if(Y.preventDefault(),y(""),!o.trim()){y("Por favor, insira seu nome.");return}if(!L(s)){y("Por favor, insira um email válido.");return}if(!F(n)){y("A senha deve ter pelo menos 6 caracteres.");return}try{p(!0),await M(s,n,o)}catch(oe){y(oe.message)}finally{p(!1)}},ae=()=>{e(""),i(""),c(""),y("")},ie=Y=>{E(Y),ae()};return m.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:m.jsxs("div",{className:"w-full max-w-6xl grid lg:grid-cols-2 gap-8 items-center",children:[m.jsxs("div",{className:"hidden lg:block space-y-8",children:[m.jsxs("div",{className:"text-center lg:text-left",children:[m.jsxs("div",{className:"flex items-center justify-center lg:justify-start gap-3 mb-6",children:[m.jsx(Ao,{className:"h-12 w-12 text-indigo-600"}),m.jsx("h1",{className:"text-4xl font-bold text-gray-900",children:"IAPrender"})]}),m.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"Transforme sua educação com jogos interativos e assistente virtual com IA"})]}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex items-start gap-4",children:[m.jsx("div",{className:"bg-indigo-100 p-3 rounded-lg",children:m.jsx(Ap,{className:"h-6 w-6 text-indigo-600"})}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Jogos Educativos"}),m.jsx("p",{className:"text-gray-600",children:"Aprenda matemática, português e ciências através de quizzes interativos"})]})]}),m.jsxs("div",{className:"flex items-start gap-4",children:[m.jsx("div",{className:"bg-green-100 p-3 rounded-lg",children:m.jsx(fw,{className:"h-6 w-6 text-green-600"})}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Progresso Inteligente"}),m.jsx("p",{className:"text-gray-600",children:"Acompanhe seu desenvolvimento com estatísticas detalhadas e conquistas"})]})]}),m.jsxs("div",{className:"flex items-start gap-4",children:[m.jsx("div",{className:"bg-purple-100 p-3 rounded-lg",children:m.jsx(Ec,{className:"h-6 w-6 text-purple-600"})}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Assistente Virtual"}),m.jsx("p",{className:"text-gray-600",children:"Tire dúvidas e receba dicas personalizadas com nosso assistente IA"})]})]})]})]}),m.jsx("div",{className:"w-full max-w-md mx-auto",children:m.jsxs(vn,{className:"shadow-xl",children:[m.jsxs(is,{className:"text-center",children:[m.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4 lg:hidden",children:[m.jsx(Ao,{className:"h-8 w-8 text-indigo-600"}),m.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"IAPrender"})]}),m.jsx(as,{className:"text-2xl",children:"Bem-vindo!"}),m.jsx(go,{children:"Entre na sua conta ou crie uma nova para começar a aprender"})]}),m.jsxs(_n,{children:[m.jsxs(oO,{value:_,onValueChange:ie,className:"w-full",children:[m.jsxs(lO,{className:"grid w-full grid-cols-2",children:[m.jsx(Hb,{value:"login",children:"Entrar"}),m.jsx(Hb,{value:"signup",children:"Cadastrar"})]}),m.jsx(Fb,{value:"login",className:"space-y-4",children:m.jsxs("form",{onSubmit:H,className:"space-y-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(Wl,{htmlFor:"email",children:"Email"}),m.jsx(oo,{id:"email",type:"email",placeholder:"seu@email.com",value:s,onChange:Y=>e(Y.target.value),required:!0})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Wl,{htmlFor:"password",children:"Senha"}),m.jsx(oo,{id:"password",type:"password",placeholder:"Sua senha",value:n,onChange:Y=>i(Y.target.value),required:!0})]}),g&&m.jsx(Tp,{variant:"destructive",children:m.jsx(wp,{children:g})}),m.jsx(Ot,{type:"submit",className:"w-full",disabled:h,children:h?m.jsxs(m.Fragment,{children:[m.jsx(yo,{className:"mr-2 h-4 w-4 animate-spin"}),"Entrando..."]}):"Entrar"})]})}),m.jsx(Fb,{value:"signup",className:"space-y-4",children:m.jsxs("form",{onSubmit:le,className:"space-y-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(Wl,{htmlFor:"displayName",children:"Nome completo"}),m.jsx(oo,{id:"displayName",type:"text",placeholder:"Seu nome",value:o,onChange:Y=>c(Y.target.value),required:!0})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Wl,{htmlFor:"signupEmail",children:"Email"}),m.jsx(oo,{id:"signupEmail",type:"email",placeholder:"seu@email.com",value:s,onChange:Y=>e(Y.target.value),required:!0})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Wl,{htmlFor:"signupPassword",children:"Senha"}),m.jsx(oo,{id:"signupPassword",type:"password",placeholder:"Mínimo 6 caracteres",value:n,onChange:Y=>i(Y.target.value),required:!0})]}),g&&m.jsx(Tp,{variant:"destructive",children:m.jsx(wp,{children:g})}),m.jsx(Ot,{type:"submit",className:"w-full",disabled:h,children:h?m.jsxs(m.Fragment,{children:[m.jsx(yo,{className:"mr-2 h-4 w-4 animate-spin"}),"Criando conta..."]}):"Criar conta"})]})})]}),m.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[m.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Com sua conta você pode:"}),m.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[m.jsx("li",{children:"• Salvar seu progresso automaticamente"}),m.jsx("li",{children:"• Acompanhar suas conquistas"}),m.jsx("li",{children:"• Conversar com o assistente de IA"}),m.jsx("li",{children:"• Competir com outros estudantes"})]})]})]})]})})]})})};var kg="Progress",Pg=100,[JO,Mj]=Vc(kg),[ej,tj]=JO(kg),pw=V.forwardRef((s,e)=>{const{__scopeProgress:n,value:i=null,max:o,getValueLabel:c=nj,...h}=s;(o||o===0)&&!Kb(o)&&console.error(rj(`${o}`,"Progress"));const p=Kb(o)?o:Pg;i!==null&&!$b(i,p)&&console.error(sj(`${i}`,"Progress"));const g=$b(i,p)?i:null,y=Jd(g)?c(g,p):void 0;return m.jsx(ej,{scope:n,value:g,max:p,children:m.jsx(bn.div,{"aria-valuemax":p,"aria-valuemin":0,"aria-valuenow":Jd(g)?g:void 0,"aria-valuetext":y,role:"progressbar","data-state":vw(g,p),"data-value":g??void 0,"data-max":p,...h,ref:e})})});pw.displayName=kg;var gw="ProgressIndicator",yw=V.forwardRef((s,e)=>{const{__scopeProgress:n,...i}=s,o=tj(gw,n);return m.jsx(bn.div,{"data-state":vw(o.value,o.max),"data-value":o.value??void 0,"data-max":o.max,...i,ref:e})});yw.displayName=gw;function nj(s,e){return`${Math.round(s/e*100)}%`}function vw(s,e){return s==null?"indeterminate":s===e?"complete":"loading"}function Jd(s){return typeof s=="number"}function Kb(s){return Jd(s)&&!isNaN(s)&&s>0}function $b(s,e){return Jd(s)&&!isNaN(s)&&s<=e&&s>=0}function rj(s,e){return`Invalid prop \`max\` of value \`${s}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Pg}\`.`}function sj(s,e){return`Invalid prop \`value\` of value \`${s}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Pg} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var ij=pw,aj=yw;function Np({className:s,value:e,...n}){return m.jsx(ij,{"data-slot":"progress",className:Bt("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",s),...n,children:m.jsx(aj,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})})}const oj=Dg("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function eh({className:s,variant:e,asChild:n=!1,...i}){const o=n?MT:"span";return m.jsx(o,{"data-slot":"badge",className:Bt(oj({variant:e}),s),...i})}const Xb=({onNavigate:s})=>{var E;const{user:e,userProgress:n,signOut:i}=ca(),o=[{id:"math",title:"Matemática",description:"Operações, lógica e resolução de problemas",icon:_O,color:"bg-green-500",totalGames:1,route:"games"},{id:"portuguese",title:"Português",description:"Gramática, interpretação e vocabulário",icon:Ap,color:"bg-blue-500",totalGames:1,route:"games"},{id:"science",title:"Ciências",description:"Biologia, física e química básica",icon:jO,color:"bg-red-500",totalGames:1,route:"games"},{id:"logic",title:"Lógica",description:"Raciocínio lógico e sequências",icon:fw,color:"bg-purple-500",totalGames:0,route:"games"},{id:"assistant",title:"Assistente Virtual",description:"Chat com IA para tirar dúvidas",icon:Ec,color:"bg-orange-500",totalGames:0,route:"chat"}],c=T=>n!=null&&n.completedGames?({math:["quiz_matematica"],portuguese:["quiz_portugues"],science:["quiz_ciencias"],logic:[],assistant:[]}[T]||[]).filter(F=>n.completedGames.includes(F)).length:0,h=T=>{const M=o.find(F=>F.id===T);if(!M||M.totalGames===0)return 0;const L=c(T);return Math.round(L/M.totalGames*100)},p=o.reduce((T,M)=>T+M.totalGames,0),g=((E=n==null?void 0:n.completedGames)==null?void 0:E.length)||0,y=p>0?Math.round(g/p*100):0,_=async()=>{try{await i()}catch(T){console.error("Error signing out:",T)}};return m.jsxs("div",{className:"min-h-screen bg-gray-50",children:[m.jsx("header",{className:"bg-white shadow-sm border-b",children:m.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"flex justify-between items-center h-16",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(Ao,{className:"h-8 w-8 text-indigo-600"}),m.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"IAPrender"})]}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("span",{className:"text-sm text-gray-600",children:["Olá, ",(e==null?void 0:e.displayName)||"Estudante","!"]}),m.jsxs(Ot,{variant:"outline",size:"sm",onClick:_,children:[m.jsx(IO,{className:"h-4 w-4 mr-2"}),"Sair"]})]})]})})}),m.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[m.jsxs("div",{className:"mb-8",children:[m.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Bem-vindo de volta! 👋"}),m.jsx("p",{className:"text-gray-600",children:"Continue sua jornada de aprendizado e alcance novos objetivos."})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[m.jsx(vn,{children:m.jsx(_n,{className:"p-6",children:m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:m.jsx(Dd,{className:"h-6 w-6 text-blue-600"})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(n==null?void 0:n.totalScore)||0}),m.jsx("p",{className:"text-sm text-gray-600",children:"Pontos Totais"})]})]})})}),m.jsx(vn,{children:m.jsx(_n,{className:"p-6",children:m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"bg-green-100 p-3 rounded-lg",children:m.jsx(FO,{className:"h-6 w-6 text-green-600"})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-2xl font-bold text-gray-900",children:g}),m.jsx("p",{className:"text-sm text-gray-600",children:"Jogos Completados"})]})]})})}),m.jsx(vn,{children:m.jsx(_n,{className:"p-6",children:m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"bg-purple-100 p-3 rounded-lg",children:m.jsx(mw,{className:"h-6 w-6 text-purple-600"})}),m.jsxs("div",{children:[m.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[y,"%"]}),m.jsx("p",{className:"text-sm text-gray-600",children:"Progresso Geral"})]})]})})}),m.jsx(vn,{children:m.jsx(_n,{className:"p-6",children:m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"bg-orange-100 p-3 rounded-lg",children:m.jsx(Ao,{className:"h-6 w-6 text-orange-600"})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o.filter(T=>T.totalGames>0).length}),m.jsx("p",{className:"text-sm text-gray-600",children:"Módulos Ativos"})]})]})})})]}),m.jsxs(vn,{className:"mb-8",children:[m.jsxs(is,{children:[m.jsx(as,{children:"Seu Progresso"}),m.jsx(go,{children:"Acompanhe seu desenvolvimento em cada módulo"})]}),m.jsx(_n,{children:m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("span",{className:"text-sm font-medium",children:"Progresso Geral"}),m.jsxs("span",{className:"text-sm text-gray-600",children:[y,"%"]})]}),m.jsx(Np,{value:y,className:"h-2"}),m.jsxs("p",{className:"text-sm text-gray-600",children:[g," de ",p," jogos completados"]})]})})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Módulos de Aprendizado"}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(T=>{const M=T.icon,L=c(T.id),F=h(T.id);return m.jsxs(vn,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:[m.jsx(is,{children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:`${T.color} p-3 rounded-lg text-white`,children:m.jsx(M,{className:"h-6 w-6"})}),m.jsxs("div",{className:"flex-1",children:[m.jsx(as,{className:"text-lg",children:T.title}),T.totalGames>0&&m.jsxs(eh,{variant:"secondary",className:"mt-1",children:[L,"/",T.totalGames," completos"]})]})]})}),m.jsxs(_n,{children:[m.jsx(go,{className:"mb-4",children:T.description}),T.totalGames>0&&m.jsxs("div",{className:"space-y-2 mb-4",children:[m.jsxs("div",{className:"flex items-center justify-between text-sm",children:[m.jsx("span",{children:"Progresso"}),m.jsxs("span",{children:[F,"%"]})]}),m.jsx(Np,{value:F,className:"h-2"})]}),m.jsx(Ot,{className:"w-full",onClick:()=>s(T.route),children:T.route==="chat"?"Conversar":"Jogar"})]})]},T.id)})})]}),m.jsxs(vn,{className:"mt-8",children:[m.jsxs(is,{children:[m.jsx(as,{children:"Ações Rápidas"}),m.jsx(go,{children:"Acesse rapidamente suas funcionalidades favoritas"})]}),m.jsx(_n,{children:m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs(Ot,{variant:"outline",className:"h-16 justify-start gap-3",onClick:()=>s("games"),children:[m.jsx(Ap,{className:"h-6 w-6"}),m.jsxs("div",{className:"text-left",children:[m.jsx("div",{className:"font-medium",children:"Continuar Jogando"}),m.jsx("div",{className:"text-sm text-gray-600",children:"Pratique com nossos quizzes"})]})]}),m.jsxs(Ot,{variant:"outline",className:"h-16 justify-start gap-3",onClick:()=>s("chat"),children:[m.jsx(Ec,{className:"h-6 w-6"}),m.jsxs("div",{className:"text-left",children:[m.jsx("div",{className:"font-medium",children:"Assistente Virtual"}),m.jsx("div",{className:"text-sm text-gray-600",children:"Tire suas dúvidas com IA"})]})]})]})})]})]})]})},lj=({onNavigate:s})=>{var O;const[e,n]=V.useState([]),[i,o]=V.useState(null),[c,h]=V.useState(0),[p,g]=V.useState(null),[y,_]=V.useState(0),[E,T]=V.useState(!1),[M,L]=V.useState(!1),[F,H]=V.useState(!1),{user:le,userProgress:ae,refreshProgress:ie}=ca();V.useEffect(()=>{const j=ns.getAvailableGames();n(j)},[]);const Y=j=>{var I;return((I=ae==null?void 0:ae.completedGames)==null?void 0:I.includes(j))||!1},oe=j=>{switch(j){case"Fácil":return"bg-green-500";case"Médio":return"bg-yellow-500";case"Difícil":return"bg-red-500";default:return"bg-gray-500"}},K=j=>{o(j),h(0),g(null),_(0),T(!1),L(!1)},C=j=>{g(j)},S=async()=>{if(p===null)return;const j=p===i.questions[c].correct,I=y+(j?10:0);if(_(I),c<i.questions.length-1)h(c+1),g(null);else{T(!0),L(!0);try{H(!0),await ns.saveUserProgress(i.id,I,!0),await ie()}catch(Qe){console.error("Error saving progress:",Qe)}finally{H(!1)}}},R=()=>{h(0),g(null),_(0),T(!1),L(!1)},N=()=>{o(null),h(0),g(null),_(0),T(!1),L(!1)};if(i){const j=i.questions[c],I=(c+1)/i.questions.length*100;if(M){const Qe=Math.round(y/(i.questions.length*10)*100);return m.jsx("div",{className:"min-h-screen bg-gray-50 p-4",children:m.jsx("div",{className:"max-w-2xl mx-auto",children:m.jsxs(vn,{className:"text-center",children:[m.jsxs(is,{children:[m.jsx("div",{className:"mx-auto mb-4",children:m.jsx(Dd,{className:"h-16 w-16 text-yellow-500 mx-auto"})}),m.jsx(as,{className:"text-2xl",children:"Parabéns! 🎉"}),m.jsxs(go,{children:["Você completou o ",i.title]})]}),m.jsxs(_n,{className:"space-y-6",children:[m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[m.jsx("div",{className:"text-2xl font-bold text-blue-600",children:y}),m.jsx("div",{className:"text-sm text-blue-800",children:"Pontos"})]}),m.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[m.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[Qe,"%"]}),m.jsx("div",{className:"text-sm text-green-800",children:"Acertos"})]})]}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs(Ot,{onClick:R,variant:"outline",className:"w-full",children:[m.jsx(LO,{className:"h-4 w-4 mr-2"}),"Jogar Novamente"]}),m.jsxs(Ot,{onClick:N,className:"w-full",children:[m.jsx(Id,{className:"h-4 w-4 mr-2"}),"Voltar aos Jogos"]}),m.jsxs(Ot,{onClick:()=>s("dashboard"),variant:"outline",className:"w-full",children:[m.jsx(SO,{className:"h-4 w-4 mr-2"}),"Ir para Dashboard"]})]})]})]})})})}return m.jsx("div",{className:"min-h-screen bg-gray-50 p-4",children:m.jsxs("div",{className:"max-w-2xl mx-auto",children:[m.jsx("div",{className:"mb-6",children:m.jsxs(Ot,{variant:"outline",onClick:N,children:[m.jsx(Id,{className:"h-4 w-4 mr-2"}),"Voltar"]})}),m.jsxs(vn,{children:[m.jsxs(is,{children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx(as,{children:i.title}),m.jsx(eh,{className:oe(i.difficulty),children:i.difficulty})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{className:"flex items-center justify-between text-sm",children:[m.jsxs("span",{children:["Pergunta ",c+1," de ",i.questions.length]}),m.jsxs("span",{children:["Pontuação: ",y]})]}),m.jsx(Np,{value:I,className:"h-2"})]})]}),m.jsxs(_n,{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-semibold mb-4",children:j.question}),m.jsx("div",{className:"space-y-3",children:j.options.map((Qe,Ie)=>m.jsxs(Ot,{variant:p===Ie?"default":"outline",className:"w-full text-left justify-start h-auto p-4",onClick:()=>C(Ie),children:[m.jsxs("span",{className:"mr-3 font-bold",children:[String.fromCharCode(65+Ie),"."]}),Qe]},Ie))})]}),m.jsx(Ot,{onClick:S,disabled:p===null||F,className:"w-full",children:F?"Salvando...":c<i.questions.length-1?"Próxima Pergunta":"Finalizar Jogo"})]})]})]})})}return m.jsxs("div",{className:"min-h-screen bg-gray-50",children:[m.jsx("header",{className:"bg-white shadow-sm border-b",children:m.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"flex items-center h-16",children:[m.jsxs(Ot,{variant:"ghost",onClick:()=>s("dashboard"),children:[m.jsx(Id,{className:"h-4 w-4 mr-2"}),"Dashboard"]}),m.jsx("h1",{className:"text-2xl font-bold text-gray-900 ml-4",children:"Jogos Educativos"})]})})}),m.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[m.jsxs("div",{className:"mb-8",children:[m.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Escolha um Jogo"}),m.jsx("p",{className:"text-gray-600",children:"Teste seus conhecimentos com nossos quizzes interativos"})]}),le&&m.jsxs(Tp,{className:"mb-8",children:[m.jsx(Dd,{className:"h-4 w-4"}),m.jsxs(wp,{children:["Você tem ",(ae==null?void 0:ae.totalScore)||0," pontos totais e completou ",((O=ae==null?void 0:ae.completedGames)==null?void 0:O.length)||0," jogos."]})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(j=>m.jsxs(vn,{className:"hover:shadow-lg transition-shadow",children:[m.jsxs(is,{children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("div",{className:"text-2xl",children:j.icon}),Y(j.id)&&m.jsx(Qb,{className:"h-6 w-6 text-green-500"})]}),m.jsx(as,{className:"text-lg",children:j.title}),m.jsx(go,{children:j.description})]}),m.jsx(_n,{children:m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx(eh,{className:oe(j.difficulty),children:j.difficulty}),m.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[m.jsx(mw,{className:"h-4 w-4"}),j.questions.length," perguntas"]})]}),m.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[m.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Categoria"}),m.jsx("div",{className:"font-medium",children:j.category})]}),m.jsxs(Ot,{onClick:()=>K(j),className:"w-full",style:{backgroundColor:j.color},children:[m.jsx(Yb,{className:"h-4 w-4 mr-2"}),Y(j.id)?"Jogar Novamente":"Começar Jogo"]})]})})]},j.id))}),m.jsxs(vn,{className:"mt-8",children:[m.jsx(is,{children:m.jsx(as,{children:"Como Jogar"})}),m.jsx(_n,{children:m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"bg-blue-100 p-3 rounded-lg w-fit mx-auto mb-3",children:m.jsx(Yb,{className:"h-6 w-6 text-blue-600"})}),m.jsx("h3",{className:"font-semibold mb-2",children:"1. Escolha um Jogo"}),m.jsx("p",{className:"text-sm text-gray-600",children:"Selecione o jogo que deseja jogar baseado na categoria e dificuldade"})]}),m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"bg-green-100 p-3 rounded-lg w-fit mx-auto mb-3",children:m.jsx(Qb,{className:"h-6 w-6 text-green-600"})}),m.jsx("h3",{className:"font-semibold mb-2",children:"2. Responda as Perguntas"}),m.jsx("p",{className:"text-sm text-gray-600",children:"Leia cada pergunta com atenção e escolha a resposta correta"})]}),m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"bg-yellow-100 p-3 rounded-lg w-fit mx-auto mb-3",children:m.jsx(Dd,{className:"h-6 w-6 text-yellow-600"})}),m.jsx("h3",{className:"font-semibold mb-2",children:"3. Ganhe Pontos"}),m.jsx("p",{className:"text-sm text-gray-600",children:"Cada resposta correta vale 10 pontos. Seu progresso é salvo automaticamente"})]})]})})]})]})]})},cj=()=>{const{user:s}=ca(),[e,n]=V.useState({}),[i,o]=V.useState(null),[c,h]=V.useState(null),[p,g]=V.useState(0),[y,_]=V.useState(""),[E,T]=V.useState(0),[M,L]=V.useState(!1),[F,H]=V.useState(!1),le=[{id:"logic-programming",title:"Lógica de Programação",description:"Fundamentos essenciais para qualquer desenvolvedor",icon:"🧠",color:"bg-purple-500",difficulty:"Iniciante",estimatedTime:"30 min",topics:["Variáveis e tipos de dados","Estruturas condicionais","Estruturas de repetição","Funções e algoritmos"],quiz:[{question:"O que é uma variável em programação?",options:["Um valor que nunca muda","Um espaço na memória para armazenar dados","Uma função matemática","Um tipo de loop"],correct:1,explanation:"Uma variável é um espaço reservado na memória do computador para armazenar dados que podem ser modificados durante a execução do programa."},{question:"Qual estrutura é usada para tomar decisões no código?",options:["for","while","if/else","function"],correct:2,explanation:"A estrutura if/else permite que o programa tome decisões baseadas em condições, executando diferentes blocos de código dependendo do resultado."},{question:"O que é um algoritmo?",options:["Uma linguagem de programação","Um conjunto de instruções para resolver um problema","Um tipo de variável","Um erro no código"],correct:1,explanation:"Um algoritmo é uma sequência lógica e finita de instruções que descrevem como resolver um problema ou executar uma tarefa."},{question:"Qual é a principal vantagem de usar funções?",options:["Tornar o código mais lento","Reutilizar código e organizar melhor o programa","Usar mais memória","Complicar o desenvolvimento"],correct:1,explanation:"Funções permitem reutilizar código, organizar melhor o programa em módulos e facilitar a manutenção e depuração."},{question:"O que é um loop infinito?",options:["Um loop que executa exatamente 10 vezes","Um loop que nunca para de executar","Um loop que executa apenas uma vez","Um tipo especial de função"],correct:1,explanation:"Um loop infinito é uma estrutura de repetição que nunca atende à condição de parada, executando indefinidamente e podendo travar o programa."}]},{id:"python-fundamentals",title:"Python Fundamentals",description:"Introdução à linguagem Python",icon:"🐍",color:"bg-green-500",difficulty:"Iniciante",estimatedTime:"45 min",topics:["Sintaxe básica do Python","Tipos de dados e estruturas","Funções e módulos","Programação orientada a objetos"],quiz:[{question:"Como você declara uma lista em Python?",options:["lista = (1, 2, 3)","lista = [1, 2, 3]","lista = {1, 2, 3}","lista = 1, 2, 3"],correct:1,explanation:"Em Python, listas são declaradas usando colchetes [] e podem conter elementos de diferentes tipos."},{question:"Qual é a diferença entre uma lista e uma tupla?",options:["Não há diferença","Listas são mutáveis, tuplas são imutáveis","Tuplas são mais rápidas que listas","Listas usam (), tuplas usam []"],correct:1,explanation:"A principal diferença é que listas são mutáveis (podem ser modificadas) enquanto tuplas são imutáveis (não podem ser alteradas após criação)."},{question:"Como você define uma função em Python?",options:["function nome():","def nome():","func nome():","define nome():"],correct:1,explanation:'Em Python, funções são definidas usando a palavra-chave "def" seguida do nome da função e parênteses.'},{question:"O que é indentação em Python?",options:["Um tipo de comentário","Uma forma de organizar o código em blocos","Um erro de sintaxe","Uma função especial"],correct:1,explanation:"Indentação em Python é usada para definir blocos de código, substituindo as chaves {} de outras linguagens."},{question:"Qual método é usado para adicionar um elemento ao final de uma lista?",options:["add()","append()","insert()","push()"],correct:1,explanation:"O método append() é usado para adicionar um elemento ao final de uma lista em Python."}]},{id:"web-frontend",title:"Desenvolvimento Front-end",description:"HTML, CSS e JavaScript para web",icon:"🌐",color:"bg-blue-500",difficulty:"Intermediário",estimatedTime:"60 min",topics:["HTML5 semântico","CSS3 e responsividade","JavaScript ES6+","Manipulação do DOM"],quiz:[{question:"Qual tag HTML5 é usada para definir uma seção de navegação?",options:["<navigation>","<nav>","<menu>","<section>"],correct:1,explanation:"A tag <nav> é um elemento semântico do HTML5 usado para definir seções de navegação na página."},{question:"Como você torna um layout responsivo com CSS?",options:["Usando apenas pixels","Usando Media Queries","Usando apenas tabelas","Não é possível"],correct:1,explanation:"Media Queries permitem aplicar estilos CSS diferentes baseados nas características do dispositivo, como largura da tela."},{question:"O que é o DOM em JavaScript?",options:["Uma linguagem de programação","Document Object Model - representação da página","Um tipo de variável","Um framework"],correct:1,explanation:"DOM (Document Object Model) é uma representação estruturada da página HTML que permite ao JavaScript manipular elementos dinamicamente."},{question:"Qual é a diferença entre let, const e var?",options:["Não há diferença","let e const têm escopo de bloco, var tem escopo de função","var é mais moderno","const é apenas para números"],correct:1,explanation:"let e const foram introduzidos no ES6 com escopo de bloco, enquanto var tem escopo de função. const não pode ser reatribuído."},{question:"Como você seleciona um elemento por ID em JavaScript?",options:['document.getElement("id")','document.getElementById("id")','document.selectId("id")','document.findId("id")'],correct:1,explanation:"document.getElementById() é o método padrão para selecionar um elemento HTML pelo seu atributo ID."}]},{id:"backend-nodejs",title:"Backend com Node.js",description:"Desenvolvimento de APIs e servidores",icon:"⚙️",color:"bg-yellow-500",difficulty:"Intermediário",estimatedTime:"50 min",topics:["Node.js e npm","Express.js framework","APIs RESTful","Autenticação JWT"],quiz:[{question:"O que é Node.js?",options:["Uma linguagem de programação","Um runtime JavaScript para servidor","Um banco de dados","Um framework CSS"],correct:1,explanation:"Node.js é um runtime que permite executar JavaScript no lado do servidor, fora do navegador."},{question:"O que significa REST em APIs?",options:["Really Easy Server Technology","Representational State Transfer","Remote Execution Service Tool","Rapid Enterprise Solution Technology"],correct:1,explanation:"REST (Representational State Transfer) é um estilo arquitetural para desenvolvimento de APIs web baseado em princípios como stateless e uso de métodos HTTP."},{question:"Qual método HTTP é usado para criar um novo recurso?",options:["GET","POST","PUT","DELETE"],correct:1,explanation:"POST é o método HTTP padrão usado para criar novos recursos no servidor."},{question:"O que é JWT?",options:["JavaScript Web Technology","JSON Web Token","Java Web Toolkit","Just Web Things"],correct:1,explanation:"JWT (JSON Web Token) é um padrão para transmitir informações de forma segura entre partes como um objeto JSON compacto."},{question:"Qual é a porta padrão para servidores HTTP?",options:["21","80","443","8080"],correct:1,explanation:"A porta 80 é a porta padrão para tráfego HTTP, enquanto 443 é para HTTPS."}]},{id:"databases",title:"Banco de Dados",description:"SQL e NoSQL fundamentals",icon:"🗄️",color:"bg-indigo-500",difficulty:"Intermediário",estimatedTime:"40 min",topics:["Modelagem de dados","SQL básico e avançado","Bancos NoSQL","Índices e performance"],quiz:[{question:"O que significa SQL?",options:["Simple Query Language","Structured Query Language","Standard Query Language","System Query Language"],correct:1,explanation:"SQL (Structured Query Language) é a linguagem padrão para gerenciar e manipular bancos de dados relacionais."},{question:"Qual comando SQL é usado para recuperar dados?",options:["GET","SELECT","FETCH","RETRIEVE"],correct:1,explanation:"SELECT é o comando SQL usado para consultar e recuperar dados de uma ou mais tabelas."},{question:"O que é uma chave primária?",options:["A primeira coluna da tabela","Um identificador único para cada registro","A coluna mais importante","Uma senha para acessar a tabela"],correct:1,explanation:"Uma chave primária é um campo (ou combinação de campos) que identifica unicamente cada registro em uma tabela."},{question:"Qual é a principal diferença entre SQL e NoSQL?",options:["NoSQL é mais rápido","SQL usa estrutura fixa, NoSQL é mais flexível","NoSQL não armazena dados","SQL é apenas para web"],correct:1,explanation:"Bancos SQL usam esquemas fixos e relacionamentos, enquanto NoSQL oferece maior flexibilidade na estrutura dos dados."},{question:"O que é um índice em banco de dados?",options:["Uma lista de todas as tabelas","Uma estrutura que acelera consultas","Um tipo de backup","Uma forma de criptografia"],correct:1,explanation:"Um índice é uma estrutura de dados que melhora a velocidade das operações de consulta em uma tabela."}]},{id:"cloud-devops",title:"Cloud e DevOps",description:"Computação em nuvem e práticas DevOps",icon:"☁️",color:"bg-cyan-500",difficulty:"Avançado",estimatedTime:"55 min",topics:["Serviços de nuvem (AWS, GCP, Azure)","Contêineres e Docker","CI/CD pipelines","Monitoramento e logging"],quiz:[{question:"O que significa IaaS?",options:["Internet as a Service","Infrastructure as a Service","Integration as a Service","Information as a Service"],correct:1,explanation:"IaaS (Infrastructure as a Service) fornece recursos de computação virtualizados pela internet, como servidores e armazenamento."},{question:"O que é Docker?",options:["Uma linguagem de programação","Uma plataforma de containerização","Um banco de dados","Um sistema operacional"],correct:1,explanation:"Docker é uma plataforma que permite empacotar aplicações e suas dependências em contêineres leves e portáteis."},{question:"O que significa CI/CD?",options:["Code Integration/Code Deployment","Continuous Integration/Continuous Deployment","Computer Intelligence/Computer Development","Cloud Infrastructure/Cloud Development"],correct:1,explanation:"CI/CD refere-se a Continuous Integration (Integração Contínua) e Continuous Deployment (Implantação Contínua), práticas para automatizar desenvolvimento e deploy."},{question:"Qual é a principal vantagem da computação em nuvem?",options:["É sempre mais barata","Escalabilidade e flexibilidade","Não precisa de internet","É mais segura que servidores locais"],correct:1,explanation:"A principal vantagem é a escalabilidade e flexibilidade, permitindo ajustar recursos conforme a demanda."},{question:"O que é um microserviço?",options:["Um serviço muito pequeno","Uma arquitetura onde aplicações são divididas em serviços independentes","Um tipo de banco de dados","Uma linguagem de programação"],correct:1,explanation:"Microserviços é uma arquitetura onde aplicações são decompostas em serviços pequenos, independentes e especializados."}]}];V.useEffect(()=>{s&&ae()},[s]);const ae=async()=>{try{const N=await OT(s.uid);n(N||{})}catch(N){console.error("Erro ao carregar progresso:",N)}},ie=N=>{o(N),h(N.quiz),g(0),_(""),T(0),L(!1)},Y=N=>{_(N)},oe=async()=>{if(y==="")return;const N=y===c[p].correct;if(N&&T(E+10),p<c.length-1)g(p+1),_("");else{const O=E+(N?10:0);T(O),L(!0),await K(i.id,O)}},K=async(N,O)=>{try{H(!0);const j={[`techModules.${N}`]:{completed:!0,score:O,completedAt:new Date().toISOString(),totalQuestions:c.length}};await UD(s.uid,j),await ae()}catch(j){console.error("Erro ao salvar progresso:",j)}finally{H(!1)}},C=()=>{o(null),h(null),g(0),_(""),T(0),L(!1)},S=N=>{var O;return((O=e.techModules)==null?void 0:O[N])||null},R=N=>{switch(N){case"Iniciante":return"text-green-600 bg-green-100";case"Intermediário":return"text-yellow-600 bg-yellow-100";case"Avançado":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}};if(c&&!M){const N=c[p];return m.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:m.jsxs("div",{className:"max-w-4xl mx-auto",children:[m.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx("span",{className:"text-3xl",children:i.icon}),m.jsxs("div",{children:[m.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:i.title}),m.jsxs("p",{className:"text-gray-600",children:["Questão ",p+1," de ",c.length]})]})]}),m.jsx("button",{onClick:C,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"✕ Sair"})]}),m.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:m.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${(p+1)/c.length*100}%`}})})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[m.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-6",children:N.question}),m.jsx("div",{className:"space-y-3 mb-8",children:N.options.map((O,j)=>m.jsxs("button",{onClick:()=>Y(j),className:`w-full p-4 text-left rounded-lg border-2 transition-all ${y===j?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:[m.jsxs("span",{className:"font-medium mr-3",children:[String.fromCharCode(65+j),")"]}),O]},j))}),m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{className:"text-sm text-gray-500",children:["Pontuação atual: ",E," pontos"]}),m.jsx("button",{onClick:oe,disabled:y==="",className:`px-6 py-3 rounded-lg font-medium transition-all ${y!==""?"bg-blue-500 hover:bg-blue-600 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:p<c.length-1?"Próxima":"Finalizar"})]})]})]})})}if(M){const N=E/(c.length*10)*100,O=N>=70;return m.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:m.jsx("div",{className:"max-w-2xl mx-auto",children:m.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 text-center",children:[m.jsx("div",{className:"mb-6",children:m.jsx("span",{className:"text-6xl",children:O?"🎉":"📚"})}),m.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:O?"Parabéns!":"Continue Estudando!"}),m.jsxs("div",{className:"mb-6",children:[m.jsxs("div",{className:"text-4xl font-bold text-blue-600 mb-2",children:[E," pontos"]}),m.jsxs("div",{className:"text-lg text-gray-600",children:[N.toFixed(0),"% de aproveitamento"]}),m.jsxs("div",{className:"text-sm text-gray-500 mt-2",children:[E/10," de ",c.length," questões corretas"]})]}),m.jsx("div",{className:`inline-block px-4 py-2 rounded-full text-sm font-medium mb-6 ${O?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:O?"Módulo Concluído!":"Tente Novamente"}),m.jsxs("div",{className:"space-y-3",children:[m.jsx("button",{onClick:C,className:"w-full bg-blue-500 hover:bg-blue-600 text-white py-3 px-6 rounded-lg font-medium transition-colors",children:"Voltar aos Módulos"}),m.jsx("button",{onClick:()=>{L(!1),g(0),_(""),T(0)},className:"w-full bg-gray-500 hover:bg-gray-600 text-white py-3 px-6 rounded-lg font-medium transition-colors",children:"Refazer Quiz"})]})]})})})}return m.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:m.jsxs("div",{className:"max-w-6xl mx-auto",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-4",children:"Módulos de Tecnologia 💻"}),m.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Aprenda desenvolvimento de sistemas, programação e tecnologias modernas através de módulos interativos e quizzes práticos."})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[m.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 text-center",children:[m.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:Object.keys(e.techModules||{}).length}),m.jsx("div",{className:"text-gray-600",children:"Módulos Completados"})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 text-center",children:[m.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:Object.values(e.techModules||{}).reduce((N,O)=>N+(O.score||0),0)}),m.jsx("div",{className:"text-gray-600",children:"Pontos Totais"})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 text-center",children:[m.jsx("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:le.length}),m.jsx("div",{className:"text-gray-600",children:"Módulos Disponíveis"})]})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:le.map(N=>{const O=S(N.id),j=(O==null?void 0:O.completed)||!1;return m.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition-shadow",children:[m.jsxs("div",{className:`${N.color} p-4 text-white relative`,children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("span",{className:"text-3xl",children:N.icon}),j&&m.jsx("div",{className:"bg-white bg-opacity-20 rounded-full p-1",children:m.jsx("span",{className:"text-sm",children:"✓"})})]}),m.jsx("h3",{className:"text-xl font-bold mt-2",children:N.title})]}),m.jsxs("div",{className:"p-6",children:[m.jsx("p",{className:"text-gray-600 mb-4",children:N.description}),m.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[m.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${R(N.difficulty)}`,children:N.difficulty}),m.jsxs("span",{className:"px-2 py-1 rounded-full text-xs font-medium text-blue-600 bg-blue-100",children:["⏱️ ",N.estimatedTime]})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Você vai aprender:"}),m.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[N.topics.slice(0,3).map((I,Qe)=>m.jsxs("li",{className:"flex items-center",children:[m.jsx("span",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mr-2"}),I]},Qe)),N.topics.length>3&&m.jsxs("li",{className:"text-blue-600 text-xs",children:["+",N.topics.length-3," tópicos"]})]})]}),j&&m.jsx("div",{className:"mb-4 p-3 bg-green-50 rounded-lg",children:m.jsxs("div",{className:"flex items-center justify-between text-sm",children:[m.jsx("span",{className:"text-green-700 font-medium",children:"Concluído!"}),m.jsxs("span",{className:"text-green-600",children:[O.score," pontos"]})]})}),m.jsx("button",{onClick:()=>ie(N),disabled:F,className:`w-full py-3 px-4 rounded-lg font-medium transition-all ${j?"bg-green-500 hover:bg-green-600 text-white":"bg-blue-500 hover:bg-blue-600 text-white"} ${F?"opacity-50 cursor-not-allowed":""}`,children:F?"Carregando...":j?"Refazer Quiz":"Iniciar Quiz"})]})]},N.id)})}),m.jsxs("div",{className:"text-center mt-12 p-6 bg-white rounded-lg shadow-lg",children:[m.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Continue Aprendendo!"}),m.jsx("p",{className:"text-gray-600",children:"Complete todos os módulos para se tornar um desenvolvedor completo. Cada quiz concluído com 70% ou mais adiciona pontos ao seu perfil."})]})]})})};function uj(s,[e,n]){return Math.min(n,Math.max(e,s))}function dj(s,e){return V.useReducer((n,i)=>e[n][i]??n,s)}var Vg="ScrollArea",[_w,kj]=Vc(Vg),[hj,Xn]=_w(Vg),bw=V.forwardRef((s,e)=>{const{__scopeScrollArea:n,type:i="hover",dir:o,scrollHideDelay:c=600,...h}=s,[p,g]=V.useState(null),[y,_]=V.useState(null),[E,T]=V.useState(null),[M,L]=V.useState(null),[F,H]=V.useState(null),[le,ae]=V.useState(0),[ie,Y]=V.useState(0),[oe,K]=V.useState(!1),[C,S]=V.useState(!1),R=ar(e,O=>g(O)),N=jg(o);return m.jsx(hj,{scope:n,type:i,dir:N,scrollHideDelay:c,scrollArea:p,viewport:y,onViewportChange:_,content:E,onContentChange:T,scrollbarX:M,onScrollbarXChange:L,scrollbarXEnabled:oe,onScrollbarXEnabledChange:K,scrollbarY:F,onScrollbarYChange:H,scrollbarYEnabled:C,onScrollbarYEnabledChange:S,onCornerWidthChange:ae,onCornerHeightChange:Y,children:m.jsx(bn.div,{dir:N,...h,ref:R,style:{position:"relative","--radix-scroll-area-corner-width":le+"px","--radix-scroll-area-corner-height":ie+"px",...s.style}})})});bw.displayName=Vg;var xw="ScrollAreaViewport",Ew=V.forwardRef((s,e)=>{const{__scopeScrollArea:n,children:i,nonce:o,...c}=s,h=Xn(xw,n),p=V.useRef(null),g=ar(e,p,h.onViewportChange);return m.jsxs(m.Fragment,{children:[m.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),m.jsx(bn.div,{"data-radix-scroll-area-viewport":"",...c,ref:g,style:{overflowX:h.scrollbarXEnabled?"scroll":"hidden",overflowY:h.scrollbarYEnabled?"scroll":"hidden",...s.style},children:m.jsx("div",{ref:h.onContentChange,style:{minWidth:"100%",display:"table"},children:i})})]})});Ew.displayName=xw;var Cr="ScrollAreaScrollbar",Tw=V.forwardRef((s,e)=>{const{forceMount:n,...i}=s,o=Xn(Cr,s.__scopeScrollArea),{onScrollbarXEnabledChange:c,onScrollbarYEnabledChange:h}=o,p=s.orientation==="horizontal";return V.useEffect(()=>(p?c(!0):h(!0),()=>{p?c(!1):h(!1)}),[p,c,h]),o.type==="hover"?m.jsx(fj,{...i,ref:e,forceMount:n}):o.type==="scroll"?m.jsx(mj,{...i,ref:e,forceMount:n}):o.type==="auto"?m.jsx(ww,{...i,ref:e,forceMount:n}):o.type==="always"?m.jsx(Lg,{...i,ref:e}):null});Tw.displayName=Cr;var fj=V.forwardRef((s,e)=>{const{forceMount:n,...i}=s,o=Xn(Cr,s.__scopeScrollArea),[c,h]=V.useState(!1);return V.useEffect(()=>{const p=o.scrollArea;let g=0;if(p){const y=()=>{window.clearTimeout(g),h(!0)},_=()=>{g=window.setTimeout(()=>h(!1),o.scrollHideDelay)};return p.addEventListener("pointerenter",y),p.addEventListener("pointerleave",_),()=>{window.clearTimeout(g),p.removeEventListener("pointerenter",y),p.removeEventListener("pointerleave",_)}}},[o.scrollArea,o.scrollHideDelay]),m.jsx(Lo,{present:n||c,children:m.jsx(ww,{"data-state":c?"visible":"hidden",...i,ref:e})})}),mj=V.forwardRef((s,e)=>{const{forceMount:n,...i}=s,o=Xn(Cr,s.__scopeScrollArea),c=s.orientation==="horizontal",h=Ah(()=>g("SCROLL_END"),100),[p,g]=dj("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return V.useEffect(()=>{if(p==="idle"){const y=window.setTimeout(()=>g("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(y)}},[p,o.scrollHideDelay,g]),V.useEffect(()=>{const y=o.viewport,_=c?"scrollLeft":"scrollTop";if(y){let E=y[_];const T=()=>{const M=y[_];E!==M&&(g("SCROLL"),h()),E=M};return y.addEventListener("scroll",T),()=>y.removeEventListener("scroll",T)}},[o.viewport,c,g,h]),m.jsx(Lo,{present:n||p!=="hidden",children:m.jsx(Lg,{"data-state":p==="hidden"?"hidden":"visible",...i,ref:e,onPointerEnter:sn(s.onPointerEnter,()=>g("POINTER_ENTER")),onPointerLeave:sn(s.onPointerLeave,()=>g("POINTER_LEAVE"))})})}),ww=V.forwardRef((s,e)=>{const n=Xn(Cr,s.__scopeScrollArea),{forceMount:i,...o}=s,[c,h]=V.useState(!1),p=s.orientation==="horizontal",g=Ah(()=>{if(n.viewport){const y=n.viewport.offsetWidth<n.viewport.scrollWidth,_=n.viewport.offsetHeight<n.viewport.scrollHeight;h(p?y:_)}},10);return Ro(n.viewport,g),Ro(n.content,g),m.jsx(Lo,{present:i||c,children:m.jsx(Lg,{"data-state":c?"visible":"hidden",...o,ref:e})})}),Lg=V.forwardRef((s,e)=>{const{orientation:n="vertical",...i}=s,o=Xn(Cr,s.__scopeScrollArea),c=V.useRef(null),h=V.useRef(0),[p,g]=V.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),y=Cw(p.viewport,p.content),_={...i,sizes:p,onSizesChange:g,hasThumb:y>0&&y<1,onThumbChange:T=>c.current=T,onThumbPointerUp:()=>h.current=0,onThumbPointerDown:T=>h.current=T};function E(T,M){return bj(T,h.current,p,M)}return n==="horizontal"?m.jsx(pj,{..._,ref:e,onThumbPositionChange:()=>{if(o.viewport&&c.current){const T=o.viewport.scrollLeft,M=Wb(T,p,o.dir);c.current.style.transform=`translate3d(${M}px, 0, 0)`}},onWheelScroll:T=>{o.viewport&&(o.viewport.scrollLeft=T)},onDragScroll:T=>{o.viewport&&(o.viewport.scrollLeft=E(T,o.dir))}}):n==="vertical"?m.jsx(gj,{..._,ref:e,onThumbPositionChange:()=>{if(o.viewport&&c.current){const T=o.viewport.scrollTop,M=Wb(T,p);c.current.style.transform=`translate3d(0, ${M}px, 0)`}},onWheelScroll:T=>{o.viewport&&(o.viewport.scrollTop=T)},onDragScroll:T=>{o.viewport&&(o.viewport.scrollTop=E(T))}}):null}),pj=V.forwardRef((s,e)=>{const{sizes:n,onSizesChange:i,...o}=s,c=Xn(Cr,s.__scopeScrollArea),[h,p]=V.useState(),g=V.useRef(null),y=ar(e,g,c.onScrollbarXChange);return V.useEffect(()=>{g.current&&p(getComputedStyle(g.current))},[g]),m.jsx(Aw,{"data-orientation":"horizontal",...o,ref:y,sizes:n,style:{bottom:0,left:c.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:c.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Sh(n)+"px",...s.style},onThumbPointerDown:_=>s.onThumbPointerDown(_.x),onDragScroll:_=>s.onDragScroll(_.x),onWheelScroll:(_,E)=>{if(c.viewport){const T=c.viewport.scrollLeft+_.deltaX;s.onWheelScroll(T),Dw(T,E)&&_.preventDefault()}},onResize:()=>{g.current&&c.viewport&&h&&i({content:c.viewport.scrollWidth,viewport:c.viewport.offsetWidth,scrollbar:{size:g.current.clientWidth,paddingStart:nh(h.paddingLeft),paddingEnd:nh(h.paddingRight)}})}})}),gj=V.forwardRef((s,e)=>{const{sizes:n,onSizesChange:i,...o}=s,c=Xn(Cr,s.__scopeScrollArea),[h,p]=V.useState(),g=V.useRef(null),y=ar(e,g,c.onScrollbarYChange);return V.useEffect(()=>{g.current&&p(getComputedStyle(g.current))},[g]),m.jsx(Aw,{"data-orientation":"vertical",...o,ref:y,sizes:n,style:{top:0,right:c.dir==="ltr"?0:void 0,left:c.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Sh(n)+"px",...s.style},onThumbPointerDown:_=>s.onThumbPointerDown(_.y),onDragScroll:_=>s.onDragScroll(_.y),onWheelScroll:(_,E)=>{if(c.viewport){const T=c.viewport.scrollTop+_.deltaY;s.onWheelScroll(T),Dw(T,E)&&_.preventDefault()}},onResize:()=>{g.current&&c.viewport&&h&&i({content:c.viewport.scrollHeight,viewport:c.viewport.offsetHeight,scrollbar:{size:g.current.clientHeight,paddingStart:nh(h.paddingTop),paddingEnd:nh(h.paddingBottom)}})}})}),[yj,Sw]=_w(Cr),Aw=V.forwardRef((s,e)=>{const{__scopeScrollArea:n,sizes:i,hasThumb:o,onThumbChange:c,onThumbPointerUp:h,onThumbPointerDown:p,onThumbPositionChange:g,onDragScroll:y,onWheelScroll:_,onResize:E,...T}=s,M=Xn(Cr,n),[L,F]=V.useState(null),H=ar(e,R=>F(R)),le=V.useRef(null),ae=V.useRef(""),ie=M.viewport,Y=i.content-i.viewport,oe=$s(_),K=$s(g),C=Ah(E,10);function S(R){if(le.current){const N=R.clientX-le.current.left,O=R.clientY-le.current.top;y({x:N,y:O})}}return V.useEffect(()=>{const R=N=>{const O=N.target;(L==null?void 0:L.contains(O))&&oe(N,Y)};return document.addEventListener("wheel",R,{passive:!1}),()=>document.removeEventListener("wheel",R,{passive:!1})},[ie,L,Y,oe]),V.useEffect(K,[i,K]),Ro(L,C),Ro(M.content,C),m.jsx(yj,{scope:n,scrollbar:L,hasThumb:o,onThumbChange:$s(c),onThumbPointerUp:$s(h),onThumbPositionChange:K,onThumbPointerDown:$s(p),children:m.jsx(bn.div,{...T,ref:H,style:{position:"absolute",...T.style},onPointerDown:sn(s.onPointerDown,R=>{R.button===0&&(R.target.setPointerCapture(R.pointerId),le.current=L.getBoundingClientRect(),ae.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",M.viewport&&(M.viewport.style.scrollBehavior="auto"),S(R))}),onPointerMove:sn(s.onPointerMove,S),onPointerUp:sn(s.onPointerUp,R=>{const N=R.target;N.hasPointerCapture(R.pointerId)&&N.releasePointerCapture(R.pointerId),document.body.style.webkitUserSelect=ae.current,M.viewport&&(M.viewport.style.scrollBehavior=""),le.current=null})})})}),th="ScrollAreaThumb",Rw=V.forwardRef((s,e)=>{const{forceMount:n,...i}=s,o=Sw(th,s.__scopeScrollArea);return m.jsx(Lo,{present:n||o.hasThumb,children:m.jsx(vj,{ref:e,...i})})}),vj=V.forwardRef((s,e)=>{const{__scopeScrollArea:n,style:i,...o}=s,c=Xn(th,n),h=Sw(th,n),{onThumbPositionChange:p}=h,g=ar(e,E=>h.onThumbChange(E)),y=V.useRef(void 0),_=Ah(()=>{y.current&&(y.current(),y.current=void 0)},100);return V.useEffect(()=>{const E=c.viewport;if(E){const T=()=>{if(_(),!y.current){const M=xj(E,p);y.current=M,p()}};return p(),E.addEventListener("scroll",T),()=>E.removeEventListener("scroll",T)}},[c.viewport,_,p]),m.jsx(bn.div,{"data-state":h.hasThumb?"visible":"hidden",...o,ref:g,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...i},onPointerDownCapture:sn(s.onPointerDownCapture,E=>{const M=E.target.getBoundingClientRect(),L=E.clientX-M.left,F=E.clientY-M.top;h.onThumbPointerDown({x:L,y:F})}),onPointerUp:sn(s.onPointerUp,h.onThumbPointerUp)})});Rw.displayName=th;var Ug="ScrollAreaCorner",Nw=V.forwardRef((s,e)=>{const n=Xn(Ug,s.__scopeScrollArea),i=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&i?m.jsx(_j,{...s,ref:e}):null});Nw.displayName=Ug;var _j=V.forwardRef((s,e)=>{const{__scopeScrollArea:n,...i}=s,o=Xn(Ug,n),[c,h]=V.useState(0),[p,g]=V.useState(0),y=!!(c&&p);return Ro(o.scrollbarX,()=>{var E;const _=((E=o.scrollbarX)==null?void 0:E.offsetHeight)||0;o.onCornerHeightChange(_),g(_)}),Ro(o.scrollbarY,()=>{var E;const _=((E=o.scrollbarY)==null?void 0:E.offsetWidth)||0;o.onCornerWidthChange(_),h(_)}),y?m.jsx(bn.div,{...i,ref:e,style:{width:c,height:p,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...s.style}}):null});function nh(s){return s?parseInt(s,10):0}function Cw(s,e){const n=s/e;return isNaN(n)?0:n}function Sh(s){const e=Cw(s.viewport,s.content),n=s.scrollbar.paddingStart+s.scrollbar.paddingEnd,i=(s.scrollbar.size-n)*e;return Math.max(i,18)}function bj(s,e,n,i="ltr"){const o=Sh(n),c=o/2,h=e||c,p=o-h,g=n.scrollbar.paddingStart+h,y=n.scrollbar.size-n.scrollbar.paddingEnd-p,_=n.content-n.viewport,E=i==="ltr"?[0,_]:[_*-1,0];return Iw([g,y],E)(s)}function Wb(s,e,n="ltr"){const i=Sh(e),o=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,c=e.scrollbar.size-o,h=e.content-e.viewport,p=c-i,g=n==="ltr"?[0,h]:[h*-1,0],y=uj(s,g);return Iw([0,h],[0,p])(y)}function Iw(s,e){return n=>{if(s[0]===s[1]||e[0]===e[1])return e[0];const i=(e[1]-e[0])/(s[1]-s[0]);return e[0]+i*(n-s[0])}}function Dw(s,e){return s>0&&s<e}var xj=(s,e=()=>{})=>{let n={left:s.scrollLeft,top:s.scrollTop},i=0;return function o(){const c={left:s.scrollLeft,top:s.scrollTop},h=n.left!==c.left,p=n.top!==c.top;(h||p)&&e(),n=c,i=window.requestAnimationFrame(o)}(),()=>window.cancelAnimationFrame(i)};function Ah(s,e){const n=$s(s),i=V.useRef(0);return V.useEffect(()=>()=>window.clearTimeout(i.current),[]),V.useCallback(()=>{window.clearTimeout(i.current),i.current=window.setTimeout(n,e)},[n,e])}function Ro(s,e){const n=$s(e);xc(()=>{let i=0;if(s){const o=new ResizeObserver(()=>{cancelAnimationFrame(i),i=window.requestAnimationFrame(n)});return o.observe(s),()=>{window.cancelAnimationFrame(i),o.unobserve(s)}}},[s,n])}var Ej=bw,Tj=Ew,wj=Nw;function Sj({className:s,children:e,...n}){return m.jsxs(Ej,{"data-slot":"scroll-area",className:Bt("relative",s),...n,children:[m.jsx(Tj,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:e}),m.jsx(Aj,{}),m.jsx(wj,{})]})}function Aj({className:s,orientation:e="vertical",...n}){return m.jsx(Tw,{"data-slot":"scroll-area-scrollbar",orientation:e,className:Bt("flex touch-none p-px transition-colors select-none",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",s),...n,children:m.jsx(Rw,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}const Rj=({onNavigate:s})=>{const[e,n]=V.useState([]),[i,o]=V.useState(""),[c,h]=V.useState(!1),[p,g]=V.useState(!0),y=V.useRef(null),_=V.useRef(null),{user:E}=ca();V.useEffect(()=>{E&&T()},[E]),V.useEffect(()=>{M()},[e]);const T=async()=>{try{g(!0);const Y=await ns.getChatHistory();n(Y)}catch(Y){console.error("Error loading chat history:",Y)}finally{g(!1)}},M=()=>{var Y;(Y=_.current)==null||Y.scrollIntoView({behavior:"smooth"})},L=async(Y=i)=>{if(!Y.trim()||c)return;if(!E){alert("Você precisa estar logado para usar o assistente.");return}const oe=Y.trim();o(""),h(!0);const K={id:Date.now().toString(),text:oe,sender:"user",timestamp:new Date,userId:E.uid};n(C=>[...C,K]);try{const C=await ns.sendMessageToAssistant(oe),S={id:(Date.now()+1).toString(),text:C,sender:"assistant",timestamp:new Date};n(R=>[...R,S])}catch(C){console.error("Error sending message:",C),n(S=>S.filter(R=>R.id!==K.id)),alert("Não foi possível enviar a mensagem. Tente novamente.")}finally{h(!1)}},F=Y=>{Y.preventDefault(),L()},H=Y=>Y?(Y.toDate?Y.toDate():new Date(Y)).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}):"",le=["Como posso melhorar minha pontuação nos jogos?","Quais jogos são melhores para aprender matemática?","Como funciona o sistema de progresso?","Preciso de ajuda com português","Explique sobre os jogos de ciências"],ae=(Y,oe)=>{const K=Y.sender==="user";return m.jsxs("div",{className:`flex gap-3 mb-4 ${K?"justify-end":"justify-start"}`,children:[!K&&m.jsx("div",{className:"bg-blue-100 p-2 rounded-full flex-shrink-0",children:m.jsx(vd,{className:"h-5 w-5 text-blue-600"})}),m.jsxs("div",{className:`max-w-[80%] p-3 rounded-lg ${K?"bg-blue-600 text-white rounded-br-sm":"bg-gray-100 text-gray-900 rounded-bl-sm"}`,children:[m.jsx("p",{className:"text-sm leading-relaxed",children:Y.text}),m.jsx("p",{className:`text-xs mt-1 ${K?"text-blue-100":"text-gray-500"}`,children:H(Y.timestamp)})]}),K&&m.jsx("div",{className:"bg-blue-600 p-2 rounded-full flex-shrink-0",children:m.jsx(YO,{className:"h-5 w-5 text-white"})})]},Y.id||oe)},ie=()=>m.jsxs("div",{className:"text-center py-8 px-4",children:[m.jsx("div",{className:"bg-blue-100 p-4 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:m.jsx(vd,{className:"h-8 w-8 text-blue-600"})}),m.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Olá! Sou seu Assistente Virtual"}),m.jsx("p",{className:"text-gray-600 mb-6",children:"Estou aqui para te ajudar com suas dúvidas sobre os jogos e conteúdos educativos. Pode me perguntar qualquer coisa!"}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("p",{className:"text-sm font-medium text-gray-700 mb-3",children:"Sugestões de perguntas:"}),le.map((Y,oe)=>m.jsxs(Ot,{variant:"outline",size:"sm",className:"block w-full text-left",onClick:()=>L(Y),children:[m.jsx(RO,{className:"h-4 w-4 mr-2"}),Y]},oe))]})]});return E?m.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[m.jsx("header",{className:"bg-white shadow-sm border-b",children:m.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"flex items-center h-16",children:[m.jsxs(Ot,{variant:"ghost",onClick:()=>s("dashboard"),children:[m.jsx(Id,{className:"h-4 w-4 mr-2"}),"Dashboard"]}),m.jsxs("div",{className:"flex items-center gap-3 ml-4",children:[m.jsx(vd,{className:"h-6 w-6 text-blue-600"}),m.jsxs("div",{children:[m.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Assistente Virtual"}),m.jsx("p",{className:"text-sm text-gray-600",children:E?`Logado como ${E.displayName}`:"Não logado"})]})]}),m.jsx("div",{className:"ml-auto",children:m.jsx(eh,{variant:"secondary",children:"Online"})})]})})}),m.jsxs("div",{className:"flex-1 max-w-4xl mx-auto w-full flex flex-col",children:[m.jsx("div",{className:"flex-1 p-4",children:m.jsx(vn,{className:"h-full flex flex-col",children:m.jsx(_n,{className:"flex-1 p-0",children:m.jsx(Sj,{className:"h-[60vh] p-4",ref:y,children:p?m.jsxs("div",{className:"flex items-center justify-center py-8",children:[m.jsx(yo,{className:"h-6 w-6 animate-spin text-gray-400"}),m.jsx("span",{className:"ml-2 text-gray-600",children:"Carregando conversa..."})]}):e.length===0?ie():m.jsxs("div",{children:[e.map(ae),c&&m.jsxs("div",{className:"flex gap-3 mb-4",children:[m.jsx("div",{className:"bg-blue-100 p-2 rounded-full flex-shrink-0",children:m.jsx(vd,{className:"h-5 w-5 text-blue-600"})}),m.jsx("div",{className:"bg-gray-100 p-3 rounded-lg rounded-bl-sm",children:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(yo,{className:"h-4 w-4 animate-spin"}),m.jsx("span",{className:"text-sm text-gray-600",children:"Assistente está digitando..."})]})})]}),m.jsx("div",{ref:_})]})})})})}),m.jsxs("div",{className:"p-4 bg-white border-t",children:[m.jsxs("form",{onSubmit:F,className:"flex gap-2",children:[m.jsx(oo,{value:i,onChange:Y=>o(Y.target.value),placeholder:"Digite sua mensagem...",className:"flex-1",disabled:c,maxLength:500}),m.jsx(Ot,{type:"submit",disabled:!i.trim()||c,size:"icon",children:c?m.jsx(yo,{className:"h-4 w-4 animate-spin"}):m.jsx(zO,{className:"h-4 w-4"})})]}),m.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Pressione Enter para enviar • ",i.length,"/500 caracteres"]})]})]}),e.length>0&&m.jsx("div",{className:"bg-white border-t p-4",children:m.jsxs("div",{className:"max-w-4xl mx-auto",children:[m.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Perguntas rápidas:"}),m.jsx("div",{className:"flex flex-wrap gap-2",children:le.slice(0,3).map((Y,oe)=>m.jsx(Ot,{variant:"outline",size:"sm",onClick:()=>L(Y),disabled:c,children:Y},oe))})]})})]}):m.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:m.jsxs(vn,{className:"max-w-md w-full",children:[m.jsxs(is,{className:"text-center",children:[m.jsx(Ec,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),m.jsx(as,{children:"Assistente Virtual"})]}),m.jsxs(_n,{className:"text-center",children:[m.jsx("p",{className:"text-gray-600 mb-4",children:"Você precisa estar logado para conversar com o assistente."}),m.jsx(Ot,{onClick:()=>s("login"),children:"Fazer Login"})]})]})})},Nj=()=>{var Y,oe;const{user:s}=ca(),[e,n]=V.useState([]),[i,o]=V.useState([]),[c,h]=V.useState(null),[p,g]=V.useState("overview"),[y,_]=V.useState(!1),[E,T]=V.useState(!1),[M,L]=V.useState({title:"",description:"",type:"quiz",dueDate:"",assignedTo:[],points:100});V.useEffect(()=>{s&&F()},[s]);const F=async()=>{try{_(!0);const[K,C]=await Promise.all([kD(),VD(s.uid)]);n(K),o(C)}catch(K){console.error("Erro ao carregar dados:",K)}finally{_(!1)}},H=async()=>{try{_(!0),await PD(s.uid,M),L({title:"",description:"",type:"quiz",dueDate:"",assignedTo:[],points:100}),T(!1),await F()}catch(K){console.error("Erro ao criar tarefa:",K)}finally{_(!1)}},le=async K=>{if(window.confirm("Tem certeza que deseja excluir esta tarefa?"))try{await LD(K),await F()}catch(C){console.error("Erro ao excluir tarefa:",C)}},ie=(()=>{const K=e.length,C=e.filter(R=>R.progress&&Object.keys(R.progress).length>0).length,S=e.reduce((R,N)=>{var Qe;const O=((Qe=N.progress)==null?void 0:Qe.techModules)||{},j=Object.values(O).map(Ie=>Ie.score||0),I=j.length>0?j.reduce((Ie,$)=>Ie+$,0)/j.length:0;return R+I},0)/(K||1);return{totalStudents:K,activeStudents:C,averageScore:Math.round(S)}})();return y&&e.length===0?m.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-blue-100 flex items-center justify-center",children:m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-4"}),m.jsx("p",{className:"text-gray-600",children:"Carregando dados..."})]})}):m.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-blue-100 p-4",children:m.jsxs("div",{className:"max-w-7xl mx-auto",children:[m.jsx("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Área do Professor 👨‍🏫"}),m.jsx("p",{className:"text-gray-600",children:"Gerencie seus alunos, acompanhe o progresso e crie tarefas personalizadas"})]}),m.jsx("button",{onClick:()=>T(!0),className:"bg-purple-600 hover:bg-purple-700 text-white px-6 py-3 rounded-lg font-medium transition-colors",children:"+ Nova Tarefa"})]})}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[m.jsx("div",{className:"bg-white rounded-lg shadow-lg p-6",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:m.jsx("span",{className:"text-2xl",children:"👥"})}),m.jsxs("div",{className:"ml-4",children:[m.jsx("p",{className:"text-sm text-gray-600",children:"Total de Alunos"}),m.jsx("p",{className:"text-2xl font-bold text-blue-600",children:ie.totalStudents})]})]})}),m.jsx("div",{className:"bg-white rounded-lg shadow-lg p-6",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:m.jsx("span",{className:"text-2xl",children:"✅"})}),m.jsxs("div",{className:"ml-4",children:[m.jsx("p",{className:"text-sm text-gray-600",children:"Alunos Ativos"}),m.jsx("p",{className:"text-2xl font-bold text-green-600",children:ie.activeStudents})]})]})}),m.jsx("div",{className:"bg-white rounded-lg shadow-lg p-6",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"bg-yellow-100 p-3 rounded-full",children:m.jsx("span",{className:"text-2xl",children:"📊"})}),m.jsxs("div",{className:"ml-4",children:[m.jsx("p",{className:"text-sm text-gray-600",children:"Pontuação Média"}),m.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:ie.averageScore})]})]})}),m.jsx("div",{className:"bg-white rounded-lg shadow-lg p-6",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"bg-purple-100 p-3 rounded-full",children:m.jsx("span",{className:"text-2xl",children:"📝"})}),m.jsxs("div",{className:"ml-4",children:[m.jsx("p",{className:"text-sm text-gray-600",children:"Tarefas Criadas"}),m.jsx("p",{className:"text-2xl font-bold text-purple-600",children:i.length})]})]})})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow-lg mb-6",children:[m.jsx("div",{className:"border-b border-gray-200",children:m.jsx("nav",{className:"flex space-x-8 px-6",children:[{id:"overview",label:"Visão Geral",icon:"📊"},{id:"students",label:"Alunos",icon:"👥"},{id:"tasks",label:"Tarefas",icon:"📝"},{id:"reports",label:"Relatórios",icon:"📈"}].map(K=>m.jsxs("button",{onClick:()=>g(K.id),className:`py-4 px-2 border-b-2 font-medium text-sm transition-colors ${p===K.id?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[m.jsx("span",{className:"mr-2",children:K.icon}),K.label]},K.id))})}),m.jsxs("div",{className:"p-6",children:[p==="overview"&&m.jsxs("div",{className:"space-y-6",children:[m.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Atividade Recente"}),m.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[m.jsx("h4",{className:"text-lg font-medium text-gray-800 mb-4",children:"Progresso nos Módulos de Tecnologia"}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[{name:"Lógica de Programação",completed:e.filter(K=>{var C,S,R;return(R=(S=(C=K.progress)==null?void 0:C.techModules)==null?void 0:S["logic-programming"])==null?void 0:R.completed}).length},{name:"Python Fundamentals",completed:e.filter(K=>{var C,S,R;return(R=(S=(C=K.progress)==null?void 0:C.techModules)==null?void 0:S["python-fundamentals"])==null?void 0:R.completed}).length},{name:"Desenvolvimento Web",completed:e.filter(K=>{var C,S,R;return(R=(S=(C=K.progress)==null?void 0:C.techModules)==null?void 0:S["web-frontend"])==null?void 0:R.completed}).length}].map((K,C)=>m.jsxs("div",{className:"bg-white p-4 rounded-lg",children:[m.jsx("h5",{className:"font-medium text-gray-800",children:K.name}),m.jsxs("div",{className:"mt-2",children:[m.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[m.jsxs("span",{children:[K.completed," de ",ie.totalStudents," alunos"]}),m.jsxs("span",{children:[Math.round(K.completed/(ie.totalStudents||1)*100),"%"]})]}),m.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-1",children:m.jsx("div",{className:"bg-purple-600 h-2 rounded-full",style:{width:`${K.completed/(ie.totalStudents||1)*100}%`}})})]})]},C))})]}),m.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[m.jsx("h4",{className:"text-lg font-medium text-gray-800 mb-4",children:"Top 5 Alunos"}),m.jsx("div",{className:"space-y-3",children:e.sort((K,C)=>{var N,O;const S=Object.values(((N=K.progress)==null?void 0:N.techModules)||{}).reduce((j,I)=>j+(I.score||0),0);return Object.values(((O=C.progress)==null?void 0:O.techModules)||{}).reduce((j,I)=>j+(I.score||0),0)-S}).slice(0,5).map((K,C)=>{var R;const S=Object.values(((R=K.progress)==null?void 0:R.techModules)||{}).reduce((N,O)=>N+(O.score||0),0);return m.jsxs("div",{className:"flex items-center justify-between bg-white p-3 rounded-lg",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx("span",{className:"text-lg mr-3",children:C===0?"🥇":C===1?"🥈":C===2?"🥉":"🏅"}),m.jsx("span",{className:"font-medium",children:K.displayName||K.email})]}),m.jsxs("span",{className:"text-purple-600 font-bold",children:[S," pts"]})]},K.uid)})})]})]}),p==="students"&&m.jsxs("div",{children:[m.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Lista de Alunos"}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"min-w-full bg-white",children:[m.jsx("thead",{className:"bg-gray-50",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aluno"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Módulos Completados"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pontuação Total"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Último Acesso"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ações"})]})}),m.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(K=>{var N;const C=((N=K.progress)==null?void 0:N.techModules)||{},S=Object.values(C).filter(O=>O.completed).length,R=Object.values(C).reduce((O,j)=>O+(j.score||0),0);return m.jsxs("tr",{className:"hover:bg-gray-50",children:[m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:m.jsx("div",{className:"h-10 w-10 rounded-full bg-purple-100 flex items-center justify-center",children:m.jsx("span",{className:"text-purple-600 font-medium",children:(K.displayName||K.email).charAt(0).toUpperCase()})})}),m.jsxs("div",{className:"ml-4",children:[m.jsx("div",{className:"text-sm font-medium text-gray-900",children:K.displayName||"Sem nome"}),m.jsx("div",{className:"text-sm text-gray-500",children:K.email})]})]})}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[S," módulos"]})}),m.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[R," pontos"]}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:K.lastLoginAt?new Date(K.lastLoginAt).toLocaleDateString("pt-BR"):"Nunca"}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:m.jsx("button",{onClick:()=>h(K),className:"text-purple-600 hover:text-purple-900",children:"Ver Detalhes"})})]},K.uid)})})]})})]}),p==="tasks"&&m.jsxs("div",{children:[m.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Tarefas Criadas"}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(K=>{var C;return m.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[m.jsxs("div",{className:"flex items-start justify-between mb-4",children:[m.jsx("h4",{className:"text-lg font-medium text-gray-800",children:K.title}),m.jsx("div",{className:"flex space-x-2",children:m.jsx("button",{onClick:()=>le(K.id),className:"text-red-600 hover:text-red-800",children:"🗑️"})})]}),m.jsx("p",{className:"text-gray-600 mb-4",children:K.description}),m.jsxs("div",{className:"space-y-2 text-sm",children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-gray-500",children:"Tipo:"}),m.jsx("span",{className:"font-medium",children:K.type})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-gray-500",children:"Prazo:"}),m.jsx("span",{className:"font-medium",children:K.dueDate?new Date(K.dueDate).toLocaleDateString("pt-BR"):"Sem prazo"})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-gray-500",children:"Pontos:"}),m.jsx("span",{className:"font-medium",children:K.points})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-gray-500",children:"Atribuída a:"}),m.jsxs("span",{className:"font-medium",children:[((C=K.assignedTo)==null?void 0:C.length)||0," alunos"]})]})]})]},K.id)})})]}),p==="reports"&&m.jsxs("div",{children:[m.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Relatórios de Desempenho"}),m.jsx("div",{className:"bg-gray-50 rounded-lg p-6",children:m.jsx("p",{className:"text-gray-600 text-center",children:"Funcionalidade de relatórios em desenvolvimento. Em breve você poderá exportar dados detalhados de progresso dos alunos."})})]})]})]}),E&&m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:m.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Nova Tarefa"}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Título"}),m.jsx("input",{type:"text",value:M.title,onChange:K=>L({...M,title:K.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-purple-500 focus:border-purple-500",placeholder:"Digite o título da tarefa"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrição"}),m.jsx("textarea",{value:M.description,onChange:K=>L({...M,description:K.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-purple-500 focus:border-purple-500",rows:"3",placeholder:"Descreva a tarefa"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo"}),m.jsxs("select",{value:M.type,onChange:K=>L({...M,type:K.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-purple-500 focus:border-purple-500",children:[m.jsx("option",{value:"quiz",children:"Quiz"}),m.jsx("option",{value:"exercise",children:"Exercício"}),m.jsx("option",{value:"project",children:"Projeto"}),m.jsx("option",{value:"reading",children:"Leitura"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data de Entrega"}),m.jsx("input",{type:"date",value:M.dueDate,onChange:K=>L({...M,dueDate:K.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-purple-500 focus:border-purple-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pontos"}),m.jsx("input",{type:"number",value:M.points,onChange:K=>L({...M,points:parseInt(K.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-purple-500 focus:border-purple-500",min:"1",max:"1000"})]})]}),m.jsxs("div",{className:"flex space-x-3 mt-6",children:[m.jsx("button",{onClick:()=>T(!1),className:"flex-1 px-4 py-2 text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancelar"}),m.jsx("button",{onClick:H,disabled:!M.title||!M.description||y,className:"flex-1 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:y?"Criando...":"Criar Tarefa"})]})]})}),c&&m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:m.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl mx-4 max-h-[80vh] overflow-y-auto",children:[m.jsxs("div",{className:"flex items-center justify-between mb-6",children:[m.jsxs("h3",{className:"text-lg font-semibold text-gray-800",children:["Detalhes do Aluno: ",c.displayName||c.email]}),m.jsx("button",{onClick:()=>h(null),className:"text-gray-500 hover:text-gray-700",children:"✕"})]}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[m.jsx("h4",{className:"font-medium text-gray-800 mb-3",children:"Informações Básicas"}),m.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[m.jsxs("div",{children:[m.jsx("span",{className:"text-gray-500",children:"Email:"}),m.jsx("p",{className:"font-medium",children:c.email})]}),m.jsxs("div",{children:[m.jsx("span",{className:"text-gray-500",children:"Último acesso:"}),m.jsx("p",{className:"font-medium",children:c.lastLoginAt?new Date(c.lastLoginAt).toLocaleDateString("pt-BR"):"Nunca"})]})]})]}),m.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[m.jsx("h4",{className:"font-medium text-gray-800 mb-3",children:"Progresso nos Módulos de Tecnologia"}),m.jsxs("div",{className:"space-y-3",children:[Object.entries(((Y=c.progress)==null?void 0:Y.techModules)||{}).map(([K,C])=>m.jsxs("div",{className:"bg-white p-3 rounded-lg",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("span",{className:"font-medium capitalize",children:K.replace("-"," ")}),m.jsxs("div",{className:"text-right",children:[m.jsxs("span",{className:"text-green-600 font-bold",children:[C.score||0," pts"]}),C.completed&&m.jsx("span",{className:"ml-2 text-xs bg-green-100 text-green-800 px-2 py-1 rounded-full",children:"Concluído"})]})]}),C.completedAt&&m.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Concluído em: ",new Date(C.completedAt).toLocaleDateString("pt-BR")]})]},K)),Object.keys(((oe=c.progress)==null?void 0:oe.techModules)||{}).length===0&&m.jsx("p",{className:"text-gray-500 text-center py-4",children:"Nenhum módulo iniciado ainda"})]})]})]}),m.jsx("div",{className:"mt-6 flex justify-end",children:m.jsx("button",{onClick:()=>h(null),className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:"Fechar"})})]})})]})})},Zb=({isOpen:s,onClose:e})=>{const[n,i]=V.useState("initial"),[o,c]=V.useState(""),[h,p]=V.useState(""),[g,y]=V.useState(""),[_,E]=V.useState(!1),T=[{id:"anxious",label:"Ansioso(a)",emoji:"😰",color:"bg-yellow-100 border-yellow-300"},{id:"sad",label:"Triste",emoji:"😢",color:"bg-blue-100 border-blue-300"},{id:"stressed",label:"Estressado(a)",emoji:"😤",color:"bg-red-100 border-red-300"},{id:"overwhelmed",label:"Sobrecarregado(a)",emoji:"😵",color:"bg-purple-100 border-purple-300"},{id:"lonely",label:"Sozinho(a)",emoji:"😔",color:"bg-gray-100 border-gray-300"},{id:"angry",label:"Irritado(a)",emoji:"😠",color:"bg-orange-100 border-orange-300"},{id:"confused",label:"Confuso(a)",emoji:"😕",color:"bg-indigo-100 border-indigo-300"},{id:"tired",label:"Cansado(a)",emoji:"😴",color:"bg-green-100 border-green-300"}],M=[{name:"CVV - Centro de Valorização da Vida",phone:"188",description:"Prevenção do suicídio - 24h gratuito"},{name:"CAPS - Centro de Atenção Psicossocial",phone:"136",description:"Saúde mental - Disque Saúde"},{name:"Polícia Militar",phone:"190",description:"Emergências gerais"},{name:"SAMU",phone:"192",description:"Emergências médicas"}],L=[{icon:"🧘",title:"Respiração Profunda",description:"Inspire por 4 segundos, segure por 4, expire por 6"},{icon:"🚶",title:"Caminhada",description:"Uma caminhada de 10 minutos pode melhorar o humor"},{icon:"💧",title:"Hidratação",description:"Beba um copo de água e observe como se sente"},{icon:"🎵",title:"Música Relaxante",description:"Ouça uma música que te acalme"},{icon:"📱",title:"Contato Social",description:"Converse com alguém de confiança"},{icon:"📝",title:"Escrever",description:"Anote seus sentimentos em um papel"}],F=async(Y,oe)=>{E(!0);try{const K={anxious:{immediate:"Entendo que você está se sentindo ansioso(a). A ansiedade é uma resposta natural do nosso corpo, mas quando se torna intensa, pode ser desconfortável. Primeiro, vamos focar na sua respiração.",guidance:"Técnicas que podem ajudar agora: 1) Respiração 4-7-8: inspire por 4, segure por 7, expire por 8. 2) Nomeie 5 coisas que você vê, 4 que você ouve, 3 que você toca, 2 que você cheira, 1 que você saboreia. 3) Lembre-se: este sentimento é temporário.",longTerm:"Para o futuro, considere: estabelecer uma rotina de exercícios leves, praticar mindfulness diariamente, e se a ansiedade persistir, buscar ajuda profissional é um sinal de força, não fraqueza."},sad:{immediate:"Sinto muito que você esteja passando por um momento difícil. A tristeza é uma emoção válida e importante - ela nos ajuda a processar experiências difíceis. Você não está sozinho(a).",guidance:"Permita-se sentir essa emoção sem julgamento. Algumas coisas que podem ajudar: conversar com alguém de confiança, fazer uma atividade que normalmente te dá prazer (mesmo que pequena), ou simplesmente descansar.",longTerm:"Lembre-se de que é normal ter dias difíceis. Se a tristeza persistir por várias semanas ou interferir nas suas atividades diárias, considere conversar com um profissional de saúde mental."},stressed:{immediate:"O estresse pode ser muito desgastante. Reconhecer que você está estressado(a) já é um primeiro passo importante. Vamos trabalhar para diminuir essa tensão agora.",guidance:"Técnicas imediatas: faça uma pausa de 5 minutos, pratique respiração profunda, alongue o pescoço e ombros, ou faça uma lista das suas prioridades para organizar os pensamentos.",longTerm:"Para gerenciar o estresse a longo prazo: identifique as principais fontes de estresse, aprenda a dizer 'não' quando necessário, e desenvolva uma rede de apoio social."},overwhelmed:{immediate:"Sentir-se sobrecarregado(a) pode ser muito angustiante. É como se tudo fosse urgente ao mesmo tempo. Vamos quebrar isso em partes menores e mais manejáveis.",guidance:"Agora: pare tudo por 10 minutos. Respire fundo. Faça uma lista de tudo que está te preocupando. Depois, marque apenas 1-2 itens como realmente urgentes para hoje.",longTerm:"Aprenda a priorizar tarefas, delegue quando possível, e lembre-se: você não precisa fazer tudo perfeitamente. 'Bom o suficiente' às vezes é exatamente o que precisamos."},lonely:{immediate:"A solidão pode ser muito dolorosa. É importante saber que sentir-se sozinho(a) não significa que você está realmente sozinho(a) - muitas pessoas se importam com você.",guidance:"Considere: enviar uma mensagem para um amigo ou familiar, participar de uma atividade online, ou até mesmo conversar com alguém em um espaço público como uma cafeteria.",longTerm:"Construir conexões leva tempo. Considere se juntar a grupos com interesses similares, fazer trabalho voluntário, ou participar de atividades comunitárias."},angry:{immediate:"A raiva é uma emoção natural que geralmente indica que algo importante para você foi ameaçado ou violado. É válido sentir raiva, mas vamos canalizá-la de forma saudável.",guidance:"Para agora: conte até 10 (ou 100), faça exercício físico intenso por alguns minutos, ou escreva sobre o que está te irritando sem se censurar.",longTerm:"Identifique os gatilhos da sua raiva, pratique comunicação assertiva para expressar suas necessidades, e considere técnicas de relaxamento regulares."},confused:{immediate:"Sentir-se confuso(a) pode ser frustrante, especialmente quando precisamos tomar decisões. É normal não ter todas as respostas imediatamente.",guidance:"Tente: escrever sobre a situação que está te confundindo, conversar com alguém de confiança para ter uma perspectiva externa, ou dar um tempo para a situação antes de tomar decisões importantes.",longTerm:"Lembre-se de que a confusão é temporária. Às vezes, precisamos de mais informações ou simplesmente de tempo para que as coisas se esclareçam."},tired:{immediate:"O cansaço pode ser físico, mental ou emocional. É importante honrar essa necessidade do seu corpo e mente de descansar.",guidance:"Se possível: tire uma soneca de 20 minutos, faça uma atividade relaxante, ou simplesmente permita-se não ser produtivo(a) por um tempo.",longTerm:"Avalie seus padrões de sono, nutrição e exercício. Cansaço persistente pode indicar necessidade de mudanças no estilo de vida ou consulta médica."}},C=K[Y]||K.anxious;let S=`${C.immediate}

${C.guidance}

${C.longTerm}`;oe.trim()&&(S+=`

Sobre o que você compartilhou: "${oe}" - Obrigado por confiar em mim com seus sentimentos. Cada pessoa é única, e suas experiências são válidas. Se você sente que precisa de mais apoio, não hesite em procurar ajuda profissional.`),y(S),i("response")}catch(K){console.error("Erro ao gerar resposta:",K),y("Desculpe, houve um erro. Por favor, tente novamente ou procure ajuda profissional se necessário."),i("response")}finally{E(!1)}},H=Y=>{c(Y),i("message")},le=()=>{F(o,h)},ae=()=>{i("initial"),c(""),p(""),y(""),E(!1)},ie=()=>{ae(),e()};return s?m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:m.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[m.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx(Rp,{className:"h-6 w-6 text-pink-500"}),m.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Suporte Emocional"})]}),m.jsx("button",{onClick:ie,className:"text-gray-400 hover:text-gray-600 transition-colors",children:m.jsx(WO,{className:"h-6 w-6"})})]}),m.jsxs("div",{className:"p-6",children:[n==="initial"&&m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-2",children:"Como você está se sentindo agora?"}),m.jsx("p",{className:"text-gray-600",children:"Escolha a opção que melhor descreve seu estado emocional atual. Estou aqui para te ajudar com orientações personalizadas."})]}),m.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:T.map(Y=>m.jsxs("button",{onClick:()=>H(Y.id),className:`p-4 rounded-lg border-2 transition-all hover:shadow-md ${Y.color} hover:scale-105`,children:[m.jsx("div",{className:"text-2xl mb-2",children:Y.emoji}),m.jsx("div",{className:"text-sm font-medium text-gray-700",children:Y.label})]},Y.id))}),m.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[m.jsxs("h4",{className:"font-medium text-red-800 mb-2 flex items-center",children:[m.jsx(kO,{className:"h-4 w-4 mr-2"}),"Em caso de emergência"]}),m.jsx("p",{className:"text-red-700 text-sm mb-3",children:"Se você está pensando em se machucar ou está em crise, procure ajuda imediatamente:"}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:M.map((Y,oe)=>m.jsxs("div",{className:"text-sm",children:[m.jsx("span",{className:"font-medium text-red-800",children:Y.name}),m.jsx("br",{}),m.jsxs("span",{className:"text-red-600",children:["📞 ",Y.phone]}),m.jsx("br",{}),m.jsx("span",{className:"text-red-600 text-xs",children:Y.description})]},oe))})]})]}),n==="message"&&m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-2",children:"Conte-me mais sobre como você está se sentindo"}),m.jsx("p",{className:"text-gray-600",children:"Compartilhe o que está acontecendo. Suas palavras me ajudarão a oferecer orientações mais personalizadas. (Opcional)"})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsx("textarea",{value:h,onChange:Y=>p(Y.target.value),placeholder:"Descreva o que você está sentindo ou vivenciando... (opcional)",className:"w-full p-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",rows:6}),m.jsxs("div",{className:"flex space-x-3",children:[m.jsx("button",{onClick:()=>i("initial"),className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Voltar"}),m.jsx("button",{onClick:le,disabled:_,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:_?"Preparando orientação...":"Receber Orientação"})]})]})]}),n==="response"&&m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[m.jsxs("h3",{className:"text-lg font-medium text-blue-800 mb-4 flex items-center",children:[m.jsx(Ec,{className:"h-5 w-5 mr-2"}),"Orientação Personalizada"]}),m.jsx("div",{className:"text-blue-700 whitespace-pre-line leading-relaxed",children:g})]}),m.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6",children:[m.jsxs("h4",{className:"font-medium text-green-800 mb-4 flex items-center",children:[m.jsx(BO,{className:"h-5 w-5 mr-2"}),"Atividades de Autocuidado"]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:L.map((Y,oe)=>m.jsx("div",{className:"bg-white p-3 rounded border border-green-200",children:m.jsxs("div",{className:"flex items-start space-x-3",children:[m.jsx("span",{className:"text-lg",children:Y.icon}),m.jsxs("div",{children:[m.jsx("h5",{className:"font-medium text-green-800 text-sm",children:Y.title}),m.jsx("p",{className:"text-green-700 text-xs",children:Y.description})]})]})},oe))})]}),m.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[m.jsxs("h4",{className:"font-medium text-purple-800 mb-2 flex items-center",children:[m.jsx($O,{className:"h-4 w-4 mr-2"}),"Lembre-se"]}),m.jsx("p",{className:"text-purple-700 text-sm",children:"Estas orientações são um primeiro apoio, mas não substituem o acompanhamento profissional. Se você está enfrentando dificuldades persistentes, considere buscar ajuda de um psicólogo ou psiquiatra. Cuidar da saúde mental é tão importante quanto cuidar da saúde física."})]}),m.jsxs("div",{className:"flex space-x-3",children:[m.jsx("button",{onClick:ae,className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Nova Consulta"}),m.jsx("button",{onClick:ie,className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Obrigado pela Ajuda"})]})]})]})]})}):null};function Cj(){const[s,e]=V.useState("dashboard"),[n,i]=V.useState(null),[o,c]=V.useState(!0),[h,p]=V.useState(!1),{user:g,loading:y,logout:_}=ca(),E=F=>{e(F)};V.useEffect(()=>{g?T():c(!1)},[g]);const T=async()=>{try{const F=await MD(g.uid);i(F)}catch(F){console.error("Erro ao carregar dados do usuário:",F)}finally{c(!1)}},M=async()=>{try{await _(),e("dashboard")}catch(F){console.error("Erro ao fazer logout:",F)}};if(V.useEffect(()=>{!y&&!g?e("login"):!y&&g&&s==="login"&&e("dashboard")},[g,y,s]),y||o)return m.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:m.jsxs("div",{className:"text-center",children:[m.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[m.jsx(Ao,{className:"h-12 w-12 text-indigo-600"}),m.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"IAPrender"})]}),m.jsx(yo,{className:"h-8 w-8 animate-spin text-indigo-600 mx-auto mb-4"}),m.jsx("p",{className:"text-gray-600",children:"Carregando aplicação..."})]})});if(!g)return m.jsx(ZO,{});if((n==null?void 0:n.role)==="teacher")return m.jsxs(m.Fragment,{children:[m.jsx(Nj,{}),m.jsx("button",{onClick:()=>p(!0),className:"fixed bottom-6 right-6 bg-pink-500 hover:bg-pink-600 text-white p-4 rounded-full shadow-lg transition-all duration-300 hover:scale-110 z-40",title:"Precisa de suporte emocional?",children:m.jsx(Rp,{className:"h-6 w-6"})}),m.jsx(Zb,{isOpen:h,onClose:()=>p(!1)})]});const L=()=>{switch(s){case"dashboard":return m.jsx(Xb,{onNavigate:E});case"games":return m.jsx(lj,{onNavigate:E});case"tech-modules":return m.jsx(cj,{onNavigate:E});case"chat":return m.jsx(Rj,{onNavigate:E});default:return m.jsx(Xb,{onNavigate:E})}};return m.jsxs("div",{className:"min-h-screen bg-gray-50",children:[m.jsxs("nav",{className:"bg-white shadow-lg",children:[m.jsx("div",{className:"max-w-7xl mx-auto px-4",children:m.jsxs("div",{className:"flex justify-between items-center h-16",children:[m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx(Ao,{className:"h-8 w-8 text-indigo-600"}),m.jsx("span",{className:"text-xl font-bold text-gray-800",children:"IAPrender"})]}),m.jsxs("div",{className:"hidden md:flex space-x-8",children:[m.jsx("button",{onClick:()=>e("dashboard"),className:`px-3 py-2 rounded-md text-sm font-medium transition-colors ${s==="dashboard"?"bg-indigo-100 text-indigo-700":"text-gray-600 hover:text-gray-900"}`,children:"📊 Dashboard"}),m.jsx("button",{onClick:()=>e("games"),className:`px-3 py-2 rounded-md text-sm font-medium transition-colors ${s==="games"?"bg-indigo-100 text-indigo-700":"text-gray-600 hover:text-gray-900"}`,children:"🎮 Jogos Básicos"}),m.jsx("button",{onClick:()=>e("tech-modules"),className:`px-3 py-2 rounded-md text-sm font-medium transition-colors ${s==="tech-modules"?"bg-indigo-100 text-indigo-700":"text-gray-600 hover:text-gray-900"}`,children:"💻 Módulos Tech"}),m.jsx("button",{onClick:()=>e("chat"),className:`px-3 py-2 rounded-md text-sm font-medium transition-colors ${s==="chat"?"bg-indigo-100 text-indigo-700":"text-gray-600 hover:text-gray-900"}`,children:"🤖 Assistente"})]}),m.jsxs("div",{className:"flex items-center space-x-4",children:[m.jsxs("span",{className:"text-sm text-gray-600",children:["Olá, ",(g==null?void 0:g.displayName)||"Estudante","!"]}),m.jsx("button",{onClick:M,className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:"Sair"})]})]})}),m.jsx("div",{className:"md:hidden border-t border-gray-200",children:m.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1",children:[m.jsx("button",{onClick:()=>e("dashboard"),className:`block w-full text-left px-3 py-2 rounded-md text-base font-medium transition-colors ${s==="dashboard"?"bg-indigo-100 text-indigo-700":"text-gray-600 hover:text-gray-900"}`,children:"📊 Dashboard"}),m.jsx("button",{onClick:()=>e("games"),className:`block w-full text-left px-3 py-2 rounded-md text-base font-medium transition-colors ${s==="games"?"bg-indigo-100 text-indigo-700":"text-gray-600 hover:text-gray-900"}`,children:"🎮 Jogos Básicos"}),m.jsx("button",{onClick:()=>e("tech-modules"),className:`block w-full text-left px-3 py-2 rounded-md text-base font-medium transition-colors ${s==="tech-modules"?"bg-indigo-100 text-indigo-700":"text-gray-600 hover:text-gray-900"}`,children:"💻 Módulos Tech"}),m.jsx("button",{onClick:()=>e("chat"),className:`block w-full text-left px-3 py-2 rounded-md text-base font-medium transition-colors ${s==="chat"?"bg-indigo-100 text-indigo-700":"text-gray-600 hover:text-gray-900"}`,children:"🤖 Assistente"})]})})]}),m.jsx("main",{children:L()}),m.jsxs("button",{onClick:()=>p(!0),className:"fixed bottom-6 right-6 bg-pink-500 hover:bg-pink-600 text-white px-6 py-3 rounded-full shadow-lg transition-all duration-300 hover:scale-110 z-40 flex items-center space-x-2",title:"Precisa de suporte emocional?",children:[m.jsx(Rp,{className:"h-5 w-5"}),m.jsx("span",{className:"hidden sm:inline text-sm font-medium",children:"Estou Mal"})]}),m.jsx(Zb,{isOpen:h,onClose:()=>p(!1)})]})}function Ij(){return m.jsx(zD,{children:m.jsx(Cj,{})})}hS.createRoot(document.getElementById("root")).render(m.jsx(V.StrictMode,{children:m.jsx(Ij,{})}));
